{"ast":null,"code":"// src/components/PrivateRoute.jsx\nimport React,{useEffect}from'react';import{Navigate,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import LoadingSpinner from'./LoadingSpinner';import{Capacitor}from'@capacitor/core';import{StatusBar}from'@capacitor/status-bar';import{jsx as _jsx}from\"react/jsx-runtime\";const PrivateRoute=_ref=>{let{children}=_ref;const{user,loading,initialCheckDone}=useAuth();const location=useLocation();// Configurações específicas para mobile\nuseEffect(()=>{if(Capacitor.isNativePlatform()){StatusBar.setBackgroundColor({color:'#121212'});}},[]);if(loading||!initialCheckDone){return/*#__PURE__*/_jsx(LoadingSpinner,{fullPage:true});}if(!user){// Redirecionamento otimizado para mobile\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true,state:{from:location,message:'Por favor faça login para acessar esta página',// Adiciona flag para mobile\nisMobile:Capacitor.isNativePlatform()}});}// Adiciona container seguro para mobile\nreturn Capacitor.isNativePlatform()?/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'env(safe-area-inset-top)',paddingBottom:'env(safe-area-inset-bottom)',minHeight:'calc(100vh - 60px)'// Ajuste para a navbar\n},children:children}):children;};export default PrivateRoute;","map":{"version":3,"names":["React","useEffect","Navigate","useLocation","useAuth","LoadingSpinner","Capacitor","StatusBar","jsx","_jsx","PrivateRoute","_ref","children","user","loading","initialCheckDone","location","isNativePlatform","setBackgroundColor","color","fullPage","to","replace","state","from","message","isMobile","style","paddingTop","paddingBottom","minHeight"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/jokersta_apk/src/components/PrivateRoute.jsx"],"sourcesContent":["// src/components/PrivateRoute.jsx\nimport React, { useEffect } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport LoadingSpinner from './LoadingSpinner';\nimport { Capacitor } from '@capacitor/core';\nimport { StatusBar } from '@capacitor/status-bar';\n\nconst PrivateRoute = ({ children }) => {\n  const { user, loading, initialCheckDone } = useAuth();\n  const location = useLocation();\n\n  // Configurações específicas para mobile\n  useEffect(() => {\n    if (Capacitor.isNativePlatform()) {\n      StatusBar.setBackgroundColor({ color: '#121212' });\n    }\n  }, []);\n\n  if (loading || !initialCheckDone) {\n    return <LoadingSpinner fullPage />;\n  }\n\n  if (!user) {\n    // Redirecionamento otimizado para mobile\n    return (\n      <Navigate \n        to=\"/login\" \n        replace \n        state={{ \n          from: location,\n          message: 'Por favor faça login para acessar esta página',\n          // Adiciona flag para mobile\n          isMobile: Capacitor.isNativePlatform()\n        }} \n      />\n    );\n  }\n\n  // Adiciona container seguro para mobile\n  return Capacitor.isNativePlatform() ? (\n    <div style={{ \n      paddingTop: 'env(safe-area-inset-top)',\n      paddingBottom: 'env(safe-area-inset-bottom)',\n      minHeight: 'calc(100vh - 60px)' // Ajuste para a navbar\n    }}>\n      {children}\n    </div>\n  ) : (\n    children\n  );\n};\n\nexport default PrivateRoute;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,OAASC,OAAO,KAAQ,yBAAyB,CACjD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,OAASC,SAAS,KAAQ,iBAAiB,CAC3C,OAASC,SAAS,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElD,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAChC,KAAM,CAAEE,IAAI,CAAEC,OAAO,CAAEC,gBAAiB,CAAC,CAAGX,OAAO,CAAC,CAAC,CACrD,KAAM,CAAAY,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B;AACAF,SAAS,CAAC,IAAM,CACd,GAAIK,SAAS,CAACW,gBAAgB,CAAC,CAAC,CAAE,CAChCV,SAAS,CAACW,kBAAkB,CAAC,CAAEC,KAAK,CAAE,SAAU,CAAC,CAAC,CACpD,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIL,OAAO,EAAI,CAACC,gBAAgB,CAAE,CAChC,mBAAON,IAAA,CAACJ,cAAc,EAACe,QAAQ,MAAE,CAAC,CACpC,CAEA,GAAI,CAACP,IAAI,CAAE,CACT;AACA,mBACEJ,IAAA,CAACP,QAAQ,EACPmB,EAAE,CAAC,QAAQ,CACXC,OAAO,MACPC,KAAK,CAAE,CACLC,IAAI,CAAER,QAAQ,CACdS,OAAO,CAAE,+CAA+C,CACxD;AACAC,QAAQ,CAAEpB,SAAS,CAACW,gBAAgB,CAAC,CACvC,CAAE,CACH,CAAC,CAEN,CAEA;AACA,MAAO,CAAAX,SAAS,CAACW,gBAAgB,CAAC,CAAC,cACjCR,IAAA,QAAKkB,KAAK,CAAE,CACVC,UAAU,CAAE,0BAA0B,CACtCC,aAAa,CAAE,6BAA6B,CAC5CC,SAAS,CAAE,oBAAqB;AAClC,CAAE,CAAAlB,QAAA,CACCA,QAAQ,CACN,CAAC,CAENA,QACD,CACH,CAAC,CAED,cAAe,CAAAF,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}