{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useParams,useNavigate}from'react-router-dom';import styled from'styled-components';import{useAuth}from'../contexts/AuthContext';import{Helmet}from'react-helmet';import api from'../services/api';import{FiArrowLeft,FiHeart,FiMessageSquare,FiShare2,FiMoreVertical,FiTrash2,FiX}from'react-icons/fi';import{FaHeart,FaRegComment}from'react-icons/fa';import CommentSection from'../components/CommentSection';import{formatDistanceToNow}from'date-fns';import{ptBR}from'date-fns/locale';import LoadingSpinner from'../components/LoadingSpinner';import ErrorMessage from'../components/ErrorMessage';import{toast}from'react-toastify';import{buildUrl}from'../utils/utils';// Estilos\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MemeDetailContainer=styled.div`\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n  background: var(--background);\n  color: var(--text);\n`;const Header=styled.header`\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid var(--border-light);\n  position: sticky;\n  top: 0;\n  background: var(--background);\n  z-index: 10;\n  padding-top: 10px;\n`;const BackButton=styled.button`\n  background: none;\n  border: none;\n  color: var(--primary);\n  cursor: pointer;\n  margin-right: 15px;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  padding: 8px;\n  border-radius: 50%;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: rgba(255, 69, 0, 0.1);\n  }\n`;const MemeContent=styled.article`\n  margin-bottom: 30px;\n  border-radius: var(--radius-md);\n  overflow: hidden;\n  box-shadow: var(--shadow);\n  background: var(--card-bg);\n`;const UserInfo=styled.div`\n  display: flex;\n  align-items: center;\n  padding: 15px;\n  position: relative;\n`;const Avatar=styled.img`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 10px;\n  border: 2px solid var(--primary-light);\n  cursor: pointer;\n  transition: transform 0.2s;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n`;const Username=styled.span`\n  font-weight: 600;\n  color: var(--primary);\n  cursor: pointer;\n  transition: color 0.2s;\n\n  &:hover {\n    color: var(--primary-dark);\n  }\n`;const Timestamp=styled.span`\n  font-size: 0.8rem;\n  color: var(--text-light);\n  margin-left: auto;\n`;const OptionsButton=styled.button`\n  background: none;\n  border: none;\n  color: var(--text-light);\n  cursor: pointer;\n  margin-left: 10px;\n  font-size: 1.2rem;\n  transition: color 0.2s;\n\n  &:hover {\n    color: var(--primary);\n  }\n`;const MemeMedia=styled.div`\n  width: 100%;\n  max-height: 80vh;\n  background: var(--background-light);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n\n  img, video {\n    width: 100%;\n    max-height: 80vh;\n    object-fit: contain;\n    display: block;\n  }\n\n  video {\n    background: #000;\n    width: 100%;\n  }\n`;const Caption=styled.p`\n  font-size: 1rem;\n  padding: 15px;\n  margin: 0;\n  line-height: 1.5;\n  white-space: pre-wrap;\n  word-break: break-word;\n  border-bottom: 1px solid var(--border-light);\n`;const Tags=styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  padding: 0 15px 15px;\n`;const Tag=styled.span`\n  background: rgba(255, 69, 0, 0.1);\n  color: var(--primary);\n  padding: 4px 10px;\n  border-radius: 20px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background: rgba(255, 69, 0, 0.2);\n    transform: translateY(-2px);\n  }\n`;const Actions=styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 15px;\n  border-top: 1px solid var(--border-light);\n`;const ActionButton=styled.button`\n  background: none;\n  border: none;\n  color: var(--text-light);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  font-size: 0.9rem;\n  padding: 8px 12px;\n  border-radius: var(--radius-sm);\n  transition: all 0.2s;\n\n  &:hover {\n    background: rgba(255, 69, 0, 0.1);\n    color: var(--primary);\n  }\n\n  &.active {\n    color: var(--primary);\n  }\n`;const ConfirmationDialog=styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n`;const DialogContent=styled.div`\n  background: var(--card-bg);\n  padding: 2rem;\n  border-radius: var(--radius-md);\n  width: 90%;\n  max-width: 400px;\n  box-shadow: var(--shadow-lg);\n`;const DialogTitle=styled.h3`\n  margin: 0 0 1.5rem;\n  color: var(--text);\n  font-size: 1.2rem;\n  text-align: center;\n`;const DialogButtons=styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n`;const DialogButton=styled.button`\n  padding: 0.75rem 1.5rem;\n  border-radius: var(--radius-sm);\n  border: none;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  transition: var(--transition);\n  \n  &:first-child {\n    background: var(--danger);\n    color: white;\n    \n    &:hover {\n      background: var(--danger-dark);\n    }\n  }\n  \n  &:last-child {\n    background: var(--background-light);\n    color: var(--text);\n    border: 1px solid var(--border);\n    \n    &:hover {\n      background: var(--background);\n    }\n  }\n`;const MemeDetailPage=()=>{var _meme$tags,_meme$mediaUrl,_meme$author2,_meme$author3,_meme$author4,_meme$author4$profile,_meme$author5,_meme$author8,_meme$author9,_meme$tags2;const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[meme,setMeme]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[liked,setLiked]=useState(false);const[likeCount,setLikeCount]=useState(0);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[isDeleting,setIsDeleting]=useState(false);const fetchMeme=useCallback(async()=>{console.log('[fetchMeme] Iniciando busca do meme, ID:',id);try{var _memeData$likes,_memeData$likes2;setLoading(true);const response=await api.get(`/memes/${id}`);console.log('[fetchMeme] Resposta da API:',response.data);const memeData=response.data;setMeme(memeData);setLiked(((_memeData$likes=memeData.likes)===null||_memeData$likes===void 0?void 0:_memeData$likes.includes(user===null||user===void 0?void 0:user._id))||false);setLikeCount(((_memeData$likes2=memeData.likes)===null||_memeData$likes2===void 0?void 0:_memeData$likes2.length)||0);console.log('[fetchMeme] Meme carregado com sucesso');}catch(err){var _err$response,_err$response$data,_err$response2,_err$response2$data;console.error('Erro ao carregar meme:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Meme não encontrado');toast.error(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Erro ao carregar meme');}finally{console.log('[fetchMeme] Finalizando carga, loading:',false);setLoading(false);}},[id,user===null||user===void 0?void 0:user._id]);const handleLike=useCallback(async()=>{if(!user){navigate('/login',{state:{from:`/memes/${id}`}});return;}try{const response=await api.post(`/memes/${id}/like`);setLiked(response.data.isLiked);setLikeCount(response.data.likeCount);toast.success(response.data.isLiked?'Meme curtido!':'Curtida removida');}catch(err){var _err$response3,_err$response3$data;console.error('Erro ao curtir:',err);toast.error(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||'Erro ao curtir meme');}},[id,user,navigate]);const handleShare=useCallback(()=>{if(navigator.share){var _meme$author;navigator.share({title:(meme===null||meme===void 0?void 0:meme.caption)||'Confira este meme!',text:`Meme postado por @${meme===null||meme===void 0?void 0:(_meme$author=meme.author)===null||_meme$author===void 0?void 0:_meme$author.username}`,url:`${window.location.origin}/memes/${id}`}).catch(()=>{// Fallback para copiar o link\nnavigator.clipboard.writeText(`${window.location.origin}/memes/${id}`);toast.success('Link copiado para a área de transferência!');});}else{navigator.clipboard.writeText(`${window.location.origin}/memes/${id}`);toast.success('Link copiado para a área de transferência!');}},[id,meme]);const handleDelete=useCallback(async()=>{try{setIsDeleting(true);await api.delete(`/memes/${id}`);toast.success('Meme deletado com sucesso!');navigate('/');}catch(err){var _err$response4,_err$response4$data;console.error('Erro ao deletar meme:',err);toast.error(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||'Erro ao deletar meme');}finally{setIsDeleting(false);setShowDeleteConfirm(false);}},[id,navigate]);useEffect(()=>{console.log('[MemeDetailPage] Componente montado, ID:',id);fetchMeme();return()=>{console.log('[MemeDetailPage] Componente desmontado');};},[fetchMeme]);if(loading){return/*#__PURE__*/_jsx(MemeDetailContainer,{children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(MemeDetailContainer,{children:/*#__PURE__*/_jsx(ErrorMessage,{message:error,onRetry:fetchMeme})});}if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{});if(!meme){console.error('[MemeDetailPage] Meme não encontrado, estado atual:',{loading,error,meme});return/*#__PURE__*/_jsx(MemeDetailContainer,{children:/*#__PURE__*/_jsx(ErrorMessage,{message:\"Meme n\\xE3o encontrado\"})});}console.log('[MemeDetailPage] Renderizando meme:',{id:meme._id,mediaType:meme.mediaType,hasCaption:!!meme.caption,tagsCount:((_meme$tags=meme.tags)===null||_meme$tags===void 0?void 0:_meme$tags.length)||0});const isVideo=meme.mediaType==='video'||((_meme$mediaUrl=meme.mediaUrl)===null||_meme$mediaUrl===void 0?void 0:_meme$mediaUrl.endsWith('.mp4'));const fullMediaUrl=buildUrl(meme.mediaUrl);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsxs(\"title\",{children:[meme.caption?`${meme.caption.substring(0,60)}...`:'Visualizar Meme',\" | iFunny Clone\"]}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:`Meme postado por @${(_meme$author2=meme.author)===null||_meme$author2===void 0?void 0:_meme$author2.username}`}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:meme.caption||'Meme interessante'}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:description\",content:`Meme postado por @${(_meme$author3=meme.author)===null||_meme$author3===void 0?void 0:_meme$author3.username}`}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:image\",content:fullMediaUrl}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:url\",content:`${window.location.origin}/memes/${meme._id}`})]}),/*#__PURE__*/_jsxs(MemeDetailContainer,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(BackButton,{onClick:()=>navigate(-1),\"aria-label\":\"Voltar\",children:/*#__PURE__*/_jsx(FiArrowLeft,{})}),/*#__PURE__*/_jsx(\"h1\",{style:{flex:1,fontSize:'1.2rem'},children:\"Detalhes do Meme\"})]}),/*#__PURE__*/_jsxs(MemeContent,{children:[/*#__PURE__*/_jsxs(UserInfo,{children:[/*#__PURE__*/_jsx(Avatar,{src:buildUrl((_meme$author4=meme.author)===null||_meme$author4===void 0?void 0:(_meme$author4$profile=_meme$author4.profile)===null||_meme$author4$profile===void 0?void 0:_meme$author4$profile.avatar)||'https://i.pravatar.cc/150?img=3',alt:(_meme$author5=meme.author)===null||_meme$author5===void 0?void 0:_meme$author5.username,onClick:()=>{var _meme$author6;return navigate(`/users/${(_meme$author6=meme.author)===null||_meme$author6===void 0?void 0:_meme$author6._id}`);},onError:e=>{e.target.src='https://i.pravatar.cc/150?img=3';}}),/*#__PURE__*/_jsxs(Username,{onClick:()=>{var _meme$author7;return navigate(`/users/${(_meme$author7=meme.author)===null||_meme$author7===void 0?void 0:_meme$author7._id}`);},children:[\"@\",((_meme$author8=meme.author)===null||_meme$author8===void 0?void 0:_meme$author8.username)||'desconhecido']}),/*#__PURE__*/_jsx(Timestamp,{children:formatDistanceToNow(new Date(meme.createdAt),{addSuffix:true,locale:ptBR})}),(user===null||user===void 0?void 0:user._id)===((_meme$author9=meme.author)===null||_meme$author9===void 0?void 0:_meme$author9._id)&&/*#__PURE__*/_jsx(OptionsButton,{onClick:()=>setShowDeleteConfirm(true),\"aria-label\":\"Op\\xE7\\xF5es\",children:/*#__PURE__*/_jsx(FiMoreVertical,{})})]}),meme.caption&&/*#__PURE__*/_jsx(Caption,{children:meme.caption}),((_meme$tags2=meme.tags)===null||_meme$tags2===void 0?void 0:_meme$tags2.length)>0&&/*#__PURE__*/_jsx(Tags,{children:meme.tags.map((tag,index)=>/*#__PURE__*/_jsxs(Tag,{onClick:()=>navigate(`/explore?tag=${tag}`),children:[\"#\",tag]},index))}),/*#__PURE__*/_jsx(MemeMedia,{children:isVideo?/*#__PURE__*/_jsxs(\"video\",{controls:true,playsInline:true,poster:meme.thumbnailUrl?buildUrl(meme.thumbnailUrl):undefined,children:[/*#__PURE__*/_jsx(\"source\",{src:fullMediaUrl,type:\"video/mp4\"}),\"Seu navegador n\\xE3o suporta v\\xEDdeos HTML5.\"]}):/*#__PURE__*/_jsx(\"img\",{src:fullMediaUrl,alt:meme.caption||'Meme',loading:\"lazy\",onError:e=>{e.target.src='https://via.placeholder.com/600x400?text=Imagem+nao+carregada';}})}),/*#__PURE__*/_jsxs(Actions,{children:[/*#__PURE__*/_jsxs(ActionButton,{onClick:handleLike,className:liked?'active':'',\"aria-label\":liked?'Remover curtida':'Curtir',children:[liked?/*#__PURE__*/_jsx(FaHeart,{color:\"var(--primary)\"}):/*#__PURE__*/_jsx(FiHeart,{}),likeCount]}),/*#__PURE__*/_jsxs(ActionButton,{\"aria-label\":\"Coment\\xE1rios\",children:[/*#__PURE__*/_jsx(FaRegComment,{}),meme.commentCount||0]}),/*#__PURE__*/_jsxs(ActionButton,{onClick:handleShare,\"aria-label\":\"Compartilhar\",children:[/*#__PURE__*/_jsx(FiShare2,{}),\"Compartilhar\"]})]})]}),/*#__PURE__*/_jsx(CommentSection,{memeId:id,currentUser:user,onCommentSubmit:fetchMeme}),showDeleteConfirm&&/*#__PURE__*/_jsx(ConfirmationDialog,{children:/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Tem certeza que deseja deletar este meme?\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:'var(--text-light)'},children:\"Esta a\\xE7\\xE3o \\xE9 irrevers\\xEDvel e remover\\xE1 o meme permanentemente.\"}),/*#__PURE__*/_jsxs(DialogButtons,{children:[/*#__PURE__*/_jsxs(DialogButton,{onClick:handleDelete,disabled:isDeleting,children:[/*#__PURE__*/_jsx(FiTrash2,{}),isDeleting?'Deletando...':'Deletar']}),/*#__PURE__*/_jsxs(DialogButton,{onClick:()=>setShowDeleteConfirm(false),disabled:isDeleting,children:[/*#__PURE__*/_jsx(FiX,{}),\"Cancelar\"]})]})]})})]})]});};export default MemeDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","styled","useAuth","Helmet","api","FiArrowLeft","FiHeart","FiMessageSquare","FiShare2","FiMoreVertical","FiTrash2","FiX","FaHeart","FaRegComment","CommentSection","formatDistanceToNow","ptBR","LoadingSpinner","ErrorMessage","toast","buildUrl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MemeDetailContainer","div","Header","header","BackButton","button","MemeContent","article","UserInfo","Avatar","img","Username","span","Timestamp","OptionsButton","MemeMedia","Caption","p","Tags","Tag","Actions","ActionButton","ConfirmationDialog","DialogContent","DialogTitle","h3","DialogButtons","DialogButton","MemeDetailPage","_meme$tags","_meme$mediaUrl","_meme$author2","_meme$author3","_meme$author4","_meme$author4$profile","_meme$author5","_meme$author8","_meme$author9","_meme$tags2","id","navigate","user","meme","setMeme","loading","setLoading","error","setError","liked","setLiked","likeCount","setLikeCount","showDeleteConfirm","setShowDeleteConfirm","isDeleting","setIsDeleting","fetchMeme","console","log","_memeData$likes","_memeData$likes2","response","get","data","memeData","likes","includes","_id","length","err","_err$response","_err$response$data","_err$response2","_err$response2$data","message","handleLike","state","from","post","isLiked","success","_err$response3","_err$response3$data","handleShare","navigator","share","_meme$author","title","caption","text","author","username","url","window","location","origin","catch","clipboard","writeText","handleDelete","delete","_err$response4","_err$response4$data","children","onRetry","mediaType","hasCaption","tagsCount","tags","isVideo","mediaUrl","endsWith","fullMediaUrl","substring","name","content","property","onClick","style","flex","fontSize","src","profile","avatar","alt","_meme$author6","onError","e","target","_meme$author7","Date","createdAt","addSuffix","locale","map","tag","index","controls","playsInline","poster","thumbnailUrl","undefined","type","className","color","commentCount","memeId","currentUser","onCommentSubmit","textAlign","disabled"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/client2/src/pages/MemeDetailPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { Helmet } from 'react-helmet';\r\nimport api from '../services/api';\r\nimport { \r\n  FiArrowLeft, \r\n  FiHeart, \r\n  FiMessageSquare, \r\n  FiShare2, \r\n  FiMoreVertical,\r\n  FiTrash2,\r\n  FiX\r\n} from 'react-icons/fi';\r\nimport { FaHeart, FaRegComment } from 'react-icons/fa';\r\nimport CommentSection from '../components/CommentSection';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport ErrorMessage from '../components/ErrorMessage';\r\nimport { toast } from 'react-toastify';\r\nimport { buildUrl } from '../utils/utils';\r\n\r\n\r\n// Estilos\r\nconst MemeDetailContainer = styled.div`\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background: var(--background);\r\n  color: var(--text);\r\n`;\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid var(--border-light);\r\n  position: sticky;\r\n  top: 0;\r\n  background: var(--background);\r\n  z-index: 10;\r\n  padding-top: 10px;\r\n`;\r\n\r\nconst BackButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--primary);\r\n  cursor: pointer;\r\n  margin-right: 15px;\r\n  font-size: 1.2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px;\r\n  border-radius: 50%;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: rgba(255, 69, 0, 0.1);\r\n  }\r\n`;\r\n\r\nconst MemeContent = styled.article`\r\n  margin-bottom: 30px;\r\n  border-radius: var(--radius-md);\r\n  overflow: hidden;\r\n  box-shadow: var(--shadow);\r\n  background: var(--card-bg);\r\n`;\r\n\r\nconst UserInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px;\r\n  position: relative;\r\n`;\r\n\r\nconst Avatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-right: 10px;\r\n  border: 2px solid var(--primary-light);\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Username = styled.span`\r\n  font-weight: 600;\r\n  color: var(--primary);\r\n  cursor: pointer;\r\n  transition: color 0.2s;\r\n\r\n  &:hover {\r\n    color: var(--primary-dark);\r\n  }\r\n`;\r\n\r\nconst Timestamp = styled.span`\r\n  font-size: 0.8rem;\r\n  color: var(--text-light);\r\n  margin-left: auto;\r\n`;\r\n\r\nconst OptionsButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-light);\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n  font-size: 1.2rem;\r\n  transition: color 0.2s;\r\n\r\n  &:hover {\r\n    color: var(--primary);\r\n  }\r\n`;\r\n\r\nconst MemeMedia = styled.div`\r\n  width: 100%;\r\n  max-height: 80vh;\r\n  background: var(--background-light);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  img, video {\r\n    width: 100%;\r\n    max-height: 80vh;\r\n    object-fit: contain;\r\n    display: block;\r\n  }\r\n\r\n  video {\r\n    background: #000;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst Caption = styled.p`\r\n  font-size: 1rem;\r\n  padding: 15px;\r\n  margin: 0;\r\n  line-height: 1.5;\r\n  white-space: pre-wrap;\r\n  word-break: break-word;\r\n  border-bottom: 1px solid var(--border-light);\r\n`;\r\n\r\nconst Tags = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  padding: 0 15px 15px;\r\n`;\r\n\r\nconst Tag = styled.span`\r\n  background: rgba(255, 69, 0, 0.1);\r\n  color: var(--primary);\r\n  padding: 4px 10px;\r\n  border-radius: 20px;\r\n  font-size: 0.8rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    background: rgba(255, 69, 0, 0.2);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px 15px;\r\n  border-top: 1px solid var(--border-light);\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-light);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 0.9rem;\r\n  padding: 8px 12px;\r\n  border-radius: var(--radius-sm);\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    background: rgba(255, 69, 0, 0.1);\r\n    color: var(--primary);\r\n  }\r\n\r\n  &.active {\r\n    color: var(--primary);\r\n  }\r\n`;\r\n\r\nconst ConfirmationDialog = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst DialogContent = styled.div`\r\n  background: var(--card-bg);\r\n  padding: 2rem;\r\n  border-radius: var(--radius-md);\r\n  width: 90%;\r\n  max-width: 400px;\r\n  box-shadow: var(--shadow-lg);\r\n`;\r\n\r\nconst DialogTitle = styled.h3`\r\n  margin: 0 0 1.5rem;\r\n  color: var(--text);\r\n  font-size: 1.2rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst DialogButtons = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  justify-content: center;\r\n  margin-top: 2rem;\r\n`;\r\n\r\nconst DialogButton = styled.button`\r\n  padding: 0.75rem 1.5rem;\r\n  border-radius: var(--radius-sm);\r\n  border: none;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  transition: var(--transition);\r\n  \r\n  &:first-child {\r\n    background: var(--danger);\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: var(--danger-dark);\r\n    }\r\n  }\r\n  \r\n  &:last-child {\r\n    background: var(--background-light);\r\n    color: var(--text);\r\n    border: 1px solid var(--border);\r\n    \r\n    &:hover {\r\n      background: var(--background);\r\n    }\r\n  }\r\n`;\r\n\r\nconst MemeDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [meme, setMeme] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [liked, setLiked] = useState(false);\r\n  const [likeCount, setLikeCount] = useState(0);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  const fetchMeme = useCallback(async () => {\r\n    console.log('[fetchMeme] Iniciando busca do meme, ID:', id);\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/memes/${id}`);\r\n      console.log('[fetchMeme] Resposta da API:', response.data);\r\n      const memeData = response.data;\r\n      \r\n      setMeme(memeData);\r\n      setLiked(memeData.likes?.includes(user?._id) || false);\r\n      setLikeCount(memeData.likes?.length || 0);\r\n      console.log('[fetchMeme] Meme carregado com sucesso');\r\n    } catch (err) {\r\n      console.error('Erro ao carregar meme:', err);\r\n      setError(err.response?.data?.message || 'Meme não encontrado');\r\n      toast.error(err.response?.data?.message || 'Erro ao carregar meme');\r\n    } finally {\r\n      console.log('[fetchMeme] Finalizando carga, loading:', false);\r\n      setLoading(false);\r\n    }\r\n  }, [id, user?._id]);\r\n\r\n  const handleLike = useCallback(async () => {\r\n    if (!user) {\r\n      navigate('/login', { state: { from: `/memes/${id}` } });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.post(`/memes/${id}/like`);\r\n      setLiked(response.data.isLiked);\r\n      setLikeCount(response.data.likeCount);\r\n      \r\n      toast.success(\r\n        response.data.isLiked \r\n          ? 'Meme curtido!' \r\n          : 'Curtida removida'\r\n      );\r\n    } catch (err) {\r\n      console.error('Erro ao curtir:', err);\r\n      toast.error(err.response?.data?.message || 'Erro ao curtir meme');\r\n    }\r\n  }, [id, user, navigate]);\r\n\r\n  const handleShare = useCallback(() => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: meme?.caption || 'Confira este meme!',\r\n        text: `Meme postado por @${meme?.author?.username}`,\r\n        url: `${window.location.origin}/memes/${id}`,\r\n      }).catch(() => {\r\n        // Fallback para copiar o link\r\n        navigator.clipboard.writeText(`${window.location.origin}/memes/${id}`);\r\n        toast.success('Link copiado para a área de transferência!');\r\n      });\r\n    } else {\r\n      navigator.clipboard.writeText(`${window.location.origin}/memes/${id}`);\r\n      toast.success('Link copiado para a área de transferência!');\r\n    }\r\n  }, [id, meme]);\r\n\r\n  const handleDelete = useCallback(async () => {\r\n    try {\r\n      setIsDeleting(true);\r\n      await api.delete(`/memes/${id}`);\r\n      toast.success('Meme deletado com sucesso!');\r\n      navigate('/');\r\n    } catch (err) {\r\n      console.error('Erro ao deletar meme:', err);\r\n      toast.error(err.response?.data?.message || 'Erro ao deletar meme');\r\n    } finally {\r\n      setIsDeleting(false);\r\n      setShowDeleteConfirm(false);\r\n    }\r\n  }, [id, navigate]);\r\n\r\n  useEffect(() => {\r\n    console.log('[MemeDetailPage] Componente montado, ID:', id);\r\n    fetchMeme();\r\n    \r\n    return () => {\r\n      console.log('[MemeDetailPage] Componente desmontado');\r\n    };\r\n  }, [fetchMeme]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <MemeDetailContainer>\r\n        <LoadingSpinner />\r\n      </MemeDetailContainer>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <MemeDetailContainer>\r\n        <ErrorMessage message={error} onRetry={fetchMeme} />\r\n      </MemeDetailContainer>\r\n    );\r\n  }\r\n  if (loading) return <LoadingSpinner />;\r\n  if (!meme) {\r\n    console.error('[MemeDetailPage] Meme não encontrado, estado atual:', {\r\n      loading,\r\n      error,\r\n      meme\r\n    });\r\n    return (\r\n      <MemeDetailContainer>\r\n        <ErrorMessage message=\"Meme não encontrado\" />\r\n      </MemeDetailContainer>\r\n    );\r\n  }\r\n\r\n  console.log('[MemeDetailPage] Renderizando meme:', {\r\n    id: meme._id,\r\n    mediaType: meme.mediaType,\r\n    hasCaption: !!meme.caption,\r\n    tagsCount: meme.tags?.length || 0\r\n  });\r\n\r\n  const isVideo = meme.mediaType === 'video' || meme.mediaUrl?.endsWith('.mp4');\r\n  const fullMediaUrl = buildUrl(meme.mediaUrl);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{meme.caption ? `${meme.caption.substring(0, 60)}...` : 'Visualizar Meme'} | iFunny Clone</title>\r\n        <meta name=\"description\" content={`Meme postado por @${meme.author?.username}`} />\r\n        <meta property=\"og:title\" content={meme.caption || 'Meme interessante'} />\r\n        <meta property=\"og:description\" content={`Meme postado por @${meme.author?.username}`} />\r\n        <meta property=\"og:image\" content={fullMediaUrl} />\r\n        <meta property=\"og:url\" content={`${window.location.origin}/memes/${meme._id}`} />\r\n      </Helmet>\r\n\r\n      <MemeDetailContainer>\r\n        <Header>\r\n          <BackButton onClick={() => navigate(-1)} aria-label=\"Voltar\">\r\n            <FiArrowLeft />\r\n          </BackButton>\r\n          <h1 style={{ flex: 1, fontSize: '1.2rem' }}>Detalhes do Meme</h1>\r\n        </Header>\r\n\r\n        <MemeContent>\r\n          <UserInfo>\r\n            <Avatar \r\n              src={buildUrl(meme.author?.profile?.avatar) || 'https://i.pravatar.cc/150?img=3'}\r\n              alt={meme.author?.username}\r\n              onClick={() => navigate(`/users/${meme.author?._id}`)}\r\n              onError={(e) => {\r\n                e.target.src = 'https://i.pravatar.cc/150?img=3';\r\n              }}\r\n            />\r\n            <Username onClick={() => navigate(`/users/${meme.author?._id}`)}>\r\n              @{meme.author?.username || 'desconhecido'}\r\n            </Username>\r\n            <Timestamp>\r\n              {formatDistanceToNow(new Date(meme.createdAt), { \r\n                addSuffix: true,\r\n                locale: ptBR \r\n              })}\r\n            </Timestamp>\r\n            \r\n            {user?._id === meme.author?._id && (\r\n              <OptionsButton \r\n                onClick={() => setShowDeleteConfirm(true)}\r\n                aria-label=\"Opções\"\r\n              >\r\n                <FiMoreVertical />\r\n              </OptionsButton>\r\n            )}\r\n          </UserInfo>\r\n\r\n          {meme.caption && <Caption>{meme.caption}</Caption>}\r\n\r\n          {meme.tags?.length > 0 && (\r\n            <Tags>\r\n              {meme.tags.map((tag, index) => (\r\n                <Tag \r\n                  key={index} \r\n                  onClick={() => navigate(`/explore?tag=${tag}`)}\r\n                >\r\n                  #{tag}\r\n                </Tag>\r\n              ))}\r\n            </Tags>\r\n          )}\r\n\r\n          <MemeMedia>\r\n            {isVideo ? (\r\n              <video \r\n                controls\r\n                playsInline\r\n                poster={meme.thumbnailUrl ? buildUrl(meme.thumbnailUrl) : undefined}\r\n              >\r\n                <source src={fullMediaUrl} type=\"video/mp4\" />\r\n                Seu navegador não suporta vídeos HTML5.\r\n              </video>\r\n            ) : (\r\n              <img\r\n                src={fullMediaUrl}\r\n                alt={meme.caption || 'Meme'}\r\n                loading=\"lazy\"\r\n                onError={(e) => {\r\n                  e.target.src = 'https://via.placeholder.com/600x400?text=Imagem+nao+carregada';\r\n                }}\r\n              />\r\n            )}\r\n          </MemeMedia>\r\n\r\n          <Actions>\r\n            <ActionButton \r\n              onClick={handleLike} \r\n              className={liked ? 'active' : ''}\r\n              aria-label={liked ? 'Remover curtida' : 'Curtir'}\r\n            >\r\n              {liked ? <FaHeart color=\"var(--primary)\" /> : <FiHeart />}\r\n              {likeCount}\r\n            </ActionButton>\r\n            <ActionButton aria-label=\"Comentários\">\r\n              <FaRegComment />\r\n              {meme.commentCount || 0}\r\n            </ActionButton>\r\n            <ActionButton \r\n              onClick={handleShare}\r\n              aria-label=\"Compartilhar\"\r\n            >\r\n              <FiShare2 />\r\n              Compartilhar\r\n            </ActionButton>\r\n          </Actions>\r\n        </MemeContent>\r\n\r\n        <CommentSection \r\n          memeId={id} \r\n          currentUser={user}\r\n          onCommentSubmit={fetchMeme}\r\n        />\r\n\r\n        {showDeleteConfirm && (\r\n          <ConfirmationDialog>\r\n            <DialogContent>\r\n              <DialogTitle>Tem certeza que deseja deletar este meme?</DialogTitle>\r\n              <p style={{ textAlign: 'center', color: 'var(--text-light)' }}>\r\n                Esta ação é irreversível e removerá o meme permanentemente.\r\n              </p>\r\n              <DialogButtons>\r\n                <DialogButton \r\n                  onClick={handleDelete}\r\n                  disabled={isDeleting}\r\n                >\r\n                  <FiTrash2 />\r\n                  {isDeleting ? 'Deletando...' : 'Deletar'}\r\n                </DialogButton>\r\n                <DialogButton \r\n                  onClick={() => setShowDeleteConfirm(false)}\r\n                  disabled={isDeleting}\r\n                >\r\n                  <FiX />\r\n                  Cancelar\r\n                </DialogButton>\r\n              </DialogButtons>\r\n            </DialogContent>\r\n          </ConfirmationDialog>\r\n        )}\r\n      </MemeDetailContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MemeDetailPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,MAAM,KAAQ,cAAc,CACrC,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,OACEC,WAAW,CACXC,OAAO,CACPC,eAAe,CACfC,QAAQ,CACRC,cAAc,CACdC,QAAQ,CACRC,GAAG,KACE,gBAAgB,CACvB,OAASC,OAAO,CAAEC,YAAY,KAAQ,gBAAgB,CACtD,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,OAASC,mBAAmB,KAAQ,UAAU,CAC9C,OAASC,IAAI,KAAQ,iBAAiB,CACtC,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,QAAQ,KAAQ,gBAAgB,CAGzC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,mBAAmB,CAAG1B,MAAM,CAAC2B,GAAG;AACtC;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,MAAM,CAAG5B,MAAM,CAAC6B,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG9B,MAAM,CAAC+B,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGhC,MAAM,CAACiC,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGlC,MAAM,CAAC2B,GAAG;AAC3B;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAQ,MAAM,CAAGnC,MAAM,CAACoC,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGrC,MAAM,CAACsC,IAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGvC,MAAM,CAACsC,IAAI;AAC7B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAE,aAAa,CAAGxC,MAAM,CAAC+B,MAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAU,SAAS,CAAGzC,MAAM,CAAC2B,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAe,OAAO,CAAG1C,MAAM,CAAC2C,CAAC;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,IAAI,CAAG5C,MAAM,CAAC2B,GAAG;AACvB;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAkB,GAAG,CAAG7C,MAAM,CAACsC,IAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAQ,OAAO,CAAG9C,MAAM,CAAC2B,GAAG;AAC1B;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAoB,YAAY,CAAG/C,MAAM,CAAC+B,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAiB,kBAAkB,CAAGhD,MAAM,CAAC2B,GAAG;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAsB,aAAa,CAAGjD,MAAM,CAAC2B,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,C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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}