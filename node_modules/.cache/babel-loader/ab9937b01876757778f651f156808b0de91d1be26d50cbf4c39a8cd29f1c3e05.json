{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\drrod\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\ifunny-clone\\\\client\\\\src\\\\components\\\\CommentSection.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FixedSizeList as List } from 'react-window';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport api from '../services/api';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FiSend, FiCornerDownLeft, FiThumbsUp, FiThumbsDown, FiMoreHorizontal, FiEdit2, FiTrash2, FiX } from 'react-icons/fi';\nimport { FaThumbsUp, FaThumbsDown } from 'react-icons/fa';\n\n// ============ Estilos ============\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CommentContainer = styled.div`\n  padding: 16px;\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);\n`;\n_c = CommentContainer;\nconst CommentList = styled.div`\n  max-height: 500px;\n  overflow-y: auto;\n  margin-bottom: 16px;\n  padding-right: 8px;\n\n  /* Custom scrollbar */\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n  &::-webkit-scrollbar-track {\n    background: #f8f8f8;\n    border-radius: 10px;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: #ddd;\n    border-radius: 10px;\n    &:hover {\n      background: #ff4500;\n    }\n  }\n`;\n_c2 = CommentList;\nconst CommentItem = styled.div`\n  display: flex;\n  margin-bottom: 16px;\n  position: relative;\n  transition: all 0.2s ease;\n  margin-left: ${props => props.$depth * 20}px;\n  border-left: ${props => props.$depth > 0 ? '2px solid #ff4500' : 'none'};\n  padding-left: ${props => props.$depth > 0 ? '12px' : '0'};\n\n  &:hover {\n    transform: translateX(2px);\n  }\n`;\n_c3 = CommentItem;\nconst CommentAvatar = styled.img`\n  width: ${props => props.$isReply ? '32px' : '40px'};\n  height: ${props => props.$isReply ? '32px' : '40px'};\n  border-radius: 50%;\n  margin-right: 12px;\n  object-fit: cover;\n  border: 2px solid #f0f0f0;\n  transition: all 0.2s;\n\n  &:hover {\n    border-color: #ff4500;\n    transform: scale(1.05);\n  }\n`;\n_c4 = CommentAvatar;\nconst CommentContent = styled.div`\n  flex: 1;\n  background: ${props => props.$isReply ? '#f5f5f5' : '#f9f9f9'};\n  padding: 12px;\n  border-radius: 12px;\n  position: relative;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n  overflow: visible;\n`;\n_c5 = CommentContent;\nconst CommentHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  position: relative;\n`;\n_c6 = CommentHeader;\nconst CommentUser = styled.div`\n  font-weight: 600;\n  font-size: 0.95rem;\n  color: #333;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n`;\n_c7 = CommentUser;\nconst UserBadge = styled.span`\n  font-size: 0.7rem;\n  background: linear-gradient(135deg, #ff4500, #ff8c00);\n  color: white;\n  padding: 2px 6px;\n  border-radius: 12px;\n`;\n_c8 = UserBadge;\nconst CommentText = styled.p`\n  margin: 8px 0;\n  font-size: 0.95rem;\n  line-height: 1.5;\n  color: #333;\n  white-space: pre-wrap;\n  word-break: break-word;\n  ${props => props.$isDeleted && 'font-style: italic; color: #999;'}\n`;\n_c9 = CommentText;\nconst CommentTime = styled.small`\n  display: block;\n  font-size: 0.75rem;\n  color: #999;\n  margin-top: 4px;\n`;\n_c10 = CommentTime;\nconst CommentForm = styled.form`\n  display: flex;\n  align-items: center;\n  margin-top: 16px;\n  background: #fff;\n  border-radius: 24px;\n  padding: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s;\n\n  &:focus-within {\n    box-shadow: 0 2px 12px rgba(255, 69, 0, 0.2);\n  }\n`;\n_c11 = CommentForm;\nconst CommentInput = styled.input`\n  flex: 1;\n  padding: 12px 16px;\n  border: none;\n  border-radius: 24px;\n  font-size: 0.95rem;\n  outline: none;\n  background: #f9f9f9;\n  transition: all 0.2s;\n\n  &:focus {\n    background: #f0f0f0;\n    box-shadow: 0 0 0 2px rgba(255, 69, 0, 0.2);\n  }\n`;\n_c12 = CommentInput;\nconst SubmitButton = styled.button`\n  background: linear-gradient(135deg, #ff4500, #ff8c00);\n  color: white;\n  border: none;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-left: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  box-shadow: 0 2px 5px rgba(255, 69, 0, 0.3);\n\n  &:hover {\n    background: linear-gradient(135deg, #e03d00, #e07d00);\n    transform: scale(1.05);\n  }\n`;\n_c13 = SubmitButton;\nconst ReplyButton = styled.button`\n  background: none;\n  border: none;\n  color: #666;\n  font-size: 0.85rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  margin-top: 8px;\n  padding: 4px 8px;\n  border-radius: 16px;\n  transition: all 0.2s;\n\n  &:hover {\n    color: #ff4500;\n    background: rgba(255, 69, 0, 0.1);\n  }\n`;\n_c14 = ReplyButton;\nconst ReplyForm = styled.form`\n  display: flex;\n  margin: 8px 0 16px 52px;\n  background: #fff;\n  border-radius: 24px;\n  padding: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s;\n\n  &:focus-within {\n    box-shadow: 0 2px 12px rgba(255, 69, 0, 0.2);\n  }\n`;\n_c15 = ReplyForm;\nconst ReactionButtons = styled.div`\n  display: flex;\n  gap: 12px;\n  margin-top: 12px;\n`;\n_c16 = ReactionButtons;\nconst ReactionButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  background: none;\n  border: none;\n  color: ${props => props.$active ? '#ff4500' : '#666'};\n  cursor: pointer;\n  font-size: 0.85rem;\n  padding: 4px 8px;\n  border-radius: 16px;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: rgba(255, 69, 0, 0.1);\n    transform: scale(1.05);\n  }\n`;\n_c17 = ReactionButton;\nconst MoreOptionsButton = styled.button`\n  background: none;\n  border: none;\n  color: #999;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 50%;\n  transition: all 0.2s;\n\n  &:hover {\n    color: #ff4500;\n    background: rgba(0, 0, 0, 0.05);\n    transform: rotate(90deg);\n  }\n`;\n_c18 = MoreOptionsButton;\nconst OptionsMenu = styled.div`\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  background: white;\n  border: 1px solid #f0f0f0;\n  border-radius: 8px;\n  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);\n  z-index: 100;\n  min-width: 120px;\n  overflow: hidden;\n  animation: fadeIn 0.2s ease;\n\n  @keyframes fadeIn {\n    from { opacity: 0; transform: translateY(-5px) translateY(-50%); }\n    to { opacity: 1; transform: translateY(0) translateY(-50%); }\n  }\n`;\n_c19 = OptionsMenu;\nconst OptionButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: 100%;\n  padding: 8px 12px;\n  background: none;\n  border: none;\n  text-align: left;\n  color: #333;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: #f9f9f9;\n    color: #ff4500;\n  }\n`;\n_c20 = OptionButton;\nconst EditForm = styled.div`\n  margin-top: 8px;\n`;\n_c21 = EditForm;\nconst EditTextarea = styled.textarea`\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #f0f0f0;\n  border-radius: 8px;\n  resize: none;\n  font-family: inherit;\n  font-size: 0.95rem;\n  min-height: 80px;\n  margin-bottom: 8px;\n  transition: all 0.2s;\n\n  &:focus {\n    outline: none;\n    border-color: #ff4500;\n    box-shadow: 0 0 0 2px rgba(255, 69, 0, 0.2);\n  }\n`;\n_c22 = EditTextarea;\nconst EditButtons = styled.div`\n  display: flex;\n  gap: 8px;\n  justify-content: flex-end;\n`;\n_c23 = EditButtons;\nconst SaveButton = styled.button`\n  background: linear-gradient(135deg, #ff4500, #ff8c00);\n  color: white;\n  border: none;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  box-shadow: 0 2px 5px rgba(255, 69, 0, 0.3);\n\n  &:hover {\n    background: linear-gradient(135deg, #e03d00, #e07d00);\n    transform: translateY(-1px);\n  }\n`;\n_c24 = SaveButton;\nconst CancelButton = styled.button`\n  background: #f0f0f0;\n  color: #666;\n  border: none;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background: #e0e0e0;\n    transform: translateY(-1px);\n  }\n`;\n_c25 = CancelButton;\nconst LoadingMessage = styled.div`\n  text-align: center;\n  padding: 20px;\n  color: #666;\n  font-size: 0.9rem;\n`;\n_c26 = LoadingMessage;\nconst EmptyMessage = styled.div`\n  text-align: center;\n  padding: 20px;\n  color: #666;\n  font-size: 0.9rem;\n`;\n_c27 = EmptyMessage;\nconst DeletedMessage = styled.span`\n  font-style: italic;\n  color: #999;\n`;\n\n// ============ Componente Principal ============\n_c28 = DeletedMessage;\nconst CommentSection = ({\n  memeId,\n  onCommentSubmit\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [comments, setComments] = useState([]);\n  const [commentText, setCommentText] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [replyingTo, setReplyingTo] = useState(null);\n  const [replyText, setReplyText] = useState('');\n  const [editingId, setEditingId] = useState(null);\n  const [editText, setEditText] = useState('');\n  const [showOptions, setShowOptions] = useState(null);\n  const [parentCommentId, setParentCommentId] = useState(null);\n\n  // Buscar comentários\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        setLoading(true);\n        const response = await api.get(`/memes/${memeId}/comments`);\n        setComments(response.data.comments);\n      } catch (error) {\n        console.error('Erro ao buscar comentários:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchComments();\n  }, [memeId]);\n\n  // Adicionar novo comentário\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!commentText.trim()) return;\n    try {\n      await onCommentSubmit(commentText);\n      setCommentText('');\n      const response = await api.get(`/memes/${memeId}/comments`);\n      setComments(response.data.comments);\n    } catch (error) {\n      console.error('Erro ao enviar comentário:', error);\n    }\n  };\n\n  // Adicionar resposta (para comentários ou outras respostas)\n  const handleReplySubmit = async (e, replyToId, isCommentLevel = true) => {\n    e.preventDefault();\n    if (!replyText.trim()) return;\n    try {\n      let endpoint;\n      if (isCommentLevel) {\n        endpoint = `/memes/${memeId}/comments/${replyToId}/replies`;\n      } else {\n        endpoint = `/memes/${memeId}/comments/${parentCommentId}/replies/${replyToId}/replies`;\n      }\n      const response = await api.post(endpoint, {\n        text: replyText\n      });\n      const updatedComments = comments.map(comment => {\n        // Atualiza comentário principal\n        if (isCommentLevel && comment._id === replyToId) {\n          return {\n            ...comment,\n            replies: [...(comment.replies || []), response.data.reply]\n          };\n        }\n\n        // Atualiza respostas aninhadas\n        if (!isCommentLevel) {\n          const updateNestedReplies = replies => {\n            return replies.map(reply => {\n              var _reply$replies;\n              if (reply._id === replyToId) {\n                return {\n                  ...reply,\n                  replies: [...(reply.replies || []), response.data.reply]\n                };\n              }\n              if ((_reply$replies = reply.replies) !== null && _reply$replies !== void 0 && _reply$replies.length) {\n                return {\n                  ...reply,\n                  replies: updateNestedReplies(reply.replies)\n                };\n              }\n              return reply;\n            });\n          };\n          return {\n            ...comment,\n            replies: updateNestedReplies(comment.replies || [])\n          };\n        }\n        return comment;\n      });\n      setComments(updatedComments);\n      setReplyText('');\n      setReplyingTo(null);\n      setParentCommentId(null);\n    } catch (error) {\n      console.error('Erro ao enviar resposta:', error);\n    }\n  };\n\n  // Editar comentário/resposta\n  const handleEdit = comment => {\n    setEditingId(comment._id);\n    setEditText(comment.text);\n    setShowOptions(null);\n  };\n  const handleSaveEdit = async (commentId, isReply = false, parentId = null) => {\n    try {\n      let endpoint;\n      if (isReply && parentId) {\n        endpoint = `/memes/${memeId}/comments/${parentId}/replies/${commentId}`;\n      } else {\n        endpoint = `/memes/${memeId}/comments/${commentId}`;\n      }\n      const response = await api.put(endpoint, {\n        text: editText\n      });\n      const updatedComments = comments.map(comment => {\n        if (isReply) {\n          // Atualizando uma resposta\n          if (comment._id === parentId) {\n            var _comment$replies;\n            const updatedReplies = (_comment$replies = comment.replies) === null || _comment$replies === void 0 ? void 0 : _comment$replies.map(reply => {\n              if (reply._id === commentId) {\n                return {\n                  ...reply,\n                  text: response.data.reply.text,\n                  isEdited: true,\n                  updatedAt: response.data.reply.updatedAt\n                };\n              }\n              return reply;\n            });\n            return {\n              ...comment,\n              replies: updatedReplies || []\n            };\n          }\n\n          // Atualizando respostas aninhadas\n          const updateNestedReplies = replies => {\n            return replies.map(reply => {\n              var _reply$replies2;\n              if (reply._id === commentId) {\n                return {\n                  ...reply,\n                  text: response.data.reply.text,\n                  isEdited: true,\n                  updatedAt: response.data.reply.updatedAt\n                };\n              }\n              if ((_reply$replies2 = reply.replies) !== null && _reply$replies2 !== void 0 && _reply$replies2.length) {\n                return {\n                  ...reply,\n                  replies: updateNestedReplies(reply.replies)\n                };\n              }\n              return reply;\n            });\n          };\n          return {\n            ...comment,\n            replies: updateNestedReplies(comment.replies || [])\n          };\n        } else {\n          // Atualizando comentário principal\n          if (comment._id === commentId) {\n            return {\n              ...comment,\n              text: response.data.comment.text,\n              isEdited: true,\n              updatedAt: response.data.comment.updatedAt\n            };\n          }\n          return comment;\n        }\n      });\n      setComments(updatedComments);\n      setEditingId(null);\n      setEditText('');\n    } catch (error) {\n      console.error('Erro ao editar:', error);\n    }\n  };\n\n  // Excluir comentário/resposta\n  const handleDelete = async (commentId, isReply = false, parentId = null) => {\n    if (!window.confirm('Tem certeza que deseja excluir?')) return;\n    try {\n      let endpoint;\n      if (isReply && parentId) {\n        endpoint = `/memes/${memeId}/comments/${parentId}/replies/${commentId}`;\n      } else {\n        endpoint = `/memes/${memeId}/comments/${commentId}`;\n      }\n      await api.delete(endpoint);\n      const updatedComments = comments.map(comment => {\n        if (isReply) {\n          // Excluindo uma resposta\n          if (comment._id === parentId) {\n            var _comment$replies2;\n            const updatedReplies = (_comment$replies2 = comment.replies) === null || _comment$replies2 === void 0 ? void 0 : _comment$replies2.map(reply => {\n              if (reply._id === commentId) {\n                return {\n                  ...reply,\n                  isDeleted: true,\n                  text: \"[Resposta removida]\",\n                  user: {\n                    _id: 'deleted',\n                    username: \"[Removido]\",\n                    profile: {\n                      avatar: 'https://i.pravatar.cc/150?img=3'\n                    }\n                  }\n                };\n              }\n              return reply;\n            });\n            return {\n              ...comment,\n              replies: updatedReplies || []\n            };\n          }\n\n          // Excluindo respostas aninhadas\n          const updateNestedReplies = replies => {\n            return replies.map(reply => {\n              var _reply$replies3;\n              if (reply._id === commentId) {\n                return {\n                  ...reply,\n                  isDeleted: true,\n                  text: \"[Resposta removida]\",\n                  user: {\n                    _id: 'deleted',\n                    username: \"[Removido]\",\n                    profile: {\n                      avatar: 'https://i.pravatar.cc/150?img=3'\n                    }\n                  }\n                };\n              }\n              if ((_reply$replies3 = reply.replies) !== null && _reply$replies3 !== void 0 && _reply$replies3.length) {\n                return {\n                  ...reply,\n                  replies: updateNestedReplies(reply.replies)\n                };\n              }\n              return reply;\n            });\n          };\n          return {\n            ...comment,\n            replies: updateNestedReplies(comment.replies || [])\n          };\n        } else {\n          // Excluindo comentário principal\n          if (comment._id === commentId) {\n            return {\n              ...comment,\n              isDeleted: true,\n              text: \"[Comentário removido]\",\n              user: {\n                _id: 'deleted',\n                username: \"[Removido]\",\n                profile: {\n                  avatar: 'https://i.pravatar.cc/150?img=3'\n                }\n              }\n            };\n          }\n          return comment;\n        }\n      });\n      setComments(updatedComments);\n      setShowOptions(null);\n    } catch (error) {\n      console.error('Erro ao excluir:', error);\n    }\n  };\n\n  // Reações\n  const handleReaction = async (commentId, reaction, isReply = false, parentId = null) => {\n    try {\n      let endpoint;\n      if (isReply && parentId) {\n        endpoint = `/memes/${memeId}/comments/${parentId}/replies/${commentId}/reaction`;\n      } else {\n        endpoint = `/memes/${memeId}/comments/${commentId}/reaction`;\n      }\n      const response = await api.post(endpoint, {\n        reaction\n      });\n      const updatedComments = comments.map(comment => {\n        if (isReply) {\n          // Atualizando reação em resposta\n          if (comment._id === parentId) {\n            var _comment$replies3;\n            const updatedReplies = (_comment$replies3 = comment.replies) === null || _comment$replies3 === void 0 ? void 0 : _comment$replies3.map(reply => {\n              if (reply._id === commentId) {\n                return {\n                  ...reply,\n                  likes: response.data.likes,\n                  dislikes: response.data.dislikes,\n                  userReaction: response.data.userReaction\n                };\n              }\n              return reply;\n            });\n            return {\n              ...comment,\n              replies: updatedReplies || []\n            };\n          }\n\n          // Atualizando reação em respostas aninhadas\n          const updateNestedReplies = replies => {\n            return replies.map(reply => {\n              var _reply$replies4;\n              if (reply._id === commentId) {\n                return {\n                  ...reply,\n                  likes: response.data.likes,\n                  dislikes: response.data.dislikes,\n                  userReaction: response.data.userReaction\n                };\n              }\n              if ((_reply$replies4 = reply.replies) !== null && _reply$replies4 !== void 0 && _reply$replies4.length) {\n                return {\n                  ...reply,\n                  replies: updateNestedReplies(reply.replies)\n                };\n              }\n              return reply;\n            });\n          };\n          return {\n            ...comment,\n            replies: updateNestedReplies(comment.replies || [])\n          };\n        } else {\n          // Atualizando reação em comentário principal\n          if (comment._id === commentId) {\n            return {\n              ...comment,\n              likes: response.data.likes,\n              dislikes: response.data.dislikes,\n              userReaction: response.data.userReaction\n            };\n          }\n          return comment;\n        }\n      });\n      setComments(updatedComments);\n    } catch (error) {\n      console.error('Erro ao reagir:', error);\n    }\n  };\n\n  // Formatar hora e data\n  const formatTime = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString([], {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    });\n  };\n\n  // Componente Comment recursivo\n  const Comment = ({\n    comment,\n    depth = 0,\n    parentCommentId = null\n  }) => {\n    var _comment$user$profile, _comment$likes, _comment$dislikes, _comment$replies4;\n    const isEditing = editingId === comment._id;\n    const isReplying = replyingTo === comment._id;\n    const showMenu = showOptions === comment._id;\n    const isReply = depth > 0;\n    const isDeleted = comment.isDeleted;\n    const MAX_DEPTH = 5;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CommentItem, {\n        $depth: depth,\n        children: [/*#__PURE__*/_jsxDEV(CommentAvatar, {\n          src: ((_comment$user$profile = comment.user.profile) === null || _comment$user$profile === void 0 ? void 0 : _comment$user$profile.avatar) || 'https://i.pravatar.cc/150?img=3',\n          alt: comment.user.username,\n          $isReply: isReply\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommentContent, {\n          $isReply: isReply,\n          children: [/*#__PURE__*/_jsxDEV(CommentHeader, {\n            children: [/*#__PURE__*/_jsxDEV(CommentUser, {\n              children: [\"@\", comment.user.username, comment.user.isVerified && /*#__PURE__*/_jsxDEV(UserBadge, {\n                children: \"Verificado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 15\n            }, this), !isDeleted && user && (comment.user._id === user._id || user.isAdmin) && /*#__PURE__*/_jsxDEV(MoreOptionsButton, {\n              onClick: () => setShowOptions(comment._id),\n              children: /*#__PURE__*/_jsxDEV(FiMoreHorizontal, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 13\n          }, this), showMenu && /*#__PURE__*/_jsxDEV(OptionsMenu, {\n            children: [/*#__PURE__*/_jsxDEV(OptionButton, {\n              onClick: () => handleEdit(comment),\n              children: [/*#__PURE__*/_jsxDEV(FiEdit2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 777,\n                columnNumber: 19\n              }, this), \" Editar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(OptionButton, {\n              onClick: () => handleDelete(comment._id, isReply, parentCommentId),\n              children: [/*#__PURE__*/_jsxDEV(FiTrash2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 780,\n                columnNumber: 19\n              }, this), \" Excluir\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 779,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(OptionButton, {\n              onClick: () => setShowOptions(null),\n              children: [/*#__PURE__*/_jsxDEV(FiX, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 19\n              }, this), \" Cancelar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 782,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 15\n          }, this), isEditing ? /*#__PURE__*/_jsxDEV(EditForm, {\n            children: [/*#__PURE__*/_jsxDEV(EditTextarea, {\n              value: editText,\n              onChange: e => setEditText(e.target.value),\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(EditButtons, {\n              children: [/*#__PURE__*/_jsxDEV(CancelButton, {\n                onClick: () => setEditingId(null),\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SaveButton, {\n                onClick: () => handleSaveEdit(comment._id, isReply, parentCommentId),\n                children: \"Salvar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(CommentText, {\n              $isDeleted: isDeleted,\n              children: isDeleted ? /*#__PURE__*/_jsxDEV(DeletedMessage, {\n                children: comment.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 807,\n                columnNumber: 32\n              }, this) : comment.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 806,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CommentTime, {\n              children: [formatDate(comment.createdAt), \" \\xE0s \", formatTime(comment.createdAt), comment.isEdited && ' (editado)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), !isDeleted && /*#__PURE__*/_jsxDEV(ReactionButtons, {\n            children: [/*#__PURE__*/_jsxDEV(ReactionButton, {\n              onClick: () => handleReaction(comment._id, 'like', isReply, parentCommentId),\n              $active: comment.userReaction === 'like',\n              children: [comment.userReaction === 'like' ? /*#__PURE__*/_jsxDEV(FaThumbsUp, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 54\n              }, this) : /*#__PURE__*/_jsxDEV(FiThumbsUp, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 71\n              }, this), ((_comment$likes = comment.likes) === null || _comment$likes === void 0 ? void 0 : _comment$likes.length) || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 818,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ReactionButton, {\n              onClick: () => handleReaction(comment._id, 'dislike', isReply, parentCommentId),\n              $active: comment.userReaction === 'dislike',\n              children: [comment.userReaction === 'dislike' ? /*#__PURE__*/_jsxDEV(FaThumbsDown, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 57\n              }, this) : /*#__PURE__*/_jsxDEV(FiThumbsDown, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 76\n              }, this), ((_comment$dislikes = comment.dislikes) === null || _comment$dislikes === void 0 ? void 0 : _comment$dislikes.length) || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 17\n            }, this), user && depth < MAX_DEPTH && /*#__PURE__*/_jsxDEV(ReplyButton, {\n              onClick: () => {\n                setReplyingTo(isReplying ? null : comment._id);\n                if (isReply) setParentCommentId(parentCommentId);\n              },\n              children: [/*#__PURE__*/_jsxDEV(FiCornerDownLeft, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 847,\n                columnNumber: 21\n              }, this), \"Responder\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 754,\n        columnNumber: 9\n      }, this), isReplying && depth < MAX_DEPTH && /*#__PURE__*/_jsxDEV(ReplyForm, {\n        onSubmit: e => handleReplySubmit(e, comment._id, depth === 0 // isCommentLevel\n        ),\n        children: [/*#__PURE__*/_jsxDEV(CommentInput, {\n          type: \"text\",\n          value: replyText,\n          onChange: e => setReplyText(e.target.value),\n          placeholder: \"Escreva uma resposta...\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n          type: \"submit\",\n          children: /*#__PURE__*/_jsxDEV(FiSend, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 869,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 857,\n        columnNumber: 11\n      }, this), (_comment$replies4 = comment.replies) === null || _comment$replies4 === void 0 ? void 0 : _comment$replies4.map(reply => /*#__PURE__*/_jsxDEV(Comment, {\n        comment: reply,\n        depth: depth + 1,\n        parentCommentId: comment._id\n      }, reply._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 876,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 753,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Renderização virtualizada\n  const Row = ({\n    index,\n    style\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: style,\n    children: /*#__PURE__*/_jsxDEV(Comment, {\n      comment: comments[index],\n      depth: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 890,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 889,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(CommentContainer, {\n    children: [/*#__PURE__*/_jsxDEV(CommentList, {\n      children: loading ? /*#__PURE__*/_jsxDEV(LoadingMessage, {\n        children: \"Carregando coment\\xE1rios...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 901,\n        columnNumber: 11\n      }, this) : comments.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyMessage, {\n        children: \"Nenhum coment\\xE1rio ainda. Seja o primeiro!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 903,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(AutoSizer, {\n        children: ({\n          height,\n          width\n        }) => /*#__PURE__*/_jsxDEV(List, {\n          height: height,\n          itemCount: comments.length,\n          itemSize: 200 // Ajuste conforme necessário\n          ,\n          width: width,\n          children: Row\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 899,\n      columnNumber: 7\n    }, this), user && /*#__PURE__*/_jsxDEV(CommentForm, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(CommentInput, {\n        type: \"text\",\n        value: commentText,\n        onChange: e => setCommentText(e.target.value),\n        placeholder: \"Adicione um coment\\xE1rio...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 922,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        type: \"submit\",\n        children: /*#__PURE__*/_jsxDEV(FiSend, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 929,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 928,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 921,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 898,\n    columnNumber: 5\n  }, this);\n};\n_s(CommentSection, \"+TdbzAs1rkt+WXxmuEvI4SAKfvg=\", false, function () {\n  return [useAuth];\n});\n_c29 = CommentSection;\nexport default CommentSection;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29;\n$RefreshReg$(_c, \"CommentContainer\");\n$RefreshReg$(_c2, \"CommentList\");\n$RefreshReg$(_c3, \"CommentItem\");\n$RefreshReg$(_c4, \"CommentAvatar\");\n$RefreshReg$(_c5, \"CommentContent\");\n$RefreshReg$(_c6, \"CommentHeader\");\n$RefreshReg$(_c7, \"CommentUser\");\n$RefreshReg$(_c8, \"UserBadge\");\n$RefreshReg$(_c9, \"CommentText\");\n$RefreshReg$(_c10, \"CommentTime\");\n$RefreshReg$(_c11, \"CommentForm\");\n$RefreshReg$(_c12, \"CommentInput\");\n$RefreshReg$(_c13, \"SubmitButton\");\n$RefreshReg$(_c14, \"ReplyButton\");\n$RefreshReg$(_c15, \"ReplyForm\");\n$RefreshReg$(_c16, \"ReactionButtons\");\n$RefreshReg$(_c17, \"ReactionButton\");\n$RefreshReg$(_c18, \"MoreOptionsButton\");\n$RefreshReg$(_c19, \"OptionsMenu\");\n$RefreshReg$(_c20, \"OptionButton\");\n$RefreshReg$(_c21, \"EditForm\");\n$RefreshReg$(_c22, \"EditTextarea\");\n$RefreshReg$(_c23, \"EditButtons\");\n$RefreshReg$(_c24, \"SaveButton\");\n$RefreshReg$(_c25, \"CancelButton\");\n$RefreshReg$(_c26, \"LoadingMessage\");\n$RefreshReg$(_c27, \"EmptyMessage\");\n$RefreshReg$(_c28, \"DeletedMessage\");\n$RefreshReg$(_c29, \"CommentSection\");","map":{"version":3,"names":["React","useState","useEffect","styled","FixedSizeList","List","AutoSizer","api","useAuth","FiSend","FiCornerDownLeft","FiThumbsUp","FiThumbsDown","FiMoreHorizontal","FiEdit2","FiTrash2","FiX","FaThumbsUp","FaThumbsDown","jsxDEV","_jsxDEV","Fragment","_Fragment","CommentContainer","div","_c","CommentList","_c2","CommentItem","props","$depth","_c3","CommentAvatar","img","$isReply","_c4","CommentContent","_c5","CommentHeader","_c6","CommentUser","_c7","UserBadge","span","_c8","CommentText","p","$isDeleted","_c9","CommentTime","small","_c10","CommentForm","form","_c11","CommentInput","input","_c12","SubmitButton","button","_c13","ReplyButton","_c14","ReplyForm","_c15","ReactionButtons","_c16","ReactionButton","$active","_c17","MoreOptionsButton","_c18","OptionsMenu","_c19","OptionButton","_c20","EditForm","_c21","EditTextarea","textarea","_c22","EditButtons","_c23","SaveButton","_c24","CancelButton","_c25","LoadingMessage","_c26","EmptyMessage","_c27","DeletedMessage","_c28","CommentSection","memeId","onCommentSubmit","_s","user","comments","setComments","commentText","setCommentText","loading","setLoading","replyingTo","setReplyingTo","replyText","setReplyText","editingId","setEditingId","editText","setEditText","showOptions","setShowOptions","parentCommentId","setParentCommentId","fetchComments","response","get","data","error","console","handleSubmit","e","preventDefault","trim","handleReplySubmit","replyToId","isCommentLevel","endpoint","post","text","updatedComments","map","comment","_id","replies","reply","updateNestedReplies","_reply$replies","length","handleEdit","handleSaveEdit","commentId","isReply","parentId","put","_comment$replies","updatedReplies","isEdited","updatedAt","_reply$replies2","handleDelete","window","confirm","delete","_comment$replies2","isDeleted","username","profile","avatar","_reply$replies3","handleReaction","reaction","_comment$replies3","likes","dislikes","userReaction","_reply$replies4","formatTime","dateString","date","Date","toLocaleTimeString","hour","minute","formatDate","toLocaleDateString","day","month","year","Comment","depth","_comment$user$profile","_comment$likes","_comment$dislikes","_comment$replies4","isEditing","isReplying","showMenu","MAX_DEPTH","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","isVerified","isAdmin","onClick","size","value","onChange","target","autoFocus","createdAt","onSubmit","type","placeholder","Row","index","style","height","width","itemCount","itemSize","_c29","$RefreshReg$"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/ifunny-clone/client/src/components/CommentSection.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { FixedSizeList as List } from 'react-window';\r\nimport AutoSizer from 'react-virtualized-auto-sizer';\r\nimport api from '../services/api';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { \r\n  FiSend, \r\n  FiCornerDownLeft, \r\n  FiThumbsUp, \r\n  FiThumbsDown,\r\n  FiMoreHorizontal,\r\n  FiEdit2,\r\n  FiTrash2,\r\n  FiX\r\n} from 'react-icons/fi';\r\nimport { FaThumbsUp, FaThumbsDown } from 'react-icons/fa';\r\n\r\n// ============ Estilos ============\r\nconst CommentContainer = styled.div`\r\n  padding: 16px;\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);\r\n`;\r\n\r\nconst CommentList = styled.div`\r\n  max-height: 500px;\r\n  overflow-y: auto;\r\n  margin-bottom: 16px;\r\n  padding-right: 8px;\r\n\r\n  /* Custom scrollbar */\r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    background: #f8f8f8;\r\n    border-radius: 10px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #ddd;\r\n    border-radius: 10px;\r\n    &:hover {\r\n      background: #ff4500;\r\n    }\r\n  }\r\n`;\r\n\r\nconst CommentItem = styled.div`\r\n  display: flex;\r\n  margin-bottom: 16px;\r\n  position: relative;\r\n  transition: all 0.2s ease;\r\n  margin-left: ${props => props.$depth * 20}px;\r\n  border-left: ${props => props.$depth > 0 ? '2px solid #ff4500' : 'none'};\r\n  padding-left: ${props => props.$depth > 0 ? '12px' : '0'};\r\n\r\n  &:hover {\r\n    transform: translateX(2px);\r\n  }\r\n`;\r\n\r\nconst CommentAvatar = styled.img`\r\n  width: ${props => props.$isReply ? '32px' : '40px'};\r\n  height: ${props => props.$isReply ? '32px' : '40px'};\r\n  border-radius: 50%;\r\n  margin-right: 12px;\r\n  object-fit: cover;\r\n  border: 2px solid #f0f0f0;\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    border-color: #ff4500;\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst CommentContent = styled.div`\r\n  flex: 1;\r\n  background: ${props => props.$isReply ? '#f5f5f5' : '#f9f9f9'};\r\n  padding: 12px;\r\n  border-radius: 12px;\r\n  position: relative;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n  overflow: visible;\r\n`;\r\n\r\nconst CommentHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n  position: relative;\r\n`;\r\n\r\nconst CommentUser = styled.div`\r\n  font-weight: 600;\r\n  font-size: 0.95rem;\r\n  color: #333;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n`;\r\n\r\nconst UserBadge = styled.span`\r\n  font-size: 0.7rem;\r\n  background: linear-gradient(135deg, #ff4500, #ff8c00);\r\n  color: white;\r\n  padding: 2px 6px;\r\n  border-radius: 12px;\r\n`;\r\n\r\nconst CommentText = styled.p`\r\n  margin: 8px 0;\r\n  font-size: 0.95rem;\r\n  line-height: 1.5;\r\n  color: #333;\r\n  white-space: pre-wrap;\r\n  word-break: break-word;\r\n  ${props => props.$isDeleted && 'font-style: italic; color: #999;'}\r\n`;\r\n\r\nconst CommentTime = styled.small`\r\n  display: block;\r\n  font-size: 0.75rem;\r\n  color: #999;\r\n  margin-top: 4px;\r\n`;\r\n\r\nconst CommentForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 16px;\r\n  background: #fff;\r\n  border-radius: 24px;\r\n  padding: 4px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s;\r\n\r\n  &:focus-within {\r\n    box-shadow: 0 2px 12px rgba(255, 69, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst CommentInput = styled.input`\r\n  flex: 1;\r\n  padding: 12px 16px;\r\n  border: none;\r\n  border-radius: 24px;\r\n  font-size: 0.95rem;\r\n  outline: none;\r\n  background: #f9f9f9;\r\n  transition: all 0.2s;\r\n\r\n  &:focus {\r\n    background: #f0f0f0;\r\n    box-shadow: 0 0 0 2px rgba(255, 69, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst SubmitButton = styled.button`\r\n  background: linear-gradient(135deg, #ff4500, #ff8c00);\r\n  color: white;\r\n  border: none;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  margin-left: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  box-shadow: 0 2px 5px rgba(255, 69, 0, 0.3);\r\n\r\n  &:hover {\r\n    background: linear-gradient(135deg, #e03d00, #e07d00);\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst ReplyButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: #666;\r\n  font-size: 0.85rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  margin-top: 8px;\r\n  padding: 4px 8px;\r\n  border-radius: 16px;\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    color: #ff4500;\r\n    background: rgba(255, 69, 0, 0.1);\r\n  }\r\n`;\r\n\r\nconst ReplyForm = styled.form`\r\n  display: flex;\r\n  margin: 8px 0 16px 52px;\r\n  background: #fff;\r\n  border-radius: 24px;\r\n  padding: 4px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s;\r\n\r\n  &:focus-within {\r\n    box-shadow: 0 2px 12px rgba(255, 69, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst ReactionButtons = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-top: 12px;\r\n`;\r\n\r\nconst ReactionButton = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  background: none;\r\n  border: none;\r\n  color: ${props => props.$active ? '#ff4500' : '#666'};\r\n  cursor: pointer;\r\n  font-size: 0.85rem;\r\n  padding: 4px 8px;\r\n  border-radius: 16px;\r\n  transition: all 0.2s;\r\n  \r\n  &:hover {\r\n    background: rgba(255, 69, 0, 0.1);\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst MoreOptionsButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: #999;\r\n  cursor: pointer;\r\n  padding: 4px;\r\n  border-radius: 50%;\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    color: #ff4500;\r\n    background: rgba(0, 0, 0, 0.05);\r\n    transform: rotate(90deg);\r\n  }\r\n`;\r\n\r\nconst OptionsMenu = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  background: white;\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);\r\n  z-index: 100;\r\n  min-width: 120px;\r\n  overflow: hidden;\r\n  animation: fadeIn 0.2s ease;\r\n\r\n  @keyframes fadeIn {\r\n    from { opacity: 0; transform: translateY(-5px) translateY(-50%); }\r\n    to { opacity: 1; transform: translateY(0) translateY(-50%); }\r\n  }\r\n`;\r\n\r\nconst OptionButton = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  background: none;\r\n  border: none;\r\n  text-align: left;\r\n  color: #333;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  transition: all 0.2s;\r\n  \r\n  &:hover {\r\n    background: #f9f9f9;\r\n    color: #ff4500;\r\n  }\r\n`;\r\n\r\nconst EditForm = styled.div`\r\n  margin-top: 8px;\r\n`;\r\n\r\nconst EditTextarea = styled.textarea`\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 8px;\r\n  resize: none;\r\n  font-family: inherit;\r\n  font-size: 0.95rem;\r\n  min-height: 80px;\r\n  margin-bottom: 8px;\r\n  transition: all 0.2s;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #ff4500;\r\n    box-shadow: 0 0 0 2px rgba(255, 69, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst EditButtons = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst SaveButton = styled.button`\r\n  background: linear-gradient(135deg, #ff4500, #ff8c00);\r\n  color: white;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  box-shadow: 0 2px 5px rgba(255, 69, 0, 0.3);\r\n\r\n  &:hover {\r\n    background: linear-gradient(135deg, #e03d00, #e07d00);\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst CancelButton = styled.button`\r\n  background: #f0f0f0;\r\n  color: #666;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    background: #e0e0e0;\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst LoadingMessage = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst EmptyMessage = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst DeletedMessage = styled.span`\r\n  font-style: italic;\r\n  color: #999;\r\n`;\r\n\r\n// ============ Componente Principal ============\r\nconst CommentSection = ({ memeId, onCommentSubmit }) => {\r\n  const { user } = useAuth();\r\n  const [comments, setComments] = useState([]);\r\n  const [commentText, setCommentText] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [replyingTo, setReplyingTo] = useState(null);\r\n  const [replyText, setReplyText] = useState('');\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [editText, setEditText] = useState('');\r\n  const [showOptions, setShowOptions] = useState(null);\r\n  const [parentCommentId, setParentCommentId] = useState(null);\r\n\r\n  // Buscar comentários\r\n  useEffect(() => {\r\n    const fetchComments = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await api.get(`/memes/${memeId}/comments`);\r\n        setComments(response.data.comments);\r\n      } catch (error) {\r\n        console.error('Erro ao buscar comentários:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchComments();\r\n  }, [memeId]);\r\n\r\n  // Adicionar novo comentário\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!commentText.trim()) return;\r\n\r\n    try {\r\n      await onCommentSubmit(commentText);\r\n      setCommentText('');\r\n      const response = await api.get(`/memes/${memeId}/comments`);\r\n      setComments(response.data.comments);\r\n    } catch (error) {\r\n      console.error('Erro ao enviar comentário:', error);\r\n    }\r\n  };\r\n\r\n  // Adicionar resposta (para comentários ou outras respostas)\r\n  const handleReplySubmit = async (e, replyToId, isCommentLevel = true) => {\r\n    e.preventDefault();\r\n    if (!replyText.trim()) return;\r\n\r\n    try {\r\n      let endpoint;\r\n      if (isCommentLevel) {\r\n        endpoint = `/memes/${memeId}/comments/${replyToId}/replies`;\r\n      } else {\r\n        endpoint = `/memes/${memeId}/comments/${parentCommentId}/replies/${replyToId}/replies`;\r\n      }\r\n\r\n      const response = await api.post(endpoint, { text: replyText });\r\n\r\n      const updatedComments = comments.map(comment => {\r\n        // Atualiza comentário principal\r\n        if (isCommentLevel && comment._id === replyToId) {\r\n          return {\r\n            ...comment,\r\n            replies: [...(comment.replies || []), response.data.reply]\r\n          };\r\n        }\r\n        \r\n        // Atualiza respostas aninhadas\r\n        if (!isCommentLevel) {\r\n          const updateNestedReplies = (replies) => {\r\n            return replies.map(reply => {\r\n              if (reply._id === replyToId) {\r\n                return {\r\n                  ...reply,\r\n                  replies: [...(reply.replies || []), response.data.reply]\r\n                };\r\n              }\r\n              if (reply.replies?.length) {\r\n                return {\r\n                  ...reply,\r\n                  replies: updateNestedReplies(reply.replies)\r\n                };\r\n              }\r\n              return reply;\r\n            });\r\n          };\r\n          \r\n          return {\r\n            ...comment,\r\n            replies: updateNestedReplies(comment.replies || [])\r\n          };\r\n        }\r\n        \r\n        return comment;\r\n      });\r\n\r\n      setComments(updatedComments);\r\n      setReplyText('');\r\n      setReplyingTo(null);\r\n      setParentCommentId(null);\r\n    } catch (error) {\r\n      console.error('Erro ao enviar resposta:', error);\r\n    }\r\n  };\r\n\r\n  // Editar comentário/resposta\r\n  const handleEdit = (comment) => {\r\n    setEditingId(comment._id);\r\n    setEditText(comment.text);\r\n    setShowOptions(null);\r\n  };\r\n\r\n  const handleSaveEdit = async (commentId, isReply = false, parentId = null) => {\r\n    try {\r\n      let endpoint;\r\n      if (isReply && parentId) {\r\n        endpoint = `/memes/${memeId}/comments/${parentId}/replies/${commentId}`;\r\n      } else {\r\n        endpoint = `/memes/${memeId}/comments/${commentId}`;\r\n      }\r\n\r\n      const response = await api.put(endpoint, { text: editText });\r\n\r\n      const updatedComments = comments.map(comment => {\r\n        if (isReply) {\r\n          // Atualizando uma resposta\r\n          if (comment._id === parentId) {\r\n            const updatedReplies = comment.replies?.map(reply => {\r\n              if (reply._id === commentId) {\r\n                return {\r\n                  ...reply,\r\n                  text: response.data.reply.text,\r\n                  isEdited: true,\r\n                  updatedAt: response.data.reply.updatedAt\r\n                };\r\n              }\r\n              return reply;\r\n            });\r\n            return { ...comment, replies: updatedReplies || [] };\r\n          }\r\n          \r\n          // Atualizando respostas aninhadas\r\n          const updateNestedReplies = (replies) => {\r\n            return replies.map(reply => {\r\n              if (reply._id === commentId) {\r\n                return {\r\n                  ...reply,\r\n                  text: response.data.reply.text,\r\n                  isEdited: true,\r\n                  updatedAt: response.data.reply.updatedAt\r\n                };\r\n              }\r\n              if (reply.replies?.length) {\r\n                return {\r\n                  ...reply,\r\n                  replies: updateNestedReplies(reply.replies)\r\n                };\r\n              }\r\n              return reply;\r\n            });\r\n          };\r\n          \r\n          return {\r\n            ...comment,\r\n            replies: updateNestedReplies(comment.replies || [])\r\n          };\r\n        } else {\r\n          // Atualizando comentário principal\r\n          if (comment._id === commentId) {\r\n            return {\r\n              ...comment,\r\n              text: response.data.comment.text,\r\n              isEdited: true,\r\n              updatedAt: response.data.comment.updatedAt\r\n            };\r\n          }\r\n          return comment;\r\n        }\r\n      });\r\n\r\n      setComments(updatedComments);\r\n      setEditingId(null);\r\n      setEditText('');\r\n    } catch (error) {\r\n      console.error('Erro ao editar:', error);\r\n    }\r\n  };\r\n  \r\n  // Excluir comentário/resposta\r\n  const handleDelete = async (commentId, isReply = false, parentId = null) => {\r\n    if (!window.confirm('Tem certeza que deseja excluir?')) return;\r\n    \r\n    try {\r\n      let endpoint;\r\n      if (isReply && parentId) {\r\n        endpoint = `/memes/${memeId}/comments/${parentId}/replies/${commentId}`;\r\n      } else {\r\n        endpoint = `/memes/${memeId}/comments/${commentId}`;\r\n      }\r\n\r\n      await api.delete(endpoint);\r\n\r\n      const updatedComments = comments.map(comment => {\r\n        if (isReply) {\r\n          // Excluindo uma resposta\r\n          if (comment._id === parentId) {\r\n            const updatedReplies = comment.replies?.map(reply => {\r\n              if (reply._id === commentId) {\r\n                return {\r\n                  ...reply,\r\n                  isDeleted: true,\r\n                  text: \"[Resposta removida]\",\r\n                  user: { \r\n                    _id: 'deleted',\r\n                    username: \"[Removido]\",\r\n                    profile: { avatar: 'https://i.pravatar.cc/150?img=3' }\r\n                  }\r\n                };\r\n              }\r\n              return reply;\r\n            });\r\n            return { ...comment, replies: updatedReplies || [] };\r\n          }\r\n          \r\n          // Excluindo respostas aninhadas\r\n          const updateNestedReplies = (replies) => {\r\n            return replies.map(reply => {\r\n              if (reply._id === commentId) {\r\n                return {\r\n                  ...reply,\r\n                  isDeleted: true,\r\n                  text: \"[Resposta removida]\",\r\n                  user: { \r\n                    _id: 'deleted',\r\n                    username: \"[Removido]\",\r\n                    profile: { avatar: 'https://i.pravatar.cc/150?img=3' }\r\n                  }\r\n                };\r\n              }\r\n              if (reply.replies?.length) {\r\n                return {\r\n                  ...reply,\r\n                  replies: updateNestedReplies(reply.replies)\r\n                };\r\n              }\r\n              return reply;\r\n            });\r\n          };\r\n          \r\n          return {\r\n            ...comment,\r\n            replies: updateNestedReplies(comment.replies || [])\r\n          };\r\n        } else {\r\n          // Excluindo comentário principal\r\n          if (comment._id === commentId) {\r\n            return {\r\n              ...comment,\r\n              isDeleted: true,\r\n              text: \"[Comentário removido]\",\r\n              user: { \r\n                _id: 'deleted',\r\n                username: \"[Removido]\",\r\n                profile: { avatar: 'https://i.pravatar.cc/150?img=3' }\r\n              }\r\n            };\r\n          }\r\n          return comment;\r\n        }\r\n      });\r\n\r\n      setComments(updatedComments);\r\n      setShowOptions(null);\r\n    } catch (error) {\r\n      console.error('Erro ao excluir:', error);\r\n    }\r\n  };\r\n\r\n  // Reações\r\n  const handleReaction = async (commentId, reaction, isReply = false, parentId = null) => {\r\n    try {\r\n      let endpoint;\r\n      if (isReply && parentId) {\r\n        endpoint = `/memes/${memeId}/comments/${parentId}/replies/${commentId}/reaction`;\r\n      } else {\r\n        endpoint = `/memes/${memeId}/comments/${commentId}/reaction`;\r\n      }\r\n\r\n      const response = await api.post(endpoint, { reaction });\r\n\r\n      const updatedComments = comments.map(comment => {\r\n        if (isReply) {\r\n          // Atualizando reação em resposta\r\n          if (comment._id === parentId) {\r\n            const updatedReplies = comment.replies?.map(reply => {\r\n              if (reply._id === commentId) {\r\n                return {\r\n                  ...reply,\r\n                  likes: response.data.likes,\r\n                  dislikes: response.data.dislikes,\r\n                  userReaction: response.data.userReaction\r\n                };\r\n              }\r\n              return reply;\r\n            });\r\n            return { ...comment, replies: updatedReplies || [] };\r\n          }\r\n          \r\n          // Atualizando reação em respostas aninhadas\r\n          const updateNestedReplies = (replies) => {\r\n            return replies.map(reply => {\r\n              if (reply._id === commentId) {\r\n                return {\r\n                  ...reply,\r\n                  likes: response.data.likes,\r\n                  dislikes: response.data.dislikes,\r\n                  userReaction: response.data.userReaction\r\n                };\r\n              }\r\n              if (reply.replies?.length) {\r\n                return {\r\n                  ...reply,\r\n                  replies: updateNestedReplies(reply.replies)\r\n                };\r\n              }\r\n              return reply;\r\n            });\r\n          };\r\n          \r\n          return {\r\n            ...comment,\r\n            replies: updateNestedReplies(comment.replies || [])\r\n          };\r\n        } else {\r\n          // Atualizando reação em comentário principal\r\n          if (comment._id === commentId) {\r\n            return {\r\n              ...comment,\r\n              likes: response.data.likes,\r\n              dislikes: response.data.dislikes,\r\n              userReaction: response.data.userReaction\r\n            };\r\n          }\r\n          return comment;\r\n        }\r\n      });\r\n\r\n      setComments(updatedComments);\r\n    } catch (error) {\r\n      console.error('Erro ao reagir:', error);\r\n    }\r\n  };\r\n\r\n  // Formatar hora e data\r\n  const formatTime = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString([], { day: '2-digit', month: '2-digit', year: 'numeric' });\r\n  };\r\n\r\n  // Componente Comment recursivo\r\n  const Comment = ({ comment, depth = 0, parentCommentId = null }) => {\r\n    const isEditing = editingId === comment._id;\r\n    const isReplying = replyingTo === comment._id;\r\n    const showMenu = showOptions === comment._id;\r\n    const isReply = depth > 0;\r\n    const isDeleted = comment.isDeleted;\r\n    const MAX_DEPTH = 5;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <CommentItem $depth={depth}>\r\n          <CommentAvatar \r\n            src={comment.user.profile?.avatar || 'https://i.pravatar.cc/150?img=3'} \r\n            alt={comment.user.username}\r\n            $isReply={isReply}\r\n          />\r\n          <CommentContent $isReply={isReply}>\r\n            <CommentHeader>\r\n              <CommentUser>\r\n                @{comment.user.username}\r\n                {comment.user.isVerified && <UserBadge>Verificado</UserBadge>}\r\n              </CommentUser>\r\n              \r\n              {!isDeleted && user && (comment.user._id === user._id || user.isAdmin) && (\r\n                <MoreOptionsButton onClick={() => setShowOptions(comment._id)}>\r\n                  <FiMoreHorizontal />\r\n                </MoreOptionsButton>\r\n              )}\r\n            </CommentHeader>\r\n            \r\n            {showMenu && (\r\n              <OptionsMenu>\r\n                <OptionButton onClick={() => handleEdit(comment)}>\r\n                  <FiEdit2 size={14} /> Editar\r\n                </OptionButton>\r\n                <OptionButton onClick={() => handleDelete(comment._id, isReply, parentCommentId)}>\r\n                  <FiTrash2 size={14} /> Excluir\r\n                </OptionButton>\r\n                <OptionButton onClick={() => setShowOptions(null)}>\r\n                  <FiX size={14} /> Cancelar\r\n                </OptionButton>\r\n              </OptionsMenu>\r\n            )}\r\n            \r\n            {isEditing ? (\r\n              <EditForm>\r\n                <EditTextarea\r\n                  value={editText}\r\n                  onChange={(e) => setEditText(e.target.value)}\r\n                  autoFocus\r\n                />\r\n                <EditButtons>\r\n                  <CancelButton onClick={() => setEditingId(null)}>\r\n                    Cancelar\r\n                  </CancelButton>\r\n                  <SaveButton onClick={() => handleSaveEdit(comment._id, isReply, parentCommentId)}>\r\n                    Salvar\r\n                  </SaveButton>\r\n                </EditButtons>\r\n              </EditForm>\r\n            ) : (\r\n              <>\r\n                <CommentText $isDeleted={isDeleted}>\r\n                  {isDeleted ? <DeletedMessage>{comment.text}</DeletedMessage> : comment.text}\r\n                </CommentText>\r\n                <CommentTime>\r\n                  {formatDate(comment.createdAt)} às {formatTime(comment.createdAt)}\r\n                  {comment.isEdited && ' (editado)'}\r\n                </CommentTime>\r\n              </>\r\n            )}\r\n            \r\n            {!isDeleted && (\r\n              <ReactionButtons>\r\n                <ReactionButton \r\n                  onClick={() => handleReaction(\r\n                    comment._id, \r\n                    'like', \r\n                    isReply, \r\n                    parentCommentId\r\n                  )}\r\n                  $active={comment.userReaction === 'like'}\r\n                >\r\n                  {comment.userReaction === 'like' ? <FaThumbsUp /> : <FiThumbsUp />}\r\n                  {comment.likes?.length || 0}\r\n                </ReactionButton>\r\n                <ReactionButton \r\n                  onClick={() => handleReaction(\r\n                    comment._id, \r\n                    'dislike', \r\n                    isReply, \r\n                    parentCommentId\r\n                  )}\r\n                  $active={comment.userReaction === 'dislike'}\r\n                >\r\n                  {comment.userReaction === 'dislike' ? <FaThumbsDown /> : <FiThumbsDown />}\r\n                  {comment.dislikes?.length || 0}\r\n                </ReactionButton>\r\n                {user && depth < MAX_DEPTH && (\r\n                  <ReplyButton onClick={() => {\r\n                    setReplyingTo(isReplying ? null : comment._id);\r\n                    if (isReply) setParentCommentId(parentCommentId);\r\n                  }}>\r\n                    <FiCornerDownLeft size={14} />\r\n                    Responder\r\n                  </ReplyButton>\r\n                )}\r\n              </ReactionButtons>\r\n            )}\r\n          </CommentContent>\r\n        </CommentItem>\r\n\r\n        {isReplying && depth < MAX_DEPTH && (\r\n          <ReplyForm onSubmit={(e) => handleReplySubmit(\r\n            e, \r\n            comment._id, \r\n            depth === 0 // isCommentLevel\r\n          )}>\r\n            <CommentInput\r\n              type=\"text\"\r\n              value={replyText}\r\n              onChange={(e) => setReplyText(e.target.value)}\r\n              placeholder=\"Escreva uma resposta...\"\r\n              autoFocus\r\n            />\r\n            <SubmitButton type=\"submit\">\r\n              <FiSend size={18} />\r\n            </SubmitButton>\r\n          </ReplyForm>\r\n        )}\r\n\r\n        {comment.replies?.map(reply => (\r\n          <Comment \r\n            key={reply._id} \r\n            comment={reply} \r\n            depth={depth + 1}\r\n            parentCommentId={comment._id}\r\n          />\r\n        ))}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  // Renderização virtualizada\r\n  const Row = ({ index, style }) => (\r\n    <div style={style}>\r\n      <Comment \r\n        comment={comments[index]} \r\n        depth={0}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <CommentContainer>\r\n      <CommentList>\r\n        {loading ? (\r\n          <LoadingMessage>Carregando comentários...</LoadingMessage>\r\n        ) : comments.length === 0 ? (\r\n          <EmptyMessage>Nenhum comentário ainda. Seja o primeiro!</EmptyMessage>\r\n        ) : (\r\n          <AutoSizer>\r\n            {({ height, width }) => (\r\n              <List\r\n                height={height}\r\n                itemCount={comments.length}\r\n                itemSize={200} // Ajuste conforme necessário\r\n                width={width}\r\n              >\r\n                {Row}\r\n              </List>\r\n            )}\r\n          </AutoSizer>\r\n        )}\r\n      </CommentList>\r\n\r\n      {user && (\r\n        <CommentForm onSubmit={handleSubmit}>\r\n          <CommentInput\r\n            type=\"text\"\r\n            value={commentText}\r\n            onChange={(e) => setCommentText(e.target.value)}\r\n            placeholder=\"Adicione um comentário...\"\r\n          />\r\n          <SubmitButton type=\"submit\">\r\n            <FiSend size={18} />\r\n          </SubmitButton>\r\n        </CommentForm>\r\n      )}\r\n    </CommentContainer>\r\n  );\r\n};\r\n\r\nexport default CommentSection;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,aAAa,IAAIC,IAAI,QAAQ,cAAc;AACpD,OAAOC,SAAS,MAAM,8BAA8B;AACpD,OAAOC,GAAG,MAAM,iBAAiB;AACjC,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SACEC,MAAM,EACNC,gBAAgB,EAChBC,UAAU,EACVC,YAAY,EACZC,gBAAgB,EAChBC,OAAO,EACPC,QAAQ,EACRC,GAAG,QACE,gBAAgB;AACvB,SAASC,UAAU,EAAEC,YAAY,QAAQ,gBAAgB;;AAEzD;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,gBAAgB,GAAGpB,MAAM,CAACqB,GAAG;AACnC;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GALIF,gBAAgB;AAOtB,MAAMG,WAAW,GAAGvB,MAAM,CAACqB,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GArBID,WAAW;AAuBjB,MAAME,WAAW,GAAGzB,MAAM,CAACqB,GAAG;AAC9B;AACA;AACA;AACA;AACA,iBAAiBK,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,EAAE;AAC3C,iBAAiBD,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,CAAC,GAAG,mBAAmB,GAAG,MAAM;AACzE,kBAAkBD,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,GAAG;AAC1D;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAZIH,WAAW;AAcjB,MAAMI,aAAa,GAAG7B,MAAM,CAAC8B,GAAG;AAChC,WAAWJ,KAAK,IAAIA,KAAK,CAACK,QAAQ,GAAG,MAAM,GAAG,MAAM;AACpD,YAAYL,KAAK,IAAIA,KAAK,CAACK,QAAQ,GAAG,MAAM,GAAG,MAAM;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAbIH,aAAa;AAenB,MAAMI,cAAc,GAAGjC,MAAM,CAACqB,GAAG;AACjC;AACA,gBAAgBK,KAAK,IAAIA,KAAK,CAACK,QAAQ,GAAG,SAAS,GAAG,SAAS;AAC/D;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GARID,cAAc;AAUpB,MAAME,aAAa,GAAGnC,MAAM,CAACqB,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA,CAAC;AAACe,GAAA,GANID,aAAa;AAQnB,MAAME,WAAW,GAAGrC,MAAM,CAACqB,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiB,GAAA,GAPID,WAAW;AASjB,MAAME,SAAS,GAAGvC,MAAM,CAACwC,IAAI;AAC7B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GANIF,SAAS;AAQf,MAAMG,WAAW,GAAG1C,MAAM,CAAC2C,CAAC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,IAAIjB,KAAK,IAAIA,KAAK,CAACkB,UAAU,IAAI,kCAAkC;AACnE,CAAC;AAACC,GAAA,GARIH,WAAW;AAUjB,MAAMI,WAAW,GAAG9C,MAAM,CAAC+C,KAAK;AAChC;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GALIF,WAAW;AAOjB,MAAMG,WAAW,GAAGjD,MAAM,CAACkD,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAbIF,WAAW;AAejB,MAAMG,YAAY,GAAGpD,MAAM,CAACqD,KAAK;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAdIF,YAAY;AAgBlB,MAAMG,YAAY,GAAGvD,MAAM,CAACwD,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAnBIF,YAAY;AAqBlB,MAAMG,WAAW,GAAG1D,MAAM,CAACwD,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,IAAA,GAlBID,WAAW;AAoBjB,MAAME,SAAS,GAAG5D,MAAM,CAACkD,IAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACW,IAAA,GAZID,SAAS;AAcf,MAAME,eAAe,GAAG9D,MAAM,CAACqB,GAAG;AAClC;AACA;AACA;AACA,CAAC;AAAC0C,IAAA,GAJID,eAAe;AAMrB,MAAME,cAAc,GAAGhE,MAAM,CAACwD,MAAM;AACpC;AACA;AACA;AACA;AACA;AACA,WAAW9B,KAAK,IAAIA,KAAK,CAACuC,OAAO,GAAG,SAAS,GAAG,MAAM;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAjBIF,cAAc;AAmBpB,MAAMG,iBAAiB,GAAGnE,MAAM,CAACwD,MAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACY,IAAA,GAdID,iBAAiB;AAgBvB,MAAME,WAAW,GAAGrE,MAAM,CAACqB,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiD,IAAA,GAlBID,WAAW;AAoBjB,MAAME,YAAY,GAAGvE,MAAM,CAACwD,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACgB,IAAA,GAlBID,YAAY;AAoBlB,MAAME,QAAQ,GAAGzE,MAAM,CAACqB,GAAG;AAC3B;AACA,CAAC;AAACqD,IAAA,GAFID,QAAQ;AAId,MAAME,YAAY,GAAG3E,MAAM,CAAC4E,QAAQ;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAjBIF,YAAY;AAmBlB,MAAMG,WAAW,GAAG9E,MAAM,CAACqB,GAAG;AAC9B;AACA;AACA;AACA,CAAC;AAAC0D,IAAA,GAJID,WAAW;AAMjB,MAAME,UAAU,GAAGhF,MAAM,CAACwD,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACyB,IAAA,GAdID,UAAU;AAgBhB,MAAME,YAAY,GAAGlF,MAAM,CAACwD,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC2B,IAAA,GAbID,YAAY;AAelB,MAAME,cAAc,GAAGpF,MAAM,CAACqB,GAAG;AACjC;AACA;AACA;AACA;AACA,CAAC;AAACgE,IAAA,GALID,cAAc;AAOpB,MAAME,YAAY,GAAGtF,MAAM,CAACqB,GAAG;AAC/B;AACA;AACA;AACA;AACA,CAAC;AAACkE,IAAA,GALID,YAAY;AAOlB,MAAME,cAAc,GAAGxF,MAAM,CAACwC,IAAI;AAClC;AACA;AACA,CAAC;;AAED;AAAAiD,IAAA,GALMD,cAAc;AAMpB,MAAME,cAAc,GAAGA,CAAC;EAAEC,MAAM;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACtD,MAAM;IAAEC;EAAK,CAAC,GAAGzF,OAAO,CAAC,CAAC;EAC1B,MAAM,CAAC0F,QAAQ,EAAEC,WAAW,CAAC,GAAGlG,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmG,WAAW,EAAEC,cAAc,CAAC,GAAGpG,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACqG,OAAO,EAAEC,UAAU,CAAC,GAAGtG,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACuG,UAAU,EAAEC,aAAa,CAAC,GAAGxG,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACyG,SAAS,EAAEC,YAAY,CAAC,GAAG1G,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC2G,SAAS,EAAEC,YAAY,CAAC,GAAG5G,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC6G,QAAQ,EAAEC,WAAW,CAAC,GAAG9G,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC+G,WAAW,EAAEC,cAAc,CAAC,GAAGhH,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACiH,eAAe,EAAEC,kBAAkB,CAAC,GAAGlH,QAAQ,CAAC,IAAI,CAAC;;EAE5D;EACAC,SAAS,CAAC,MAAM;IACd,MAAMkH,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACFb,UAAU,CAAC,IAAI,CAAC;QAChB,MAAMc,QAAQ,GAAG,MAAM9G,GAAG,CAAC+G,GAAG,CAAC,UAAUxB,MAAM,WAAW,CAAC;QAC3DK,WAAW,CAACkB,QAAQ,CAACE,IAAI,CAACrB,QAAQ,CAAC;MACrC,CAAC,CAAC,OAAOsB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD,CAAC,SAAS;QACRjB,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDa,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACtB,MAAM,CAAC,CAAC;;EAEZ;EACA,MAAM4B,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACxB,WAAW,CAACyB,IAAI,CAAC,CAAC,EAAE;IAEzB,IAAI;MACF,MAAM9B,eAAe,CAACK,WAAW,CAAC;MAClCC,cAAc,CAAC,EAAE,CAAC;MAClB,MAAMgB,QAAQ,GAAG,MAAM9G,GAAG,CAAC+G,GAAG,CAAC,UAAUxB,MAAM,WAAW,CAAC;MAC3DK,WAAW,CAACkB,QAAQ,CAACE,IAAI,CAACrB,QAAQ,CAAC;IACrC,CAAC,CAAC,OAAOsB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD;EACF,CAAC;;EAED;EACA,MAAMM,iBAAiB,GAAG,MAAAA,CAAOH,CAAC,EAAEI,SAAS,EAAEC,cAAc,GAAG,IAAI,KAAK;IACvEL,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAAClB,SAAS,CAACmB,IAAI,CAAC,CAAC,EAAE;IAEvB,IAAI;MACF,IAAII,QAAQ;MACZ,IAAID,cAAc,EAAE;QAClBC,QAAQ,GAAG,UAAUnC,MAAM,aAAaiC,SAAS,UAAU;MAC7D,CAAC,MAAM;QACLE,QAAQ,GAAG,UAAUnC,MAAM,aAAaoB,eAAe,YAAYa,SAAS,UAAU;MACxF;MAEA,MAAMV,QAAQ,GAAG,MAAM9G,GAAG,CAAC2H,IAAI,CAACD,QAAQ,EAAE;QAAEE,IAAI,EAAEzB;MAAU,CAAC,CAAC;MAE9D,MAAM0B,eAAe,GAAGlC,QAAQ,CAACmC,GAAG,CAACC,OAAO,IAAI;QAC9C;QACA,IAAIN,cAAc,IAAIM,OAAO,CAACC,GAAG,KAAKR,SAAS,EAAE;UAC/C,OAAO;YACL,GAAGO,OAAO;YACVE,OAAO,EAAE,CAAC,IAAIF,OAAO,CAACE,OAAO,IAAI,EAAE,CAAC,EAAEnB,QAAQ,CAACE,IAAI,CAACkB,KAAK;UAC3D,CAAC;QACH;;QAEA;QACA,IAAI,CAACT,cAAc,EAAE;UACnB,MAAMU,mBAAmB,GAAIF,OAAO,IAAK;YACvC,OAAOA,OAAO,CAACH,GAAG,CAACI,KAAK,IAAI;cAAA,IAAAE,cAAA;cAC1B,IAAIF,KAAK,CAACF,GAAG,KAAKR,SAAS,EAAE;gBAC3B,OAAO;kBACL,GAAGU,KAAK;kBACRD,OAAO,EAAE,CAAC,IAAIC,KAAK,CAACD,OAAO,IAAI,EAAE,CAAC,EAAEnB,QAAQ,CAACE,IAAI,CAACkB,KAAK;gBACzD,CAAC;cACH;cACA,KAAAE,cAAA,GAAIF,KAAK,CAACD,OAAO,cAAAG,cAAA,eAAbA,cAAA,CAAeC,MAAM,EAAE;gBACzB,OAAO;kBACL,GAAGH,KAAK;kBACRD,OAAO,EAAEE,mBAAmB,CAACD,KAAK,CAACD,OAAO;gBAC5C,CAAC;cACH;cACA,OAAOC,KAAK;YACd,CAAC,CAAC;UACJ,CAAC;UAED,OAAO;YACL,GAAGH,OAAO;YACVE,OAAO,EAAEE,mBAAmB,CAACJ,OAAO,CAACE,OAAO,IAAI,EAAE;UACpD,CAAC;QACH;QAEA,OAAOF,OAAO;MAChB,CAAC,CAAC;MAEFnC,WAAW,CAACiC,eAAe,CAAC;MAC5BzB,YAAY,CAAC,EAAE,CAAC;MAChBF,aAAa,CAAC,IAAI,CAAC;MACnBU,kBAAkB,CAAC,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF,CAAC;;EAED;EACA,MAAMqB,UAAU,GAAIP,OAAO,IAAK;IAC9BzB,YAAY,CAACyB,OAAO,CAACC,GAAG,CAAC;IACzBxB,WAAW,CAACuB,OAAO,CAACH,IAAI,CAAC;IACzBlB,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAM6B,cAAc,GAAG,MAAAA,CAAOC,SAAS,EAAEC,OAAO,GAAG,KAAK,EAAEC,QAAQ,GAAG,IAAI,KAAK;IAC5E,IAAI;MACF,IAAIhB,QAAQ;MACZ,IAAIe,OAAO,IAAIC,QAAQ,EAAE;QACvBhB,QAAQ,GAAG,UAAUnC,MAAM,aAAamD,QAAQ,YAAYF,SAAS,EAAE;MACzE,CAAC,MAAM;QACLd,QAAQ,GAAG,UAAUnC,MAAM,aAAaiD,SAAS,EAAE;MACrD;MAEA,MAAM1B,QAAQ,GAAG,MAAM9G,GAAG,CAAC2I,GAAG,CAACjB,QAAQ,EAAE;QAAEE,IAAI,EAAErB;MAAS,CAAC,CAAC;MAE5D,MAAMsB,eAAe,GAAGlC,QAAQ,CAACmC,GAAG,CAACC,OAAO,IAAI;QAC9C,IAAIU,OAAO,EAAE;UACX;UACA,IAAIV,OAAO,CAACC,GAAG,KAAKU,QAAQ,EAAE;YAAA,IAAAE,gBAAA;YAC5B,MAAMC,cAAc,IAAAD,gBAAA,GAAGb,OAAO,CAACE,OAAO,cAAAW,gBAAA,uBAAfA,gBAAA,CAAiBd,GAAG,CAACI,KAAK,IAAI;cACnD,IAAIA,KAAK,CAACF,GAAG,KAAKQ,SAAS,EAAE;gBAC3B,OAAO;kBACL,GAAGN,KAAK;kBACRN,IAAI,EAAEd,QAAQ,CAACE,IAAI,CAACkB,KAAK,CAACN,IAAI;kBAC9BkB,QAAQ,EAAE,IAAI;kBACdC,SAAS,EAAEjC,QAAQ,CAACE,IAAI,CAACkB,KAAK,CAACa;gBACjC,CAAC;cACH;cACA,OAAOb,KAAK;YACd,CAAC,CAAC;YACF,OAAO;cAAE,GAAGH,OAAO;cAAEE,OAAO,EAAEY,cAAc,IAAI;YAAG,CAAC;UACtD;;UAEA;UACA,MAAMV,mBAAmB,GAAIF,OAAO,IAAK;YACvC,OAAOA,OAAO,CAACH,GAAG,CAACI,KAAK,IAAI;cAAA,IAAAc,eAAA;cAC1B,IAAId,KAAK,CAACF,GAAG,KAAKQ,SAAS,EAAE;gBAC3B,OAAO;kBACL,GAAGN,KAAK;kBACRN,IAAI,EAAEd,QAAQ,CAACE,IAAI,CAACkB,KAAK,CAACN,IAAI;kBAC9BkB,QAAQ,EAAE,IAAI;kBACdC,SAAS,EAAEjC,QAAQ,CAACE,IAAI,CAACkB,KAAK,CAACa;gBACjC,CAAC;cACH;cACA,KAAAC,eAAA,GAAId,KAAK,CAACD,OAAO,cAAAe,eAAA,eAAbA,eAAA,CAAeX,MAAM,EAAE;gBACzB,OAAO;kBACL,GAAGH,KAAK;kBACRD,OAAO,EAAEE,mBAAmB,CAACD,KAAK,CAACD,OAAO;gBAC5C,CAAC;cACH;cACA,OAAOC,KAAK;YACd,CAAC,CAAC;UACJ,CAAC;UAED,OAAO;YACL,GAAGH,OAAO;YACVE,OAAO,EAAEE,mBAAmB,CAACJ,OAAO,CAACE,OAAO,IAAI,EAAE;UACpD,CAAC;QACH,CAAC,MAAM;UACL;UACA,IAAIF,OAAO,CAACC,GAAG,KAAKQ,SAAS,EAAE;YAC7B,OAAO;cACL,GAAGT,OAAO;cACVH,IAAI,EAAEd,QAAQ,CAACE,IAAI,CAACe,OAAO,CAACH,IAAI;cAChCkB,QAAQ,EAAE,IAAI;cACdC,SAAS,EAAEjC,QAAQ,CAACE,IAAI,CAACe,OAAO,CAACgB;YACnC,CAAC;UACH;UACA,OAAOhB,OAAO;QAChB;MACF,CAAC,CAAC;MAEFnC,WAAW,CAACiC,eAAe,CAAC;MAC5BvB,YAAY,CAAC,IAAI,CAAC;MAClBE,WAAW,CAAC,EAAE,CAAC;IACjB,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACzC;EACF,CAAC;;EAED;EACA,MAAMgC,YAAY,GAAG,MAAAA,CAAOT,SAAS,EAAEC,OAAO,GAAG,KAAK,EAAEC,QAAQ,GAAG,IAAI,KAAK;IAC1E,IAAI,CAACQ,MAAM,CAACC,OAAO,CAAC,iCAAiC,CAAC,EAAE;IAExD,IAAI;MACF,IAAIzB,QAAQ;MACZ,IAAIe,OAAO,IAAIC,QAAQ,EAAE;QACvBhB,QAAQ,GAAG,UAAUnC,MAAM,aAAamD,QAAQ,YAAYF,SAAS,EAAE;MACzE,CAAC,MAAM;QACLd,QAAQ,GAAG,UAAUnC,MAAM,aAAaiD,SAAS,EAAE;MACrD;MAEA,MAAMxI,GAAG,CAACoJ,MAAM,CAAC1B,QAAQ,CAAC;MAE1B,MAAMG,eAAe,GAAGlC,QAAQ,CAACmC,GAAG,CAACC,OAAO,IAAI;QAC9C,IAAIU,OAAO,EAAE;UACX;UACA,IAAIV,OAAO,CAACC,GAAG,KAAKU,QAAQ,EAAE;YAAA,IAAAW,iBAAA;YAC5B,MAAMR,cAAc,IAAAQ,iBAAA,GAAGtB,OAAO,CAACE,OAAO,cAAAoB,iBAAA,uBAAfA,iBAAA,CAAiBvB,GAAG,CAACI,KAAK,IAAI;cACnD,IAAIA,KAAK,CAACF,GAAG,KAAKQ,SAAS,EAAE;gBAC3B,OAAO;kBACL,GAAGN,KAAK;kBACRoB,SAAS,EAAE,IAAI;kBACf1B,IAAI,EAAE,qBAAqB;kBAC3BlC,IAAI,EAAE;oBACJsC,GAAG,EAAE,SAAS;oBACduB,QAAQ,EAAE,YAAY;oBACtBC,OAAO,EAAE;sBAAEC,MAAM,EAAE;oBAAkC;kBACvD;gBACF,CAAC;cACH;cACA,OAAOvB,KAAK;YACd,CAAC,CAAC;YACF,OAAO;cAAE,GAAGH,OAAO;cAAEE,OAAO,EAAEY,cAAc,IAAI;YAAG,CAAC;UACtD;;UAEA;UACA,MAAMV,mBAAmB,GAAIF,OAAO,IAAK;YACvC,OAAOA,OAAO,CAACH,GAAG,CAACI,KAAK,IAAI;cAAA,IAAAwB,eAAA;cAC1B,IAAIxB,KAAK,CAACF,GAAG,KAAKQ,SAAS,EAAE;gBAC3B,OAAO;kBACL,GAAGN,KAAK;kBACRoB,SAAS,EAAE,IAAI;kBACf1B,IAAI,EAAE,qBAAqB;kBAC3BlC,IAAI,EAAE;oBACJsC,GAAG,EAAE,SAAS;oBACduB,QAAQ,EAAE,YAAY;oBACtBC,OAAO,EAAE;sBAAEC,MAAM,EAAE;oBAAkC;kBACvD;gBACF,CAAC;cACH;cACA,KAAAC,eAAA,GAAIxB,KAAK,CAACD,OAAO,cAAAyB,eAAA,eAAbA,eAAA,CAAerB,MAAM,EAAE;gBACzB,OAAO;kBACL,GAAGH,KAAK;kBACRD,OAAO,EAAEE,mBAAmB,CAACD,KAAK,CAACD,OAAO;gBAC5C,CAAC;cACH;cACA,OAAOC,KAAK;YACd,CAAC,CAAC;UACJ,CAAC;UAED,OAAO;YACL,GAAGH,OAAO;YACVE,OAAO,EAAEE,mBAAmB,CAACJ,OAAO,CAACE,OAAO,IAAI,EAAE;UACpD,CAAC;QACH,CAAC,MAAM;UACL;UACA,IAAIF,OAAO,CAACC,GAAG,KAAKQ,SAAS,EAAE;YAC7B,OAAO;cACL,GAAGT,OAAO;cACVuB,SAAS,EAAE,IAAI;cACf1B,IAAI,EAAE,uBAAuB;cAC7BlC,IAAI,EAAE;gBACJsC,GAAG,EAAE,SAAS;gBACduB,QAAQ,EAAE,YAAY;gBACtBC,OAAO,EAAE;kBAAEC,MAAM,EAAE;gBAAkC;cACvD;YACF,CAAC;UACH;UACA,OAAO1B,OAAO;QAChB;MACF,CAAC,CAAC;MAEFnC,WAAW,CAACiC,eAAe,CAAC;MAC5BnB,cAAc,CAAC,IAAI,CAAC;IACtB,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC1C;EACF,CAAC;;EAED;EACA,MAAM0C,cAAc,GAAG,MAAAA,CAAOnB,SAAS,EAAEoB,QAAQ,EAAEnB,OAAO,GAAG,KAAK,EAAEC,QAAQ,GAAG,IAAI,KAAK;IACtF,IAAI;MACF,IAAIhB,QAAQ;MACZ,IAAIe,OAAO,IAAIC,QAAQ,EAAE;QACvBhB,QAAQ,GAAG,UAAUnC,MAAM,aAAamD,QAAQ,YAAYF,SAAS,WAAW;MAClF,CAAC,MAAM;QACLd,QAAQ,GAAG,UAAUnC,MAAM,aAAaiD,SAAS,WAAW;MAC9D;MAEA,MAAM1B,QAAQ,GAAG,MAAM9G,GAAG,CAAC2H,IAAI,CAACD,QAAQ,EAAE;QAAEkC;MAAS,CAAC,CAAC;MAEvD,MAAM/B,eAAe,GAAGlC,QAAQ,CAACmC,GAAG,CAACC,OAAO,IAAI;QAC9C,IAAIU,OAAO,EAAE;UACX;UACA,IAAIV,OAAO,CAACC,GAAG,KAAKU,QAAQ,EAAE;YAAA,IAAAmB,iBAAA;YAC5B,MAAMhB,cAAc,IAAAgB,iBAAA,GAAG9B,OAAO,CAACE,OAAO,cAAA4B,iBAAA,uBAAfA,iBAAA,CAAiB/B,GAAG,CAACI,KAAK,IAAI;cACnD,IAAIA,KAAK,CAACF,GAAG,KAAKQ,SAAS,EAAE;gBAC3B,OAAO;kBACL,GAAGN,KAAK;kBACR4B,KAAK,EAAEhD,QAAQ,CAACE,IAAI,CAAC8C,KAAK;kBAC1BC,QAAQ,EAAEjD,QAAQ,CAACE,IAAI,CAAC+C,QAAQ;kBAChCC,YAAY,EAAElD,QAAQ,CAACE,IAAI,CAACgD;gBAC9B,CAAC;cACH;cACA,OAAO9B,KAAK;YACd,CAAC,CAAC;YACF,OAAO;cAAE,GAAGH,OAAO;cAAEE,OAAO,EAAEY,cAAc,IAAI;YAAG,CAAC;UACtD;;UAEA;UACA,MAAMV,mBAAmB,GAAIF,OAAO,IAAK;YACvC,OAAOA,OAAO,CAACH,GAAG,CAACI,KAAK,IAAI;cAAA,IAAA+B,eAAA;cAC1B,IAAI/B,KAAK,CAACF,GAAG,KAAKQ,SAAS,EAAE;gBAC3B,OAAO;kBACL,GAAGN,KAAK;kBACR4B,KAAK,EAAEhD,QAAQ,CAACE,IAAI,CAAC8C,KAAK;kBAC1BC,QAAQ,EAAEjD,QAAQ,CAACE,IAAI,CAAC+C,QAAQ;kBAChCC,YAAY,EAAElD,QAAQ,CAACE,IAAI,CAACgD;gBAC9B,CAAC;cACH;cACA,KAAAC,eAAA,GAAI/B,KAAK,CAACD,OAAO,cAAAgC,eAAA,eAAbA,eAAA,CAAe5B,MAAM,EAAE;gBACzB,OAAO;kBACL,GAAGH,KAAK;kBACRD,OAAO,EAAEE,mBAAmB,CAACD,KAAK,CAACD,OAAO;gBAC5C,CAAC;cACH;cACA,OAAOC,KAAK;YACd,CAAC,CAAC;UACJ,CAAC;UAED,OAAO;YACL,GAAGH,OAAO;YACVE,OAAO,EAAEE,mBAAmB,CAACJ,OAAO,CAACE,OAAO,IAAI,EAAE;UACpD,CAAC;QACH,CAAC,MAAM;UACL;UACA,IAAIF,OAAO,CAACC,GAAG,KAAKQ,SAAS,EAAE;YAC7B,OAAO;cACL,GAAGT,OAAO;cACV+B,KAAK,EAAEhD,QAAQ,CAACE,IAAI,CAAC8C,KAAK;cAC1BC,QAAQ,EAAEjD,QAAQ,CAACE,IAAI,CAAC+C,QAAQ;cAChCC,YAAY,EAAElD,QAAQ,CAACE,IAAI,CAACgD;YAC9B,CAAC;UACH;UACA,OAAOjC,OAAO;QAChB;MACF,CAAC,CAAC;MAEFnC,WAAW,CAACiC,eAAe,CAAC;IAC9B,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACzC;EACF,CAAC;;EAED;EACA,MAAMiD,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,UAAU,CAAC;IACjC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,EAAE,EAAE;MAAEC,IAAI,EAAE,SAAS;MAAEC,MAAM,EAAE;IAAU,CAAC,CAAC;EAC5E,CAAC;EAED,MAAMC,UAAU,GAAIN,UAAU,IAAK;IACjC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,UAAU,CAAC;IACjC,OAAOC,IAAI,CAACM,kBAAkB,CAAC,EAAE,EAAE;MAAEC,GAAG,EAAE,SAAS;MAAEC,KAAK,EAAE,SAAS;MAAEC,IAAI,EAAE;IAAU,CAAC,CAAC;EAC3F,CAAC;;EAED;EACA,MAAMC,OAAO,GAAGA,CAAC;IAAE/C,OAAO;IAAEgD,KAAK,GAAG,CAAC;IAAEpE,eAAe,GAAG;EAAK,CAAC,KAAK;IAAA,IAAAqE,qBAAA,EAAAC,cAAA,EAAAC,iBAAA,EAAAC,iBAAA;IAClE,MAAMC,SAAS,GAAG/E,SAAS,KAAK0B,OAAO,CAACC,GAAG;IAC3C,MAAMqD,UAAU,GAAGpF,UAAU,KAAK8B,OAAO,CAACC,GAAG;IAC7C,MAAMsD,QAAQ,GAAG7E,WAAW,KAAKsB,OAAO,CAACC,GAAG;IAC5C,MAAMS,OAAO,GAAGsC,KAAK,GAAG,CAAC;IACzB,MAAMzB,SAAS,GAAGvB,OAAO,CAACuB,SAAS;IACnC,MAAMiC,SAAS,GAAG,CAAC;IAEnB,oBACE1K,OAAA,CAACpB,KAAK,CAACqB,QAAQ;MAAA0K,QAAA,gBACb3K,OAAA,CAACQ,WAAW;QAACE,MAAM,EAAEwJ,KAAM;QAAAS,QAAA,gBACzB3K,OAAA,CAACY,aAAa;UACZgK,GAAG,EAAE,EAAAT,qBAAA,GAAAjD,OAAO,CAACrC,IAAI,CAAC8D,OAAO,cAAAwB,qBAAA,uBAApBA,qBAAA,CAAsBvB,MAAM,KAAI,iCAAkC;UACvEiC,GAAG,EAAE3D,OAAO,CAACrC,IAAI,CAAC6D,QAAS;UAC3B5H,QAAQ,EAAE8G;QAAQ;UAAAkD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACFjL,OAAA,CAACgB,cAAc;UAACF,QAAQ,EAAE8G,OAAQ;UAAA+C,QAAA,gBAChC3K,OAAA,CAACkB,aAAa;YAAAyJ,QAAA,gBACZ3K,OAAA,CAACoB,WAAW;cAAAuJ,QAAA,GAAC,GACV,EAACzD,OAAO,CAACrC,IAAI,CAAC6D,QAAQ,EACtBxB,OAAO,CAACrC,IAAI,CAACqG,UAAU,iBAAIlL,OAAA,CAACsB,SAAS;gBAAAqJ,QAAA,EAAC;cAAU;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAW,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClD,CAAC,EAEb,CAACxC,SAAS,IAAI5D,IAAI,KAAKqC,OAAO,CAACrC,IAAI,CAACsC,GAAG,KAAKtC,IAAI,CAACsC,GAAG,IAAItC,IAAI,CAACsG,OAAO,CAAC,iBACpEnL,OAAA,CAACkD,iBAAiB;cAACkI,OAAO,EAAEA,CAAA,KAAMvF,cAAc,CAACqB,OAAO,CAACC,GAAG,CAAE;cAAAwD,QAAA,eAC5D3K,OAAA,CAACP,gBAAgB;gBAAAqL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACpB;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACY,CAAC,EAEfR,QAAQ,iBACPzK,OAAA,CAACoD,WAAW;YAAAuH,QAAA,gBACV3K,OAAA,CAACsD,YAAY;cAAC8H,OAAO,EAAEA,CAAA,KAAM3D,UAAU,CAACP,OAAO,CAAE;cAAAyD,QAAA,gBAC/C3K,OAAA,CAACN,OAAO;gBAAC2L,IAAI,EAAE;cAAG;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,WACvB;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAc,CAAC,eACfjL,OAAA,CAACsD,YAAY;cAAC8H,OAAO,EAAEA,CAAA,KAAMhD,YAAY,CAAClB,OAAO,CAACC,GAAG,EAAES,OAAO,EAAE9B,eAAe,CAAE;cAAA6E,QAAA,gBAC/E3K,OAAA,CAACL,QAAQ;gBAAC0L,IAAI,EAAE;cAAG;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,YACxB;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAc,CAAC,eACfjL,OAAA,CAACsD,YAAY;cAAC8H,OAAO,EAAEA,CAAA,KAAMvF,cAAc,CAAC,IAAI,CAAE;cAAA8E,QAAA,gBAChD3K,OAAA,CAACJ,GAAG;gBAACyL,IAAI,EAAE;cAAG;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,aACnB;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAc,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CACd,EAEAV,SAAS,gBACRvK,OAAA,CAACwD,QAAQ;YAAAmH,QAAA,gBACP3K,OAAA,CAAC0D,YAAY;cACX4H,KAAK,EAAE5F,QAAS;cAChB6F,QAAQ,EAAGhF,CAAC,IAAKZ,WAAW,CAACY,CAAC,CAACiF,MAAM,CAACF,KAAK,CAAE;cAC7CG,SAAS;YAAA;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC,eACFjL,OAAA,CAAC6D,WAAW;cAAA8G,QAAA,gBACV3K,OAAA,CAACiE,YAAY;gBAACmH,OAAO,EAAEA,CAAA,KAAM3F,YAAY,CAAC,IAAI,CAAE;gBAAAkF,QAAA,EAAC;cAEjD;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAc,CAAC,eACfjL,OAAA,CAAC+D,UAAU;gBAACqH,OAAO,EAAEA,CAAA,KAAM1D,cAAc,CAACR,OAAO,CAACC,GAAG,EAAES,OAAO,EAAE9B,eAAe,CAAE;gBAAA6E,QAAA,EAAC;cAElF;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,gBAEXjL,OAAA,CAAAE,SAAA;YAAAyK,QAAA,gBACE3K,OAAA,CAACyB,WAAW;cAACE,UAAU,EAAE8G,SAAU;cAAAkC,QAAA,EAChClC,SAAS,gBAAGzI,OAAA,CAACuE,cAAc;gBAAAoG,QAAA,EAAEzD,OAAO,CAACH;cAAI;gBAAA+D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAiB,CAAC,GAAG/D,OAAO,CAACH;YAAI;cAAA+D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChE,CAAC,eACdjL,OAAA,CAAC6B,WAAW;cAAA8I,QAAA,GACTf,UAAU,CAAC1C,OAAO,CAACwE,SAAS,CAAC,EAAC,SAAI,EAACrC,UAAU,CAACnC,OAAO,CAACwE,SAAS,CAAC,EAChExE,OAAO,CAACe,QAAQ,IAAI,YAAY;YAAA;cAAA6C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtB,CAAC;UAAA,eACd,CACH,EAEA,CAACxC,SAAS,iBACTzI,OAAA,CAAC6C,eAAe;YAAA8H,QAAA,gBACd3K,OAAA,CAAC+C,cAAc;cACbqI,OAAO,EAAEA,CAAA,KAAMtC,cAAc,CAC3B5B,OAAO,CAACC,GAAG,EACX,MAAM,EACNS,OAAO,EACP9B,eACF,CAAE;cACF9C,OAAO,EAAEkE,OAAO,CAACiC,YAAY,KAAK,MAAO;cAAAwB,QAAA,GAExCzD,OAAO,CAACiC,YAAY,KAAK,MAAM,gBAAGnJ,OAAA,CAACH,UAAU;gBAAAiL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAGjL,OAAA,CAACT,UAAU;gBAAAuL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EACjE,EAAAb,cAAA,GAAAlD,OAAO,CAAC+B,KAAK,cAAAmB,cAAA,uBAAbA,cAAA,CAAe5C,MAAM,KAAI,CAAC;YAAA;cAAAsD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACb,CAAC,eACjBjL,OAAA,CAAC+C,cAAc;cACbqI,OAAO,EAAEA,CAAA,KAAMtC,cAAc,CAC3B5B,OAAO,CAACC,GAAG,EACX,SAAS,EACTS,OAAO,EACP9B,eACF,CAAE;cACF9C,OAAO,EAAEkE,OAAO,CAACiC,YAAY,KAAK,SAAU;cAAAwB,QAAA,GAE3CzD,OAAO,CAACiC,YAAY,KAAK,SAAS,gBAAGnJ,OAAA,CAACF,YAAY;gBAAAgL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAGjL,OAAA,CAACR,YAAY;gBAAAsL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EACxE,EAAAZ,iBAAA,GAAAnD,OAAO,CAACgC,QAAQ,cAAAmB,iBAAA,uBAAhBA,iBAAA,CAAkB7C,MAAM,KAAI,CAAC;YAAA;cAAAsD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChB,CAAC,EAChBpG,IAAI,IAAIqF,KAAK,GAAGQ,SAAS,iBACxB1K,OAAA,CAACyC,WAAW;cAAC2I,OAAO,EAAEA,CAAA,KAAM;gBAC1B/F,aAAa,CAACmF,UAAU,GAAG,IAAI,GAAGtD,OAAO,CAACC,GAAG,CAAC;gBAC9C,IAAIS,OAAO,EAAE7B,kBAAkB,CAACD,eAAe,CAAC;cAClD,CAAE;cAAA6E,QAAA,gBACA3K,OAAA,CAACV,gBAAgB;gBAAC+L,IAAI,EAAE;cAAG;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,aAEhC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAa,CACd;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACc,CAClB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACa,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAEbT,UAAU,IAAIN,KAAK,GAAGQ,SAAS,iBAC9B1K,OAAA,CAAC2C,SAAS;QAACgJ,QAAQ,EAAGpF,CAAC,IAAKG,iBAAiB,CAC3CH,CAAC,EACDW,OAAO,CAACC,GAAG,EACX+C,KAAK,KAAK,CAAC,CAAC;QACd,CAAE;QAAAS,QAAA,gBACA3K,OAAA,CAACmC,YAAY;UACXyJ,IAAI,EAAC,MAAM;UACXN,KAAK,EAAEhG,SAAU;UACjBiG,QAAQ,EAAGhF,CAAC,IAAKhB,YAAY,CAACgB,CAAC,CAACiF,MAAM,CAACF,KAAK,CAAE;UAC9CO,WAAW,EAAC,yBAAyB;UACrCJ,SAAS;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC,eACFjL,OAAA,CAACsC,YAAY;UAACsJ,IAAI,EAAC,QAAQ;UAAAjB,QAAA,eACzB3K,OAAA,CAACX,MAAM;YAACgM,IAAI,EAAE;UAAG;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACZ,GAAAX,iBAAA,GAEApD,OAAO,CAACE,OAAO,cAAAkD,iBAAA,uBAAfA,iBAAA,CAAiBrD,GAAG,CAACI,KAAK,iBACzBrH,OAAA,CAACiK,OAAO;QAEN/C,OAAO,EAAEG,KAAM;QACf6C,KAAK,EAAEA,KAAK,GAAG,CAAE;QACjBpE,eAAe,EAAEoB,OAAO,CAACC;MAAI,GAHxBE,KAAK,CAACF,GAAG;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIf,CACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACY,CAAC;EAErB,CAAC;;EAED;EACA,MAAMa,GAAG,GAAGA,CAAC;IAAEC,KAAK;IAAEC;EAAM,CAAC,kBAC3BhM,OAAA;IAAKgM,KAAK,EAAEA,KAAM;IAAArB,QAAA,eAChB3K,OAAA,CAACiK,OAAO;MACN/C,OAAO,EAAEpC,QAAQ,CAACiH,KAAK,CAAE;MACzB7B,KAAK,EAAE;IAAE;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CACN;EAED,oBACEjL,OAAA,CAACG,gBAAgB;IAAAwK,QAAA,gBACf3K,OAAA,CAACM,WAAW;MAAAqK,QAAA,EACTzF,OAAO,gBACNlF,OAAA,CAACmE,cAAc;QAAAwG,QAAA,EAAC;MAAyB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAgB,CAAC,GACxDnG,QAAQ,CAAC0C,MAAM,KAAK,CAAC,gBACvBxH,OAAA,CAACqE,YAAY;QAAAsG,QAAA,EAAC;MAAyC;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc,CAAC,gBAEtEjL,OAAA,CAACd,SAAS;QAAAyL,QAAA,EACPA,CAAC;UAAEsB,MAAM;UAAEC;QAAM,CAAC,kBACjBlM,OAAA,CAACf,IAAI;UACHgN,MAAM,EAAEA,MAAO;UACfE,SAAS,EAAErH,QAAQ,CAAC0C,MAAO;UAC3B4E,QAAQ,EAAE,GAAI,CAAC;UAAA;UACfF,KAAK,EAAEA,KAAM;UAAAvB,QAAA,EAEZmB;QAAG;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA;MACP;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACQ;IACZ;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACU,CAAC,EAEbpG,IAAI,iBACH7E,OAAA,CAACgC,WAAW;MAAC2J,QAAQ,EAAErF,YAAa;MAAAqE,QAAA,gBAClC3K,OAAA,CAACmC,YAAY;QACXyJ,IAAI,EAAC,MAAM;QACXN,KAAK,EAAEtG,WAAY;QACnBuG,QAAQ,EAAGhF,CAAC,IAAKtB,cAAc,CAACsB,CAAC,CAACiF,MAAM,CAACF,KAAK,CAAE;QAChDO,WAAW,EAAC;MAA2B;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC,eACFjL,OAAA,CAACsC,YAAY;QAACsJ,IAAI,EAAC,QAAQ;QAAAjB,QAAA,eACzB3K,OAAA,CAACX,MAAM;UAACgM,IAAI,EAAE;QAAG;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACd;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAEvB,CAAC;AAACrG,EAAA,CA7iBIH,cAAc;EAAA,QACDrF,OAAO;AAAA;AAAAiN,IAAA,GADpB5H,cAAc;AA+iBpB,eAAeA,cAAc;AAAC,IAAApE,EAAA,EAAAE,GAAA,EAAAI,GAAA,EAAAI,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAG,GAAA,EAAAI,GAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAA6H,IAAA;AAAAC,YAAA,CAAAjM,EAAA;AAAAiM,YAAA,CAAA/L,GAAA;AAAA+L,YAAA,CAAA3L,GAAA;AAAA2L,YAAA,CAAAvL,GAAA;AAAAuL,YAAA,CAAArL,GAAA;AAAAqL,YAAA,CAAAnL,GAAA;AAAAmL,YAAA,CAAAjL,GAAA;AAAAiL,YAAA,CAAA9K,GAAA;AAAA8K,YAAA,CAAA1K,GAAA;AAAA0K,YAAA,CAAAvK,IAAA;AAAAuK,YAAA,CAAApK,IAAA;AAAAoK,YAAA,CAAAjK,IAAA;AAAAiK,YAAA,CAAA9J,IAAA;AAAA8J,YAAA,CAAA5J,IAAA;AAAA4J,YAAA,CAAA1J,IAAA;AAAA0J,YAAA,CAAAxJ,IAAA;AAAAwJ,YAAA,CAAArJ,IAAA;AAAAqJ,YAAA,CAAAnJ,IAAA;AAAAmJ,YAAA,CAAAjJ,IAAA;AAAAiJ,YAAA,CAAA/I,IAAA;AAAA+I,YAAA,CAAA7I,IAAA;AAAA6I,YAAA,CAAA1I,IAAA;AAAA0I,YAAA,CAAAxI,IAAA;AAAAwI,YAAA,CAAAtI,IAAA;AAAAsI,YAAA,CAAApI,IAAA;AAAAoI,YAAA,CAAAlI,IAAA;AAAAkI,YAAA,CAAAhI,IAAA;AAAAgI,YAAA,CAAA9H,IAAA;AAAA8H,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}