{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useParams,useNavigate}from'react-router-dom';import styled from'styled-components';import{useAuth}from'../contexts/AuthContext';import{Helmet}from'react-helmet-async';import api from'../services/api';import{FiArrowLeft,FiHeart,FiMessageSquare,FiShare2,FiMoreVertical,FiTrash2,FiX}from'react-icons/fi';import{FaHeart,FaRegComment}from'react-icons/fa';import CommentSection from'../components/CommentSection';import{formatDistanceToNow}from'date-fns';import{ptBR}from'date-fns/locale';import LoadingSpinner from'../components/LoadingSpinner';import ErrorMessage from'../components/ErrorMessage';import{toast}from'react-toastify';import{buildUrl}from'../utils/urlUtils';// Estilos\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MemeDetailContainer=styled.div`\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n  background: var(--background);\n  color: var(--text);\n`;const Header=styled.header`\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid var(--border-light);\n  position: sticky;\n  top: 0;\n  background: var(--background);\n  z-index: 10;\n  padding-top: 10px;\n`;const BackButton=styled.button`\n  background: none;\n  border: none;\n  color: var(--primary);\n  cursor: pointer;\n  margin-right: 15px;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  padding: 8px;\n  border-radius: 50%;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: rgba(255, 69, 0, 0.1);\n  }\n`;const MemeContent=styled.article`\n  margin-bottom: 30px;\n  border-radius: var(--radius-md);\n  overflow: hidden;\n  box-shadow: var(--shadow);\n  background: var(--card-bg);\n`;const UserInfo=styled.div`\n  display: flex;\n  align-items: center;\n  padding: 15px;\n  position: relative;\n`;const Avatar=styled.img`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 10px;\n  border: 2px solid var(--primary-light);\n  cursor: pointer;\n  transition: transform 0.2s;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n`;const Username=styled.span`\n  font-weight: 600;\n  color: var(--primary);\n  cursor: pointer;\n  transition: color 0.2s;\n\n  &:hover {\n    color: var(--primary-dark);\n  }\n`;const Timestamp=styled.span`\n  font-size: 0.8rem;\n  color: var(--text-light);\n  margin-left: auto;\n`;const OptionsButton=styled.button`\n  background: none;\n  border: none;\n  color: var(--text-light);\n  cursor: pointer;\n  margin-left: 10px;\n  font-size: 1.2rem;\n  transition: color 0.2s;\n\n  &:hover {\n    color: var(--primary);\n  }\n`;const MemeMedia=styled.div`\n  width: 100%;\n  max-height: 80vh;\n  background: var(--background-light);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n\n  img, video {\n    width: 100%;\n    max-height: 80vh;\n    object-fit: contain;\n    display: block;\n  }\n\n  video {\n    background: #000;\n    width: 100%;\n  }\n`;const Caption=styled.p`\n  font-size: 1rem;\n  padding: 15px;\n  margin: 0;\n  line-height: 1.5;\n  white-space: pre-wrap;\n  word-break: break-word;\n  border-bottom: 1px solid var(--border-light);\n`;const Tags=styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  padding: 0 15px 15px;\n`;const Tag=styled.span`\n  background: rgba(255, 69, 0, 0.1);\n  color: var(--primary);\n  padding: 4px 10px;\n  border-radius: 20px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background: rgba(255, 69, 0, 0.2);\n    transform: translateY(-2px);\n  }\n`;const Actions=styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 15px;\n  border-top: 1px solid var(--border-light);\n`;const ActionButton=styled.button`\n  background: none;\n  border: none;\n  color: var(--text-light);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  font-size: 0.9rem;\n  padding: 8px 12px;\n  border-radius: var(--radius-sm);\n  transition: all 0.2s;\n\n  &:hover {\n    background: rgba(255, 69, 0, 0.1);\n    color: var(--primary);\n  }\n\n  &.active {\n    color: var(--primary);\n  }\n`;const ConfirmationDialog=styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n`;const DialogContent=styled.div`\n  background: var(--card-bg);\n  padding: 2rem;\n  border-radius: var(--radius-md);\n  width: 90%;\n  max-width: 400px;\n  box-shadow: var(--shadow-lg);\n`;const DialogTitle=styled.h3`\n  margin: 0 0 1.5rem;\n  color: var(--text);\n  font-size: 1.2rem;\n  text-align: center;\n`;const DialogButtons=styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n`;const DialogButton=styled.button`\n  padding: 0.75rem 1.5rem;\n  border-radius: var(--radius-sm);\n  border: none;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  transition: var(--transition);\n  \n  &:first-child {\n    background: var(--danger);\n    color: white;\n    \n    &:hover {\n      background: var(--danger-dark);\n    }\n  }\n  \n  &:last-child {\n    background: var(--background-light);\n    color: var(--text);\n    border: 1px solid var(--border);\n    \n    &:hover {\n      background: var(--background);\n    }\n  }\n`;const MemeDetailPage=()=>{var _meme$mediaUrl,_meme$author2,_meme$author3,_meme$author4,_meme$author4$profile,_meme$author5,_meme$author8,_meme$author9,_meme$tags;const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[meme,setMeme]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[liked,setLiked]=useState(false);const[likeCount,setLikeCount]=useState(0);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[isDeleting,setIsDeleting]=useState(false);const fetchMeme=useCallback(async()=>{try{var _memeData$likes,_memeData$likes2;setLoading(true);const response=await api.get(`/memes/${id}`);const memeData=response.data;setMeme(memeData);setLiked(((_memeData$likes=memeData.likes)===null||_memeData$likes===void 0?void 0:_memeData$likes.includes(user===null||user===void 0?void 0:user._id))||false);setLikeCount(((_memeData$likes2=memeData.likes)===null||_memeData$likes2===void 0?void 0:_memeData$likes2.length)||0);}catch(err){var _err$response,_err$response$data,_err$response2,_err$response2$data;console.error('Erro ao carregar meme:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Meme não encontrado');toast.error(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Erro ao carregar meme');}finally{setLoading(false);}},[id,user===null||user===void 0?void 0:user._id]);const handleLike=useCallback(async()=>{if(!user){navigate('/login',{state:{from:`/memes/${id}`}});return;}try{const response=await api.post(`/memes/${id}/like`);setLiked(response.data.isLiked);setLikeCount(response.data.likeCount);toast.success(response.data.isLiked?'Meme curtido!':'Curtida removida');}catch(err){var _err$response3,_err$response3$data;console.error('Erro ao curtir:',err);toast.error(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||'Erro ao curtir meme');}},[id,user,navigate]);const handleShare=useCallback(()=>{if(navigator.share){var _meme$author;navigator.share({title:(meme===null||meme===void 0?void 0:meme.caption)||'Confira este meme!',text:`Meme postado por @${meme===null||meme===void 0?void 0:(_meme$author=meme.author)===null||_meme$author===void 0?void 0:_meme$author.username}`,url:`${window.location.origin}/memes/${id}`}).catch(()=>{// Fallback para copiar o link\nnavigator.clipboard.writeText(`${window.location.origin}/memes/${id}`);toast.success('Link copiado para a área de transferência!');});}else{navigator.clipboard.writeText(`${window.location.origin}/memes/${id}`);toast.success('Link copiado para a área de transferência!');}},[id,meme]);const handleDelete=useCallback(async()=>{try{setIsDeleting(true);await api.delete(`/memes/${id}`);toast.success('Meme deletado com sucesso!');navigate('/');}catch(err){var _err$response4,_err$response4$data;console.error('Erro ao deletar meme:',err);toast.error(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||'Erro ao deletar meme');}finally{setIsDeleting(false);setShowDeleteConfirm(false);}},[id,navigate]);useEffect(()=>{fetchMeme();},[fetchMeme]);if(loading){return/*#__PURE__*/_jsx(MemeDetailContainer,{children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(MemeDetailContainer,{children:/*#__PURE__*/_jsx(ErrorMessage,{message:error,onRetry:fetchMeme})});}if(!meme){return/*#__PURE__*/_jsx(MemeDetailContainer,{children:/*#__PURE__*/_jsx(ErrorMessage,{message:\"Meme n\\xE3o encontrado\"})});}const isVideo=meme.mediaType==='video'||((_meme$mediaUrl=meme.mediaUrl)===null||_meme$mediaUrl===void 0?void 0:_meme$mediaUrl.endsWith('.mp4'));const fullMediaUrl=buildUrl(meme.mediaUrl);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsxs(\"title\",{children:[meme.caption?`${meme.caption.substring(0,60)}...`:'Visualizar Meme',\" | iFunny Clone\"]}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:`Meme postado por @${(_meme$author2=meme.author)===null||_meme$author2===void 0?void 0:_meme$author2.username}`}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:meme.caption||'Meme interessante'}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:description\",content:`Meme postado por @${(_meme$author3=meme.author)===null||_meme$author3===void 0?void 0:_meme$author3.username}`}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:image\",content:fullMediaUrl}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:url\",content:`${window.location.origin}/memes/${meme._id}`})]}),/*#__PURE__*/_jsxs(MemeDetailContainer,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(BackButton,{onClick:()=>navigate(-1),\"aria-label\":\"Voltar\",children:/*#__PURE__*/_jsx(FiArrowLeft,{})}),/*#__PURE__*/_jsx(\"h1\",{style:{flex:1,fontSize:'1.2rem'},children:\"Detalhes do Meme\"})]}),/*#__PURE__*/_jsxs(MemeContent,{children:[/*#__PURE__*/_jsxs(UserInfo,{children:[/*#__PURE__*/_jsx(Avatar,{src:buildUrl((_meme$author4=meme.author)===null||_meme$author4===void 0?void 0:(_meme$author4$profile=_meme$author4.profile)===null||_meme$author4$profile===void 0?void 0:_meme$author4$profile.avatar)||'https://i.pravatar.cc/150?img=3',alt:(_meme$author5=meme.author)===null||_meme$author5===void 0?void 0:_meme$author5.username,onClick:()=>{var _meme$author6;return navigate(`/users/${(_meme$author6=meme.author)===null||_meme$author6===void 0?void 0:_meme$author6._id}`);},onError:e=>{e.target.src='https://i.pravatar.cc/150?img=3';}}),/*#__PURE__*/_jsxs(Username,{onClick:()=>{var _meme$author7;return navigate(`/users/${(_meme$author7=meme.author)===null||_meme$author7===void 0?void 0:_meme$author7._id}`);},children:[\"@\",((_meme$author8=meme.author)===null||_meme$author8===void 0?void 0:_meme$author8.username)||'desconhecido']}),/*#__PURE__*/_jsx(Timestamp,{children:formatDistanceToNow(new Date(meme.createdAt),{addSuffix:true,locale:ptBR})}),(user===null||user===void 0?void 0:user._id)===((_meme$author9=meme.author)===null||_meme$author9===void 0?void 0:_meme$author9._id)&&/*#__PURE__*/_jsx(OptionsButton,{onClick:()=>setShowDeleteConfirm(true),\"aria-label\":\"Op\\xE7\\xF5es\",children:/*#__PURE__*/_jsx(FiMoreVertical,{})})]}),meme.caption&&/*#__PURE__*/_jsx(Caption,{children:meme.caption}),((_meme$tags=meme.tags)===null||_meme$tags===void 0?void 0:_meme$tags.length)>0&&/*#__PURE__*/_jsx(Tags,{children:meme.tags.map((tag,index)=>/*#__PURE__*/_jsxs(Tag,{onClick:()=>navigate(`/explore?tag=${tag}`),children:[\"#\",tag]},index))}),/*#__PURE__*/_jsx(MemeMedia,{children:isVideo?/*#__PURE__*/_jsxs(\"video\",{controls:true,playsInline:true,poster:meme.thumbnailUrl?buildUrl(meme.thumbnailUrl):undefined,children:[/*#__PURE__*/_jsx(\"source\",{src:fullMediaUrl,type:\"video/mp4\"}),\"Seu navegador n\\xE3o suporta v\\xEDdeos HTML5.\"]}):/*#__PURE__*/_jsx(\"img\",{src:fullMediaUrl,alt:meme.caption||'Meme',loading:\"lazy\",onError:e=>{e.target.src='https://via.placeholder.com/600x400?text=Imagem+nao+carregada';}})}),/*#__PURE__*/_jsxs(Actions,{children:[/*#__PURE__*/_jsxs(ActionButton,{onClick:handleLike,className:liked?'active':'',\"aria-label\":liked?'Remover curtida':'Curtir',children:[liked?/*#__PURE__*/_jsx(FaHeart,{color:\"var(--primary)\"}):/*#__PURE__*/_jsx(FiHeart,{}),likeCount]}),/*#__PURE__*/_jsxs(ActionButton,{\"aria-label\":\"Coment\\xE1rios\",children:[/*#__PURE__*/_jsx(FaRegComment,{}),meme.commentCount||0]}),/*#__PURE__*/_jsxs(ActionButton,{onClick:handleShare,\"aria-label\":\"Compartilhar\",children:[/*#__PURE__*/_jsx(FiShare2,{}),\"Compartilhar\"]})]})]}),/*#__PURE__*/_jsx(CommentSection,{memeId:id,currentUser:user,onCommentSubmit:fetchMeme}),showDeleteConfirm&&/*#__PURE__*/_jsx(ConfirmationDialog,{children:/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Tem certeza que deseja deletar este meme?\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:'var(--text-light)'},children:\"Esta a\\xE7\\xE3o \\xE9 irrevers\\xEDvel e remover\\xE1 o meme permanentemente.\"}),/*#__PURE__*/_jsxs(DialogButtons,{children:[/*#__PURE__*/_jsxs(DialogButton,{onClick:handleDelete,disabled:isDeleting,children:[/*#__PURE__*/_jsx(FiTrash2,{}),isDeleting?'Deletando...':'Deletar']}),/*#__PURE__*/_jsxs(DialogButton,{onClick:()=>setShowDeleteConfirm(false),disabled:isDeleting,children:[/*#__PURE__*/_jsx(FiX,{}),\"Cancelar\"]})]})]})})]})]});};export default MemeDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","styled","useAuth","Helmet","api","FiArrowLeft","FiHeart","FiMessageSquare","FiShare2","FiMoreVertical","FiTrash2","FiX","FaHeart","FaRegComment","CommentSection","formatDistanceToNow","ptBR","LoadingSpinner","ErrorMessage","toast","buildUrl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MemeDetailContainer","div","Header","header","BackButton","button","MemeContent","article","UserInfo","Avatar","img","Username","span","Timestamp","OptionsButton","MemeMedia","Caption","p","Tags","Tag","Actions","ActionButton","ConfirmationDialog","DialogContent","DialogTitle","h3","DialogButtons","DialogButton","MemeDetailPage","_meme$mediaUrl","_meme$author2","_meme$author3","_meme$author4","_meme$author4$profile","_meme$author5","_meme$author8","_meme$author9","_meme$tags","id","navigate","user","meme","setMeme","loading","setLoading","error","setError","liked","setLiked","likeCount","setLikeCount","showDeleteConfirm","setShowDeleteConfirm","isDeleting","setIsDeleting","fetchMeme","_memeData$likes","_memeData$likes2","response","get","memeData","data","likes","includes","_id","length","err","_err$response","_err$response$data","_err$response2","_err$response2$data","console","message","handleLike","state","from","post","isLiked","success","_err$response3","_err$response3$data","handleShare","navigator","share","_meme$author","title","caption","text","author","username","url","window","location","origin","catch","clipboard","writeText","handleDelete","delete","_err$response4","_err$response4$data","children","onRetry","isVideo","mediaType","mediaUrl","endsWith","fullMediaUrl","substring","name","content","property","onClick","style","flex","fontSize","src","profile","avatar","alt","_meme$author6","onError","e","target","_meme$author7","Date","createdAt","addSuffix","locale","tags","map","tag","index","controls","playsInline","poster","thumbnailUrl","undefined","type","className","color","commentCount","memeId","currentUser","onCommentSubmit","textAlign","disabled"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/client2/src/pages/MemeDetailPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport api from '../services/api';\r\nimport { \r\n  FiArrowLeft, \r\n  FiHeart, \r\n  FiMessageSquare, \r\n  FiShare2, \r\n  FiMoreVertical,\r\n  FiTrash2,\r\n  FiX\r\n} from 'react-icons/fi';\r\nimport { FaHeart, FaRegComment } from 'react-icons/fa';\r\nimport CommentSection from '../components/CommentSection';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport ErrorMessage from '../components/ErrorMessage';\r\nimport { toast } from 'react-toastify';\r\nimport { buildUrl } from '../utils/urlUtils';\r\n\r\n\r\n// Estilos\r\nconst MemeDetailContainer = styled.div`\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background: var(--background);\r\n  color: var(--text);\r\n`;\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid var(--border-light);\r\n  position: sticky;\r\n  top: 0;\r\n  background: var(--background);\r\n  z-index: 10;\r\n  padding-top: 10px;\r\n`;\r\n\r\nconst BackButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--primary);\r\n  cursor: pointer;\r\n  margin-right: 15px;\r\n  font-size: 1.2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px;\r\n  border-radius: 50%;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: rgba(255, 69, 0, 0.1);\r\n  }\r\n`;\r\n\r\nconst MemeContent = styled.article`\r\n  margin-bottom: 30px;\r\n  border-radius: var(--radius-md);\r\n  overflow: hidden;\r\n  box-shadow: var(--shadow);\r\n  background: var(--card-bg);\r\n`;\r\n\r\nconst UserInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px;\r\n  position: relative;\r\n`;\r\n\r\nconst Avatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-right: 10px;\r\n  border: 2px solid var(--primary-light);\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Username = styled.span`\r\n  font-weight: 600;\r\n  color: var(--primary);\r\n  cursor: pointer;\r\n  transition: color 0.2s;\r\n\r\n  &:hover {\r\n    color: var(--primary-dark);\r\n  }\r\n`;\r\n\r\nconst Timestamp = styled.span`\r\n  font-size: 0.8rem;\r\n  color: var(--text-light);\r\n  margin-left: auto;\r\n`;\r\n\r\nconst OptionsButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-light);\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n  font-size: 1.2rem;\r\n  transition: color 0.2s;\r\n\r\n  &:hover {\r\n    color: var(--primary);\r\n  }\r\n`;\r\n\r\nconst MemeMedia = styled.div`\r\n  width: 100%;\r\n  max-height: 80vh;\r\n  background: var(--background-light);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  img, video {\r\n    width: 100%;\r\n    max-height: 80vh;\r\n    object-fit: contain;\r\n    display: block;\r\n  }\r\n\r\n  video {\r\n    background: #000;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst Caption = styled.p`\r\n  font-size: 1rem;\r\n  padding: 15px;\r\n  margin: 0;\r\n  line-height: 1.5;\r\n  white-space: pre-wrap;\r\n  word-break: break-word;\r\n  border-bottom: 1px solid var(--border-light);\r\n`;\r\n\r\nconst Tags = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  padding: 0 15px 15px;\r\n`;\r\n\r\nconst Tag = styled.span`\r\n  background: rgba(255, 69, 0, 0.1);\r\n  color: var(--primary);\r\n  padding: 4px 10px;\r\n  border-radius: 20px;\r\n  font-size: 0.8rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    background: rgba(255, 69, 0, 0.2);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px 15px;\r\n  border-top: 1px solid var(--border-light);\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-light);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 0.9rem;\r\n  padding: 8px 12px;\r\n  border-radius: var(--radius-sm);\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    background: rgba(255, 69, 0, 0.1);\r\n    color: var(--primary);\r\n  }\r\n\r\n  &.active {\r\n    color: var(--primary);\r\n  }\r\n`;\r\n\r\nconst ConfirmationDialog = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst DialogContent = styled.div`\r\n  background: var(--card-bg);\r\n  padding: 2rem;\r\n  border-radius: var(--radius-md);\r\n  width: 90%;\r\n  max-width: 400px;\r\n  box-shadow: var(--shadow-lg);\r\n`;\r\n\r\nconst DialogTitle = styled.h3`\r\n  margin: 0 0 1.5rem;\r\n  color: var(--text);\r\n  font-size: 1.2rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst DialogButtons = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  justify-content: center;\r\n  margin-top: 2rem;\r\n`;\r\n\r\nconst DialogButton = styled.button`\r\n  padding: 0.75rem 1.5rem;\r\n  border-radius: var(--radius-sm);\r\n  border: none;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  transition: var(--transition);\r\n  \r\n  &:first-child {\r\n    background: var(--danger);\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: var(--danger-dark);\r\n    }\r\n  }\r\n  \r\n  &:last-child {\r\n    background: var(--background-light);\r\n    color: var(--text);\r\n    border: 1px solid var(--border);\r\n    \r\n    &:hover {\r\n      background: var(--background);\r\n    }\r\n  }\r\n`;\r\n\r\nconst MemeDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [meme, setMeme] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [liked, setLiked] = useState(false);\r\n  const [likeCount, setLikeCount] = useState(0);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  const fetchMeme = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/memes/${id}`);\r\n      const memeData = response.data;\r\n      \r\n      setMeme(memeData);\r\n      setLiked(memeData.likes?.includes(user?._id) || false);\r\n      setLikeCount(memeData.likes?.length || 0);\r\n    } catch (err) {\r\n      console.error('Erro ao carregar meme:', err);\r\n      setError(err.response?.data?.message || 'Meme não encontrado');\r\n      toast.error(err.response?.data?.message || 'Erro ao carregar meme');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id, user?._id]);\r\n\r\n  const handleLike = useCallback(async () => {\r\n    if (!user) {\r\n      navigate('/login', { state: { from: `/memes/${id}` } });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.post(`/memes/${id}/like`);\r\n      setLiked(response.data.isLiked);\r\n      setLikeCount(response.data.likeCount);\r\n      \r\n      toast.success(\r\n        response.data.isLiked \r\n          ? 'Meme curtido!' \r\n          : 'Curtida removida'\r\n      );\r\n    } catch (err) {\r\n      console.error('Erro ao curtir:', err);\r\n      toast.error(err.response?.data?.message || 'Erro ao curtir meme');\r\n    }\r\n  }, [id, user, navigate]);\r\n\r\n  const handleShare = useCallback(() => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: meme?.caption || 'Confira este meme!',\r\n        text: `Meme postado por @${meme?.author?.username}`,\r\n        url: `${window.location.origin}/memes/${id}`,\r\n      }).catch(() => {\r\n        // Fallback para copiar o link\r\n        navigator.clipboard.writeText(`${window.location.origin}/memes/${id}`);\r\n        toast.success('Link copiado para a área de transferência!');\r\n      });\r\n    } else {\r\n      navigator.clipboard.writeText(`${window.location.origin}/memes/${id}`);\r\n      toast.success('Link copiado para a área de transferência!');\r\n    }\r\n  }, [id, meme]);\r\n\r\n  const handleDelete = useCallback(async () => {\r\n    try {\r\n      setIsDeleting(true);\r\n      await api.delete(`/memes/${id}`);\r\n      toast.success('Meme deletado com sucesso!');\r\n      navigate('/');\r\n    } catch (err) {\r\n      console.error('Erro ao deletar meme:', err);\r\n      toast.error(err.response?.data?.message || 'Erro ao deletar meme');\r\n    } finally {\r\n      setIsDeleting(false);\r\n      setShowDeleteConfirm(false);\r\n    }\r\n  }, [id, navigate]);\r\n\r\n  useEffect(() => {\r\n    fetchMeme();\r\n  }, [fetchMeme]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <MemeDetailContainer>\r\n        <LoadingSpinner />\r\n      </MemeDetailContainer>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <MemeDetailContainer>\r\n        <ErrorMessage message={error} onRetry={fetchMeme} />\r\n      </MemeDetailContainer>\r\n    );\r\n  }\r\n\r\n  if (!meme) {\r\n    return (\r\n      <MemeDetailContainer>\r\n        <ErrorMessage message=\"Meme não encontrado\" />\r\n      </MemeDetailContainer>\r\n    );\r\n  }\r\n\r\n  const isVideo = meme.mediaType === 'video' || meme.mediaUrl?.endsWith('.mp4');\r\n  const fullMediaUrl = buildUrl(meme.mediaUrl);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{meme.caption ? `${meme.caption.substring(0, 60)}...` : 'Visualizar Meme'} | iFunny Clone</title>\r\n        <meta name=\"description\" content={`Meme postado por @${meme.author?.username}`} />\r\n        <meta property=\"og:title\" content={meme.caption || 'Meme interessante'} />\r\n        <meta property=\"og:description\" content={`Meme postado por @${meme.author?.username}`} />\r\n        <meta property=\"og:image\" content={fullMediaUrl} />\r\n        <meta property=\"og:url\" content={`${window.location.origin}/memes/${meme._id}`} />\r\n      </Helmet>\r\n\r\n      <MemeDetailContainer>\r\n        <Header>\r\n          <BackButton onClick={() => navigate(-1)} aria-label=\"Voltar\">\r\n            <FiArrowLeft />\r\n          </BackButton>\r\n          <h1 style={{ flex: 1, fontSize: '1.2rem' }}>Detalhes do Meme</h1>\r\n        </Header>\r\n\r\n        <MemeContent>\r\n          <UserInfo>\r\n            <Avatar \r\n              src={buildUrl(meme.author?.profile?.avatar) || 'https://i.pravatar.cc/150?img=3'}\r\n              alt={meme.author?.username}\r\n              onClick={() => navigate(`/users/${meme.author?._id}`)}\r\n              onError={(e) => {\r\n                e.target.src = 'https://i.pravatar.cc/150?img=3';\r\n              }}\r\n            />\r\n            <Username onClick={() => navigate(`/users/${meme.author?._id}`)}>\r\n              @{meme.author?.username || 'desconhecido'}\r\n            </Username>\r\n            <Timestamp>\r\n              {formatDistanceToNow(new Date(meme.createdAt), { \r\n                addSuffix: true,\r\n                locale: ptBR \r\n              })}\r\n            </Timestamp>\r\n            \r\n            {user?._id === meme.author?._id && (\r\n              <OptionsButton \r\n                onClick={() => setShowDeleteConfirm(true)}\r\n                aria-label=\"Opções\"\r\n              >\r\n                <FiMoreVertical />\r\n              </OptionsButton>\r\n            )}\r\n          </UserInfo>\r\n\r\n          {meme.caption && <Caption>{meme.caption}</Caption>}\r\n\r\n          {meme.tags?.length > 0 && (\r\n            <Tags>\r\n              {meme.tags.map((tag, index) => (\r\n                <Tag \r\n                  key={index} \r\n                  onClick={() => navigate(`/explore?tag=${tag}`)}\r\n                >\r\n                  #{tag}\r\n                </Tag>\r\n              ))}\r\n            </Tags>\r\n          )}\r\n\r\n          <MemeMedia>\r\n            {isVideo ? (\r\n              <video \r\n                controls\r\n                playsInline\r\n                poster={meme.thumbnailUrl ? buildUrl(meme.thumbnailUrl) : undefined}\r\n              >\r\n                <source src={fullMediaUrl} type=\"video/mp4\" />\r\n                Seu navegador não suporta vídeos HTML5.\r\n              </video>\r\n            ) : (\r\n              <img\r\n                src={fullMediaUrl}\r\n                alt={meme.caption || 'Meme'}\r\n                loading=\"lazy\"\r\n                onError={(e) => {\r\n                  e.target.src = 'https://via.placeholder.com/600x400?text=Imagem+nao+carregada';\r\n                }}\r\n              />\r\n            )}\r\n          </MemeMedia>\r\n\r\n          <Actions>\r\n            <ActionButton \r\n              onClick={handleLike} \r\n              className={liked ? 'active' : ''}\r\n              aria-label={liked ? 'Remover curtida' : 'Curtir'}\r\n            >\r\n              {liked ? <FaHeart color=\"var(--primary)\" /> : <FiHeart />}\r\n              {likeCount}\r\n            </ActionButton>\r\n            <ActionButton aria-label=\"Comentários\">\r\n              <FaRegComment />\r\n              {meme.commentCount || 0}\r\n            </ActionButton>\r\n            <ActionButton \r\n              onClick={handleShare}\r\n              aria-label=\"Compartilhar\"\r\n            >\r\n              <FiShare2 />\r\n              Compartilhar\r\n            </ActionButton>\r\n          </Actions>\r\n        </MemeContent>\r\n\r\n        <CommentSection \r\n          memeId={id} \r\n          currentUser={user}\r\n          onCommentSubmit={fetchMeme}\r\n        />\r\n\r\n        {showDeleteConfirm && (\r\n          <ConfirmationDialog>\r\n            <DialogContent>\r\n              <DialogTitle>Tem certeza que deseja deletar este meme?</DialogTitle>\r\n              <p style={{ textAlign: 'center', color: 'var(--text-light)' }}>\r\n                Esta ação é irreversível e removerá o meme permanentemente.\r\n              </p>\r\n              <DialogButtons>\r\n                <DialogButton \r\n                  onClick={handleDelete}\r\n                  disabled={isDeleting}\r\n                >\r\n                  <FiTrash2 />\r\n                  {isDeleting ? 'Deletando...' : 'Deletar'}\r\n                </DialogButton>\r\n                <DialogButton \r\n                  onClick={() => setShowDeleteConfirm(false)}\r\n                  disabled={isDeleting}\r\n                >\r\n                  <FiX />\r\n                  Cancelar\r\n                </DialogButton>\r\n              </DialogButtons>\r\n            </DialogContent>\r\n          </ConfirmationDialog>\r\n        )}\r\n      </MemeDetailContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MemeDetailPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,MAAM,KAAQ,oBAAoB,CAC3C,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,OACEC,WAAW,CACXC,OAAO,CACPC,eAAe,CACfC,QAAQ,CACRC,cAAc,CACdC,QAAQ,CACRC,GAAG,KACE,gBAAgB,CACvB,OAASC,OAAO,CAAEC,YAAY,KAAQ,gBAAgB,CACtD,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,OAASC,mBAAmB,KAAQ,UAAU,CAC9C,OAASC,IAAI,KAAQ,iBAAiB,CACtC,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,QAAQ,KAAQ,mBAAmB,CAG5C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,mBAAmB,CAAG1B,MAAM,CAAC2B,GAAG;AACtC;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,MAAM,CAAG5B,MAAM,CAAC6B,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG9B,MAAM,CAAC+B,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGhC,MAAM,CAACiC,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGlC,MAAM,CAAC2B,GAAG;AAC3B;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAQ,MAAM,CAAGnC,MAAM,CAACoC,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGrC,MAAM,CAACsC,IAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGvC,MAAM,CAACsC,IAAI;AAC7B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAE,aAAa,CAAGxC,MAAM,CAAC+B,MAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAU,SAAS,CAAGzC,MAAM,CAAC2B,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAe,OAAO,CAAG1C,MAAM,CAAC2C,CAAC;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,IAAI,CAAG5C,MAAM,CAAC2B,GAAG;AACvB;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAkB,GAAG,CAAG7C,MAAM,CAACsC,IAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAQ,OAAO,CAAG9C,MAAM,CAAC2B,GAAG;AAC1B;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAoB,YAAY,CAAG/C,MAAM,CAAC+B,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAiB,kBAAkB,CAAGhD,MAAM,CAAC2B,GAAG;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAsB,aAAa,CAAGjD,MAAM,CAAC2B,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}