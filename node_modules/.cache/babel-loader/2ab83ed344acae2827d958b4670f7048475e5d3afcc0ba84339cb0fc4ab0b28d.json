{"ast":null,"code":"// src/services/socket.js\nimport{io}from'socket.io-client';// Configuração recomendada para produção/desenvolvimento\nconst API_URL=process.env.REACT_APP_API_URL||'https://api.jokesteronline.org';let socket;export const initSocket=token=>{if(!socket){socket=io(API_URL,{auth:{token},transports:['websocket'],reconnection:true,reconnectionAttempts:5,reconnectionDelay:1000,autoConnect:true});socket.on('connect',()=>{console.log('Socket connected:',socket.id);});socket.on('disconnect',()=>{console.log('Socket disconnected');});}return socket;};export const getSocket=()=>socket;export const disconnectSocket=()=>{if(socket){socket.disconnect();socket=null;}};","map":{"version":3,"names":["io","API_URL","process","env","REACT_APP_API_URL","socket","initSocket","token","auth","transports","reconnection","reconnectionAttempts","reconnectionDelay","autoConnect","on","console","log","id","getSocket","disconnectSocket","disconnect"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/client2/src/services/socket.js"],"sourcesContent":["// src/services/socket.js\r\nimport { io } from 'socket.io-client';\r\n\r\n// Configuração recomendada para produção/desenvolvimento\r\nconst API_URL = process.env.REACT_APP_API_URL || 'https://api.jokesteronline.org';\r\n\r\nlet socket;\r\n\r\nexport const initSocket = (token) => {\r\n  if (!socket) {\r\n    socket = io(API_URL, {\r\n      auth: { token },\r\n      transports: ['websocket'],\r\n      reconnection: true,\r\n      reconnectionAttempts: 5,\r\n      reconnectionDelay: 1000,\r\n      autoConnect: true\r\n    });\r\n\r\n    socket.on('connect', () => {\r\n      console.log('Socket connected:', socket.id);\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      console.log('Socket disconnected');\r\n    });\r\n  }\r\n  return socket;\r\n};\r\n\r\nexport const getSocket = () => socket;\r\n\r\nexport const disconnectSocket = () => {\r\n  if (socket) {\r\n    socket.disconnect();\r\n    socket = null;\r\n  }\r\n};"],"mappings":"AAAA;AACA,OAASA,EAAE,KAAQ,kBAAkB,CAErC;AACA,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,gCAAgC,CAEjF,GAAI,CAAAC,MAAM,CAEV,MAAO,MAAM,CAAAC,UAAU,CAAIC,KAAK,EAAK,CACnC,GAAI,CAACF,MAAM,CAAE,CACXA,MAAM,CAAGL,EAAE,CAACC,OAAO,CAAE,CACnBO,IAAI,CAAE,CAAED,KAAM,CAAC,CACfE,UAAU,CAAE,CAAC,WAAW,CAAC,CACzBC,YAAY,CAAE,IAAI,CAClBC,oBAAoB,CAAE,CAAC,CACvBC,iBAAiB,CAAE,IAAI,CACvBC,WAAW,CAAE,IACf,CAAC,CAAC,CAEFR,MAAM,CAACS,EAAE,CAAC,SAAS,CAAE,IAAM,CACzBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEX,MAAM,CAACY,EAAE,CAAC,CAC7C,CAAC,CAAC,CAEFZ,MAAM,CAACS,EAAE,CAAC,YAAY,CAAE,IAAM,CAC5BC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACpC,CAAC,CAAC,CACJ,CACA,MAAO,CAAAX,MAAM,CACf,CAAC,CAED,MAAO,MAAM,CAAAa,SAAS,CAAGA,CAAA,GAAMb,MAAM,CAErC,MAAO,MAAM,CAAAc,gBAAgB,CAAGA,CAAA,GAAM,CACpC,GAAId,MAAM,CAAE,CACVA,MAAM,CAACe,UAAU,CAAC,CAAC,CACnBf,MAAM,CAAG,IAAI,CACf,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}