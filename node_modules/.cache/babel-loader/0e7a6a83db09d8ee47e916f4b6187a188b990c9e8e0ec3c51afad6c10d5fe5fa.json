{"ast":null,"code":"// contexts/NotificationContext.jsx\nimport React,{createContext,useContext,useState,useEffect,useCallback}from'react';import api from'../services/api';import{useAuth}from'./AuthContext';import{initSocket}from'../services/socket';import{debounce}from'lodash';import{jsx as _jsx}from\"react/jsx-runtime\";const NotificationContext=/*#__PURE__*/createContext();export const NotificationProvider=_ref=>{let{children}=_ref;const[notifications,setNotifications]=useState([]);const[unreadCount,setUnreadCount]=useState(0);const[loading,setLoading]=useState(true);const{user}=useAuth();const[socket,setSocket]=useState(null);// Debounced version of setNotifications to prevent rapid updates\nconst debouncedSetNotifications=useCallback(debounce(newNotifications=>{setNotifications(newNotifications);},300),[]);// Carrega notificações iniciais\nconst loadNotifications=useCallback(async()=>{try{var _response$data;setLoading(true);const response=await api.get('/notifications',{params:{limit:20,skip:0}});// Verifica a estrutura dos dados e atualiza o estado\nconst notificationsData=Array.isArray((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.data)?response.data.data:[];debouncedSetNotifications(notificationsData);}catch(error){console.error('Failed to load notifications:',error);debouncedSetNotifications([]);}finally{setLoading(false);}},[debouncedSetNotifications]);// Carrega contagem de não lidas\nconst loadUnreadCount=useCallback(async()=>{if(!user)return;try{const response=await api.get('/notifications/unread-count');setUnreadCount(response.data.count||0);}catch(error){console.error('Failed to load unread count:',error);setUnreadCount(0);}},[user]);// Marca notificações como lidas\nconst markAsRead=useCallback(async notificationIds=>{if(!notificationIds||notificationIds.length===0)return;try{await api.post('/notifications/mark-read',{notificationIds});setUnreadCount(prev=>Math.max(0,prev-notificationIds.length));setNotifications(prev=>prev.map(n=>notificationIds.includes(n._id)?{...n,read:true}:n));}catch(error){console.error('Failed to mark as read:',error);}},[]);// Função para mostrar alerta de notificação\nconst showNotificationAlert=useCallback(notification=>{if('Notification'in window&&Notification.permission==='granted'){var _notification$sender,_notification$sender$;const title=getNotificationTitle(notification);const options={body:getNotificationBody(notification),icon:((_notification$sender=notification.sender)===null||_notification$sender===void 0?void 0:(_notification$sender$=_notification$sender.profile)===null||_notification$sender$===void 0?void 0:_notification$sender$.avatar)||'/logo192.png'};new Notification(title,options);}},[]);// Handler para novas notificações via WebSocket\nconst handleNewNotification=useCallback(notification=>{setNotifications(prev=>{// Evita duplicatas\nif(!prev.some(n=>n._id===notification._id)){return[notification,...prev];}return prev;});setUnreadCount(prev=>prev+1);if(document.visibilityState!=='visible'){showNotificationAlert(notification);}},[showNotificationAlert]);// Configura WebSocket e carrega dados iniciais\nuseEffect(()=>{if(!user){// Limpa notificações quando o usuário desloga\nsetNotifications([]);setUnreadCount(0);return;}// Inicializa o socket\nconst token=localStorage.getItem('token');const newSocket=initSocket(token);setSocket(newSocket);// Configura handlers de eventos\nnewSocket.on('connect_error',err=>{console.error('Connection error:',err);});newSocket.on('new-notification',handleNewNotification);// Carrega dados iniciais\nconst loadInitialData=async()=>{try{await Promise.all([loadNotifications(),loadUnreadCount()]);}catch(error){console.error('Error loading initial data:',error);}};loadInitialData();// Cleanup\nreturn()=>{newSocket.off('new-notification',handleNewNotification);newSocket.disconnect();};},[user,handleNewNotification,loadNotifications,loadUnreadCount]);// Funções auxiliares para texto de notificação\nconst getNotificationTitle=notification=>{var _notification$sender2,_notification$metadat,_notification$sender3,_notification$metadat2;switch(notification.type){case'like':return`${((_notification$sender2=notification.sender)===null||_notification$sender2===void 0?void 0:_notification$sender2.username)||'Alguém'} curtiu seu meme`;case'like_grouped':return`Seu meme tem ${((_notification$metadat=notification.metadata)===null||_notification$metadat===void 0?void 0:_notification$metadat.count)||'muitas'} curtidas`;case'comment':return`${((_notification$sender3=notification.sender)===null||_notification$sender3===void 0?void 0:_notification$sender3.username)||'Alguém'} comentou no seu meme`;case'comment_grouped':return`Seu meme tem ${((_notification$metadat2=notification.metadata)===null||_notification$metadat2===void 0?void 0:_notification$metadat2.count)||'muitos'} comentários`;default:return'Nova notificação';}};const getNotificationBody=notification=>{var _notification$meme,_notification$meme2;switch(notification.type){case'like':case'comment':return(_notification$meme=notification.meme)!==null&&_notification$meme!==void 0&&_notification$meme.caption?truncate(notification.meme.caption,50):'Veja agora';case'like_grouped':case'comment_grouped':return(_notification$meme2=notification.meme)!==null&&_notification$meme2!==void 0&&_notification$meme2.caption?truncate(notification.meme.caption,50):'Veja todas as interações';default:return'';}};const truncate=(str,n)=>{return(str===null||str===void 0?void 0:str.length)>n?str.substr(0,n-1)+'...':str;};return/*#__PURE__*/_jsx(NotificationContext.Provider,{value:{notifications,unreadCount,loading,markAsRead,loadNotifications,loadUnreadCount},children:children});};export const useNotifications=()=>{const context=useContext(NotificationContext);if(!context){throw new Error('useNotifications must be used within a NotificationProvider');}return context;};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","api","useAuth","initSocket","debounce","jsx","_jsx","NotificationContext","NotificationProvider","_ref","children","notifications","setNotifications","unreadCount","setUnreadCount","loading","setLoading","user","socket","setSocket","debouncedSetNotifications","newNotifications","loadNotifications","_response$data","response","get","params","limit","skip","notificationsData","Array","isArray","data","error","console","loadUnreadCount","count","markAsRead","notificationIds","length","post","prev","Math","max","map","n","includes","_id","read","showNotificationAlert","notification","window","Notification","permission","_notification$sender","_notification$sender$","title","getNotificationTitle","options","body","getNotificationBody","icon","sender","profile","avatar","handleNewNotification","some","document","visibilityState","token","localStorage","getItem","newSocket","on","err","loadInitialData","Promise","all","off","disconnect","_notification$sender2","_notification$metadat","_notification$sender3","_notification$metadat2","type","username","metadata","_notification$meme","_notification$meme2","meme","caption","truncate","str","substr","Provider","value","useNotifications","context","Error"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/client2/src/contexts/NotificationContext.jsx"],"sourcesContent":["// contexts/NotificationContext.jsx\r\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\r\nimport api from '../services/api';\r\nimport { useAuth } from './AuthContext';\r\nimport { initSocket } from '../services/socket';\r\nimport { debounce } from 'lodash';\r\n\r\nconst NotificationContext = createContext();\r\n\r\nexport const NotificationProvider = ({ children }) => {\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const { user } = useAuth();\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  // Debounced version of setNotifications to prevent rapid updates\r\n  const debouncedSetNotifications = useCallback(\r\n    debounce((newNotifications) => {\r\n      setNotifications(newNotifications);\r\n    }, 300),\r\n    []\r\n  );\r\n\r\n  // Carrega notificações iniciais\r\n  const loadNotifications = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/notifications', {\r\n        params: { limit: 20, skip: 0 }\r\n      });\r\n      \r\n      // Verifica a estrutura dos dados e atualiza o estado\r\n      const notificationsData = Array.isArray(response.data?.data) \r\n        ? response.data.data \r\n        : [];\r\n      \r\n      debouncedSetNotifications(notificationsData);\r\n    } catch (error) {\r\n      console.error('Failed to load notifications:', error);\r\n      debouncedSetNotifications([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [debouncedSetNotifications]);\r\n\r\n  // Carrega contagem de não lidas\r\n  const loadUnreadCount = useCallback(async () => {\r\n    if (!user) return;\r\n    try {\r\n      const response = await api.get('/notifications/unread-count');\r\n      setUnreadCount(response.data.count || 0);\r\n    } catch (error) {\r\n      console.error('Failed to load unread count:', error);\r\n      setUnreadCount(0);\r\n    }\r\n  }, [user]);\r\n\r\n  // Marca notificações como lidas\r\n  const markAsRead = useCallback(async (notificationIds) => {\r\n    if (!notificationIds || notificationIds.length === 0) return;\r\n    try {\r\n      await api.post('/notifications/mark-read', { notificationIds });\r\n      setUnreadCount(prev => Math.max(0, prev - notificationIds.length));\r\n      setNotifications(prev => \r\n        prev.map(n => \r\n          notificationIds.includes(n._id) ? { ...n, read: true } : n\r\n        )\r\n      );\r\n    } catch (error) {\r\n      console.error('Failed to mark as read:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Função para mostrar alerta de notificação\r\n  const showNotificationAlert = useCallback((notification) => {\r\n    if ('Notification' in window && Notification.permission === 'granted') {\r\n      const title = getNotificationTitle(notification);\r\n      const options = {\r\n        body: getNotificationBody(notification),\r\n        icon: notification.sender?.profile?.avatar || '/logo192.png'\r\n      };\r\n      new Notification(title, options);\r\n    }\r\n  }, []);\r\n\r\n  // Handler para novas notificações via WebSocket\r\n  const handleNewNotification = useCallback((notification) => {\r\n    setNotifications(prev => {\r\n      // Evita duplicatas\r\n      if (!prev.some(n => n._id === notification._id)) {\r\n        return [notification, ...prev];\r\n      }\r\n      return prev;\r\n    });\r\n    \r\n    setUnreadCount(prev => prev + 1);\r\n    \r\n    if (document.visibilityState !== 'visible') {\r\n      showNotificationAlert(notification);\r\n    }\r\n  }, [showNotificationAlert]);\r\n\r\n  // Configura WebSocket e carrega dados iniciais\r\n  useEffect(() => {\r\n    if (!user) {\r\n      // Limpa notificações quando o usuário desloga\r\n      setNotifications([]);\r\n      setUnreadCount(0);\r\n      return;\r\n    }\r\n\r\n    // Inicializa o socket\r\n    const token = localStorage.getItem('token');\r\n    const newSocket = initSocket(token);\r\n    setSocket(newSocket);\r\n\r\n    // Configura handlers de eventos\r\n    newSocket.on('connect_error', (err) => {\r\n      console.error('Connection error:', err);\r\n    });\r\n\r\n    newSocket.on('new-notification', handleNewNotification);\r\n\r\n    // Carrega dados iniciais\r\n    const loadInitialData = async () => {\r\n      try {\r\n        await Promise.all([loadNotifications(), loadUnreadCount()]);\r\n      } catch (error) {\r\n        console.error('Error loading initial data:', error);\r\n      }\r\n    };\r\n    \r\n    loadInitialData();\r\n\r\n    // Cleanup\r\n    return () => {\r\n      newSocket.off('new-notification', handleNewNotification);\r\n      newSocket.disconnect();\r\n    };\r\n  }, [user, handleNewNotification, loadNotifications, loadUnreadCount]);\r\n\r\n  // Funções auxiliares para texto de notificação\r\n  const getNotificationTitle = (notification) => {\r\n    switch(notification.type) {\r\n      case 'like':\r\n        return `${notification.sender?.username || 'Alguém'} curtiu seu meme`;\r\n      case 'like_grouped':\r\n        return `Seu meme tem ${notification.metadata?.count || 'muitas'} curtidas`;\r\n      case 'comment':\r\n        return `${notification.sender?.username || 'Alguém'} comentou no seu meme`;\r\n      case 'comment_grouped':\r\n        return `Seu meme tem ${notification.metadata?.count || 'muitos'} comentários`;\r\n      default:\r\n        return 'Nova notificação';\r\n    }\r\n  };\r\n\r\n  const getNotificationBody = (notification) => {\r\n    switch(notification.type) {\r\n      case 'like':\r\n      case 'comment':\r\n        return notification.meme?.caption \r\n          ? truncate(notification.meme.caption, 50) \r\n          : 'Veja agora';\r\n      case 'like_grouped':\r\n      case 'comment_grouped':\r\n        return notification.meme?.caption \r\n          ? truncate(notification.meme.caption, 50) \r\n          : 'Veja todas as interações';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  const truncate = (str, n) => {\r\n    return str?.length > n ? str.substr(0, n-1) + '...' : str;\r\n  };\r\n\r\n  return (\r\n    <NotificationContext.Provider\r\n      value={{\r\n        notifications,\r\n        unreadCount,\r\n        loading,\r\n        markAsRead,\r\n        loadNotifications,\r\n        loadUnreadCount\r\n      }}\r\n    >\r\n      {children}\r\n    </NotificationContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useNotifications = () => {\r\n  const context = useContext(NotificationContext);\r\n  if (!context) {\r\n    throw new Error('useNotifications must be used within a NotificationProvider');\r\n  }\r\n  return context;\r\n};"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC1F,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,OAASC,OAAO,KAAQ,eAAe,CACvC,OAASC,UAAU,KAAQ,oBAAoB,CAC/C,OAASC,QAAQ,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElC,KAAM,CAAAC,mBAAmB,cAAGX,aAAa,CAAC,CAAC,CAE3C,MAAO,MAAM,CAAAY,oBAAoB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/C,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAEmB,IAAK,CAAC,CAAGf,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACgB,MAAM,CAAEC,SAAS,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAE1C;AACA,KAAM,CAAAsB,yBAAyB,CAAGpB,WAAW,CAC3CI,QAAQ,CAAEiB,gBAAgB,EAAK,CAC7BT,gBAAgB,CAACS,gBAAgB,CAAC,CACpC,CAAC,CAAE,GAAG,CAAC,CACP,EACF,CAAC,CAED;AACA,KAAM,CAAAC,iBAAiB,CAAGtB,WAAW,CAAC,SAAY,CAChD,GAAI,KAAAuB,cAAA,CACFP,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAvB,GAAG,CAACwB,GAAG,CAAC,gBAAgB,CAAE,CAC/CC,MAAM,CAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,IAAI,CAAE,CAAE,CAC/B,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,iBAAiB,CAAGC,KAAK,CAACC,OAAO,EAAAR,cAAA,CAACC,QAAQ,CAACQ,IAAI,UAAAT,cAAA,iBAAbA,cAAA,CAAeS,IAAI,CAAC,CACxDR,QAAQ,CAACQ,IAAI,CAACA,IAAI,CAClB,EAAE,CAENZ,yBAAyB,CAACS,iBAAiB,CAAC,CAC9C,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACrDb,yBAAyB,CAAC,EAAE,CAAC,CAC/B,CAAC,OAAS,CACRJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACI,yBAAyB,CAAC,CAAC,CAE/B;AACA,KAAM,CAAAe,eAAe,CAAGnC,WAAW,CAAC,SAAY,CAC9C,GAAI,CAACiB,IAAI,CAAE,OACX,GAAI,CACF,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAvB,GAAG,CAACwB,GAAG,CAAC,6BAA6B,CAAC,CAC7DX,cAAc,CAACU,QAAQ,CAACQ,IAAI,CAACI,KAAK,EAAI,CAAC,CAAC,CAC1C,CAAE,MAAOH,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDnB,cAAc,CAAC,CAAC,CAAC,CACnB,CACF,CAAC,CAAE,CAACG,IAAI,CAAC,CAAC,CAEV;AACA,KAAM,CAAAoB,UAAU,CAAGrC,WAAW,CAAC,KAAO,CAAAsC,eAAe,EAAK,CACxD,GAAI,CAACA,eAAe,EAAIA,eAAe,CAACC,MAAM,GAAK,CAAC,CAAE,OACtD,GAAI,CACF,KAAM,CAAAtC,GAAG,CAACuC,IAAI,CAAC,0BAA0B,CAAE,CAAEF,eAAgB,CAAC,CAAC,CAC/DxB,cAAc,CAAC2B,IAAI,EAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAEF,IAAI,CAAGH,eAAe,CAACC,MAAM,CAAC,CAAC,CAClE3B,gBAAgB,CAAC6B,IAAI,EACnBA,IAAI,CAACG,GAAG,CAACC,CAAC,EACRP,eAAe,CAACQ,QAAQ,CAACD,CAAC,CAACE,GAAG,CAAC,CAAG,CAAE,GAAGF,CAAC,CAAEG,IAAI,CAAE,IAAK,CAAC,CAAGH,CAC3D,CACF,CAAC,CACH,CAAE,MAAOZ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAgB,qBAAqB,CAAGjD,WAAW,CAAEkD,YAAY,EAAK,CAC1D,GAAI,cAAc,EAAI,CAAAC,MAAM,EAAIC,YAAY,CAACC,UAAU,GAAK,SAAS,CAAE,KAAAC,oBAAA,CAAAC,qBAAA,CACrE,KAAM,CAAAC,KAAK,CAAGC,oBAAoB,CAACP,YAAY,CAAC,CAChD,KAAM,CAAAQ,OAAO,CAAG,CACdC,IAAI,CAAEC,mBAAmB,CAACV,YAAY,CAAC,CACvCW,IAAI,CAAE,EAAAP,oBAAA,CAAAJ,YAAY,CAACY,MAAM,UAAAR,oBAAA,kBAAAC,qBAAA,CAAnBD,oBAAA,CAAqBS,OAAO,UAAAR,qBAAA,iBAA5BA,qBAAA,CAA8BS,MAAM,GAAI,cAChD,CAAC,CACD,GAAI,CAAAZ,YAAY,CAACI,KAAK,CAAEE,OAAO,CAAC,CAClC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAO,qBAAqB,CAAGjE,WAAW,CAAEkD,YAAY,EAAK,CAC1DtC,gBAAgB,CAAC6B,IAAI,EAAI,CACvB;AACA,GAAI,CAACA,IAAI,CAACyB,IAAI,CAACrB,CAAC,EAAIA,CAAC,CAACE,GAAG,GAAKG,YAAY,CAACH,GAAG,CAAC,CAAE,CAC/C,MAAO,CAACG,YAAY,CAAE,GAAGT,IAAI,CAAC,CAChC,CACA,MAAO,CAAAA,IAAI,CACb,CAAC,CAAC,CAEF3B,cAAc,CAAC2B,IAAI,EAAIA,IAAI,CAAG,CAAC,CAAC,CAEhC,GAAI0B,QAAQ,CAACC,eAAe,GAAK,SAAS,CAAE,CAC1CnB,qBAAqB,CAACC,YAAY,CAAC,CACrC,CACF,CAAC,CAAE,CAACD,qBAAqB,CAAC,CAAC,CAE3B;AACAlD,SAAS,CAAC,IAAM,CACd,GAAI,CAACkB,IAAI,CAAE,CACT;AACAL,gBAAgB,CAAC,EAAE,CAAC,CACpBE,cAAc,CAAC,CAAC,CAAC,CACjB,OACF,CAEA;AACA,KAAM,CAAAuD,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,SAAS,CAAGrE,UAAU,CAACkE,KAAK,CAAC,CACnClD,SAAS,CAACqD,SAAS,CAAC,CAEpB;AACAA,SAAS,CAACC,EAAE,CAAC,eAAe,CAAGC,GAAG,EAAK,CACrCxC,OAAO,CAACD,KAAK,CAAC,mBAAmB,CAAEyC,GAAG,CAAC,CACzC,CAAC,CAAC,CAEFF,SAAS,CAACC,EAAE,CAAC,kBAAkB,CAAER,qBAAqB,CAAC,CAEvD;AACA,KAAM,CAAAU,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAACvD,iBAAiB,CAAC,CAAC,CAAEa,eAAe,CAAC,CAAC,CAAC,CAAC,CAC7D,CAAE,MAAOF,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CACF,CAAC,CAED0C,eAAe,CAAC,CAAC,CAEjB;AACA,MAAO,IAAM,CACXH,SAAS,CAACM,GAAG,CAAC,kBAAkB,CAAEb,qBAAqB,CAAC,CACxDO,SAAS,CAACO,UAAU,CAAC,CAAC,CACxB,CAAC,CACH,CAAC,CAAE,CAAC9D,IAAI,CAAEgD,qBAAqB,CAAE3C,iBAAiB,CAAEa,eAAe,CAAC,CAAC,CAErE;AACA,KAAM,CAAAsB,oBAAoB,CAAIP,YAAY,EAAK,KAAA8B,qBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAC7C,OAAOjC,YAAY,CAACkC,IAAI,EACtB,IAAK,MAAM,CACT,MAAO,GAAG,EAAAJ,qBAAA,CAAA9B,YAAY,CAACY,MAAM,UAAAkB,qBAAA,iBAAnBA,qBAAA,CAAqBK,QAAQ,GAAI,QAAQ,kBAAkB,CACvE,IAAK,cAAc,CACjB,MAAO,gBAAgB,EAAAJ,qBAAA,CAAA/B,YAAY,CAACoC,QAAQ,UAAAL,qBAAA,iBAArBA,qBAAA,CAAuB7C,KAAK,GAAI,QAAQ,WAAW,CAC5E,IAAK,SAAS,CACZ,MAAO,GAAG,EAAA8C,qBAAA,CAAAhC,YAAY,CAACY,MAAM,UAAAoB,qBAAA,iBAAnBA,qBAAA,CAAqBG,QAAQ,GAAI,QAAQ,uBAAuB,CAC5E,IAAK,iBAAiB,CACpB,MAAO,gBAAgB,EAAAF,sBAAA,CAAAjC,YAAY,CAACoC,QAAQ,UAAAH,sBAAA,iBAArBA,sBAAA,CAAuB/C,KAAK,GAAI,QAAQ,cAAc,CAC/E,QACE,MAAO,kBAAkB,CAC7B,CACF,CAAC,CAED,KAAM,CAAAwB,mBAAmB,CAAIV,YAAY,EAAK,KAAAqC,kBAAA,CAAAC,mBAAA,CAC5C,OAAOtC,YAAY,CAACkC,IAAI,EACtB,IAAK,MAAM,CACX,IAAK,SAAS,CACZ,MAAO,CAAAG,kBAAA,CAAArC,YAAY,CAACuC,IAAI,UAAAF,kBAAA,WAAjBA,kBAAA,CAAmBG,OAAO,CAC7BC,QAAQ,CAACzC,YAAY,CAACuC,IAAI,CAACC,OAAO,CAAE,EAAE,CAAC,CACvC,YAAY,CAClB,IAAK,cAAc,CACnB,IAAK,iBAAiB,CACpB,MAAO,CAAAF,mBAAA,CAAAtC,YAAY,CAACuC,IAAI,UAAAD,mBAAA,WAAjBA,mBAAA,CAAmBE,OAAO,CAC7BC,QAAQ,CAACzC,YAAY,CAACuC,IAAI,CAACC,OAAO,CAAE,EAAE,CAAC,CACvC,0BAA0B,CAChC,QACE,MAAO,EAAE,CACb,CACF,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGA,CAACC,GAAG,CAAE/C,CAAC,GAAK,CAC3B,MAAO,CAAA+C,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAErD,MAAM,EAAGM,CAAC,CAAG+C,GAAG,CAACC,MAAM,CAAC,CAAC,CAAEhD,CAAC,CAAC,CAAC,CAAC,CAAG,KAAK,CAAG+C,GAAG,CAC3D,CAAC,CAED,mBACEtF,IAAA,CAACC,mBAAmB,CAACuF,QAAQ,EAC3BC,KAAK,CAAE,CACLpF,aAAa,CACbE,WAAW,CACXE,OAAO,CACPsB,UAAU,CACVf,iBAAiB,CACjBa,eACF,CAAE,CAAAzB,QAAA,CAEDA,QAAQ,CACmB,CAAC,CAEnC,CAAC,CAED,MAAO,MAAM,CAAAsF,gBAAgB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAAAC,OAAO,CAAGpG,UAAU,CAACU,mBAAmB,CAAC,CAC/C,GAAI,CAAC0F,OAAO,CAAE,CACZ,KAAM,IAAI,CAAAC,KAAK,CAAC,6DAA6D,CAAC,CAChF,CACA,MAAO,CAAAD,OAAO,CAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}