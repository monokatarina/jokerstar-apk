{"ast":null,"code":"// components/NotificationDropdown/NotificationDropdown.jsx\nimport React,{useState,useEffect,useRef}from'react';import styled,{keyframes}from'styled-components';import{useNotifications}from'../../contexts/NotificationContext';import{FiBell,FiCheck}from'react-icons/fi';import{formatDistanceToNow}from'date-fns';import{ptBR}from'date-fns/locale/pt-BR';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const fadeIn=keyframes`\n  from { opacity: 0; transform: translateY(-10px); }\n  to { opacity: 1; transform: translateY(0); }\n`;const Badge=styled.div`\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  background: var(--danger);\n  color: white;\n  border-radius: 50%;\n  width: 18px;\n  height: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  font-weight: bold;\n`;const NotificationButton=styled.button`\n  position: relative;\n  background: none;\n  border: none;\n  color: white;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n`;const Dropdown=styled.div`\n  position: absolute;\n  right: 0;\n  top: calc(100% + 10px);\n  width: 350px;\n  max-height: 500px;\n  overflow-y: auto;\n  background: var(--card-bg);\n  border-radius: 12px;\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n  display: ${_ref=>{let{$isOpen}=_ref;return $isOpen?'block':'none';}};\n  z-index: 1001;\n  animation: ${fadeIn} 0.2s ease-out;\n  transform-origin: top right;\n  border: 1px solid var(--border-light);\n\n  @media (max-width: 768px) {\n    width: 300px;\n    right: -50px;\n  }\n`;const Header=styled.div`\n  padding: 1rem;\n  border-bottom: 1px solid var(--border-light);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 600;\n`;const MarkAllRead=styled.button`\n  background: none;\n  border: none;\n  color: var(--primary);\n  cursor: pointer;\n  font-size: 0.85rem;\n  \n  &:hover {\n    text-decoration: underline;\n  }\n`;const NotificationList=styled.div`\n  max-height: 400px;\n  overflow-y: auto;\n`;const NotificationItem=styled.div`\n  padding: 1rem;\n  border-bottom: 1px solid var(--border-light);\n  cursor: pointer;\n  transition: background 0.2s ease;\n  display: flex;\n  gap: 0.75rem;\n  background: ${_ref2=>{let{$unread}=_ref2;return $unread?'rgba(255, 69, 0, 0.05)':'transparent';}};\n  \n  &:hover {\n    background: rgba(255, 69, 0, 0.1);\n  }\n`;const Avatar=styled.img`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 2px solid var(--border-light);\n`;const Content=styled.div`\n  flex: 1;\n`;const Text=styled.div`\n  font-size: 0.9rem;\n  line-height: 1.4;\n`;const Time=styled.div`\n  font-size: 0.75rem;\n  color: var(--text-lighter);\n  margin-top: 0.25rem;\n`;const ReadIndicator=styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  \n  svg {\n    color: var(--primary);\n    opacity: ${_ref3=>{let{$unread}=_ref3;return $unread?0:1;}};\n  }\n`;const EmptyState=styled.div`\n  padding: 2rem 1rem;\n  text-align: center;\n  color: var(--text-lighter);\n`;const NotificationDropdown=()=>{const{notifications,unreadCount,markAsRead,loading}=useNotifications();const[isOpen,setIsOpen]=useState(false);const dropdownRef=useRef(null);// Fecha o dropdown quando clica fora\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// Marca como lido quando o dropdown é aberto\nuseEffect(()=>{if(isOpen&&unreadCount>0){const unreadIds=notifications.filter(n=>!n.read).map(n=>n._id);if(unreadIds.length>0){markAsRead(unreadIds);}}},[isOpen]);const handleItemClick=notification=>{// Navega para o conteúdo relacionado\nif(notification.meme){window.location.href=`/memes/${notification.meme._id}`;}setIsOpen(false);};const handleMarkAllRead=async()=>{const allUnreadIds=notifications.filter(n=>!n.read).map(n=>n._id);if(allUnreadIds.length>0){await markAsRead(allUnreadIds);}};const renderNotificationContent=notification=>{var _notification$sender,_notification$meme,_notification$metadat,_notification$meme2,_notification$sender2,_notification$comment,_notification$metadat2,_notification$meme3;switch(notification.type){case'like':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:((_notification$sender=notification.sender)===null||_notification$sender===void 0?void 0:_notification$sender.username)||'Alguém'}),\" curtiu seu meme\",((_notification$meme=notification.meme)===null||_notification$meme===void 0?void 0:_notification$meme.caption)&&/*#__PURE__*/_jsxs(\"div\",{style:{fontStyle:'italic',marginTop:'4px'},children:[\"\\\"\",truncate(notification.meme.caption,50),\"\\\"\"]})]});case'like_grouped':return/*#__PURE__*/_jsxs(_Fragment,{children:[\"Seu meme tem \",/*#__PURE__*/_jsxs(\"strong\",{children:[((_notification$metadat=notification.metadata)===null||_notification$metadat===void 0?void 0:_notification$metadat.count)||'muitas',\" curtidas\"]}),((_notification$meme2=notification.meme)===null||_notification$meme2===void 0?void 0:_notification$meme2.caption)&&/*#__PURE__*/_jsxs(\"div\",{style:{fontStyle:'italic',marginTop:'4px'},children:[\"\\\"\",truncate(notification.meme.caption,50),\"\\\"\"]})]});case'comment':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:((_notification$sender2=notification.sender)===null||_notification$sender2===void 0?void 0:_notification$sender2.username)||'Alguém'}),\" comentou:\",/*#__PURE__*/_jsxs(\"div\",{style:{fontStyle:'italic',marginTop:'4px'},children:[\"\\\"\",truncate((_notification$comment=notification.comment)===null||_notification$comment===void 0?void 0:_notification$comment.text,60),\"\\\"\"]})]});case'comment_grouped':return/*#__PURE__*/_jsxs(_Fragment,{children:[\"Seu meme tem \",/*#__PURE__*/_jsxs(\"strong\",{children:[((_notification$metadat2=notification.metadata)===null||_notification$metadat2===void 0?void 0:_notification$metadat2.count)||'muitos',\" coment\\xE1rios\"]}),((_notification$meme3=notification.meme)===null||_notification$meme3===void 0?void 0:_notification$meme3.caption)&&/*#__PURE__*/_jsxs(\"div\",{style:{fontStyle:'italic',marginTop:'4px'},children:[\"\\\"\",truncate(notification.meme.caption,50),\"\\\"\"]})]});default:return'Nova notificação';}};const truncate=(str,n)=>{return(str===null||str===void 0?void 0:str.length)>n?str.substr(0,n-1)+'...':str;};return/*#__PURE__*/_jsxs(\"div\",{ref:dropdownRef,style:{position:'relative'},children:[/*#__PURE__*/_jsxs(NotificationButton,{onClick:()=>setIsOpen(!isOpen),children:[/*#__PURE__*/_jsx(FiBell,{size:20}),unreadCount>0&&/*#__PURE__*/_jsx(Badge,{children:unreadCount>9?'9+':unreadCount})]}),/*#__PURE__*/_jsxs(Dropdown,{$isOpen:isOpen,children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Notifica\\xE7\\xF5es\"}),notifications.some(n=>!n.read)&&/*#__PURE__*/_jsx(MarkAllRead,{onClick:handleMarkAllRead,children:\"Marcar todas como lidas\"})]}),/*#__PURE__*/_jsx(NotificationList,{children:loading?/*#__PURE__*/_jsx(EmptyState,{children:\"Carregando...\"}):notifications.length===0?/*#__PURE__*/_jsx(EmptyState,{children:\"Nenhuma notifica\\xE7\\xE3o\"}):notifications.map(notification=>{var _notification$sender3,_notification$sender4,_notification$sender5;return/*#__PURE__*/_jsxs(NotificationItem,{$unread:!notification.read,onClick:()=>handleItemClick(notification),children:[/*#__PURE__*/_jsx(Avatar,{src:(_notification$sender3=notification.sender)!==null&&_notification$sender3!==void 0&&(_notification$sender4=_notification$sender3.profile)!==null&&_notification$sender4!==void 0&&_notification$sender4.avatar?notification.sender.profile.avatar.startsWith('http')?notification.sender.profile.avatar:`${process.env.REACT_APP_API_URL||'https://api.jokesteronline.org'}${notification.sender.profile.avatar}`:'https://i.pravatar.cc/150?img=3',alt:(_notification$sender5=notification.sender)===null||_notification$sender5===void 0?void 0:_notification$sender5.username,onError:e=>{e.target.src='https://i.pravatar.cc/150?img=3';e.target.onerror=null;}}),/*#__PURE__*/_jsxs(Content,{children:[/*#__PURE__*/_jsx(Text,{children:renderNotificationContent(notification)}),/*#__PURE__*/_jsx(Time,{children:formatDistanceToNow(new Date(notification.createdAt),{addSuffix:true,locale:ptBR})})]}),/*#__PURE__*/_jsx(ReadIndicator,{$unread:!notification.read,children:/*#__PURE__*/_jsx(FiCheck,{size:18})})]},notification._id);})})]})]});};export default NotificationDropdown;","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","keyframes","useNotifications","FiBell","FiCheck","formatDistanceToNow","ptBR","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","fadeIn","Badge","div","NotificationButton","button","Dropdown","_ref","$isOpen","Header","MarkAllRead","NotificationList","NotificationItem","_ref2","$unread","Avatar","img","Content","Text","Time","ReadIndicator","_ref3","EmptyState","NotificationDropdown","notifications","unreadCount","markAsRead","loading","isOpen","setIsOpen","dropdownRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","unreadIds","filter","n","read","map","_id","length","handleItemClick","notification","meme","window","location","href","handleMarkAllRead","allUnreadIds","renderNotificationContent","_notification$sender","_notification$meme","_notification$metadat","_notification$meme2","_notification$sender2","_notification$comment","_notification$metadat2","_notification$meme3","type","children","sender","username","caption","style","fontStyle","marginTop","truncate","metadata","count","comment","text","str","substr","ref","position","onClick","size","some","_notification$sender3","_notification$sender4","_notification$sender5","src","profile","avatar","startsWith","process","env","REACT_APP_API_URL","alt","onError","e","onerror","Date","createdAt","addSuffix","locale"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/client2/src/components/NotificationDropdown/NotificationDropdown.jsx"],"sourcesContent":["// components/NotificationDropdown/NotificationDropdown.jsx\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { useNotifications } from '../../contexts/NotificationContext';\r\nimport { FiBell, FiCheck } from 'react-icons/fi';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale/pt-BR';\r\n\r\nconst fadeIn = keyframes`\r\n  from { opacity: 0; transform: translateY(-10px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n`;\r\n\r\nconst Badge = styled.div`\r\n  position: absolute;\r\n  top: -5px;\r\n  right: -5px;\r\n  background: var(--danger);\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 18px;\r\n  height: 18px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 10px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst NotificationButton = styled.button`\r\n  position: relative;\r\n  background: none;\r\n  border: none;\r\n  color: white;\r\n  cursor: pointer;\r\n  padding: 0.5rem;\r\n  border-radius: 50%;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  \r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.2);\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Dropdown = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  top: calc(100% + 10px);\r\n  width: 350px;\r\n  max-height: 500px;\r\n  overflow-y: auto;\r\n  background: var(--card-bg);\r\n  border-radius: 12px;\r\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\r\n  display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n  z-index: 1001;\r\n  animation: ${fadeIn} 0.2s ease-out;\r\n  transform-origin: top right;\r\n  border: 1px solid var(--border-light);\r\n\r\n  @media (max-width: 768px) {\r\n    width: 300px;\r\n    right: -50px;\r\n  }\r\n`;\r\n\r\nconst Header = styled.div`\r\n  padding: 1rem;\r\n  border-bottom: 1px solid var(--border-light);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst MarkAllRead = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--primary);\r\n  cursor: pointer;\r\n  font-size: 0.85rem;\r\n  \r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst NotificationList = styled.div`\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst NotificationItem = styled.div`\r\n  padding: 1rem;\r\n  border-bottom: 1px solid var(--border-light);\r\n  cursor: pointer;\r\n  transition: background 0.2s ease;\r\n  display: flex;\r\n  gap: 0.75rem;\r\n  background: ${({ $unread }) => ($unread ? 'rgba(255, 69, 0, 0.05)' : 'transparent')};\r\n  \r\n  &:hover {\r\n    background: rgba(255, 69, 0, 0.1);\r\n  }\r\n`;\r\n\r\nconst Avatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid var(--border-light);\r\n`;\r\n\r\nconst Content = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst Text = styled.div`\r\n  font-size: 0.9rem;\r\n  line-height: 1.4;\r\n`;\r\n\r\nconst Time = styled.div`\r\n  font-size: 0.75rem;\r\n  color: var(--text-lighter);\r\n  margin-top: 0.25rem;\r\n`;\r\n\r\nconst ReadIndicator = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 20px;\r\n  \r\n  svg {\r\n    color: var(--primary);\r\n    opacity: ${({ $unread }) => ($unread ? 0 : 1)};\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  padding: 2rem 1rem;\r\n  text-align: center;\r\n  color: var(--text-lighter);\r\n`;\r\n\r\nconst NotificationDropdown = () => {\r\n  const {\r\n    notifications,\r\n    unreadCount,\r\n    markAsRead,\r\n    loading\r\n  } = useNotifications();\r\n  \r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n\r\n  // Fecha o dropdown quando clica fora\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // Marca como lido quando o dropdown é aberto\r\n  useEffect(() => {\r\n    if (isOpen && unreadCount > 0) {\r\n      const unreadIds = notifications\r\n        .filter(n => !n.read)\r\n        .map(n => n._id);\r\n      \r\n      if (unreadIds.length > 0) {\r\n        markAsRead(unreadIds);\r\n      }\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const handleItemClick = (notification) => {\r\n    // Navega para o conteúdo relacionado\r\n    if (notification.meme) {\r\n      window.location.href = `/memes/${notification.meme._id}`;\r\n    }\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleMarkAllRead = async () => {\r\n    const allUnreadIds = notifications\r\n      .filter(n => !n.read)\r\n      .map(n => n._id);\r\n    \r\n    if (allUnreadIds.length > 0) {\r\n      await markAsRead(allUnreadIds);\r\n    }\r\n  };\r\n\r\n  const renderNotificationContent = (notification) => {\r\n    switch(notification.type) {\r\n      case 'like':\r\n        return (\r\n          <>\r\n            <strong>{notification.sender?.username || 'Alguém'}</strong> curtiu seu meme\r\n            {notification.meme?.caption && (\r\n              <div style={{ fontStyle: 'italic', marginTop: '4px' }}>\r\n                \"{truncate(notification.meme.caption, 50)}\"\r\n              </div>\r\n            )}\r\n          </>\r\n        );\r\n      case 'like_grouped':\r\n        return (\r\n          <>\r\n            Seu meme tem <strong>{notification.metadata?.count || 'muitas'} curtidas</strong>\r\n            {notification.meme?.caption && (\r\n              <div style={{ fontStyle: 'italic', marginTop: '4px' }}>\r\n                \"{truncate(notification.meme.caption, 50)}\"\r\n              </div>\r\n            )}\r\n          </>\r\n        );\r\n      case 'comment':\r\n        return (\r\n          <>\r\n            <strong>{notification.sender?.username || 'Alguém'}</strong> comentou: \r\n            <div style={{ fontStyle: 'italic', marginTop: '4px' }}>\r\n              \"{truncate(notification.comment?.text, 60)}\"\r\n            </div>\r\n          </>\r\n        );\r\n      case 'comment_grouped':\r\n        return (\r\n          <>\r\n            Seu meme tem <strong>{notification.metadata?.count || 'muitos'} comentários</strong>\r\n            {notification.meme?.caption && (\r\n              <div style={{ fontStyle: 'italic', marginTop: '4px' }}>\r\n                \"{truncate(notification.meme.caption, 50)}\"\r\n              </div>\r\n            )}\r\n          </>\r\n        );\r\n      default:\r\n        return 'Nova notificação';\r\n    }\r\n  };\r\n\r\n  const truncate = (str, n) => {\r\n    return str?.length > n ? str.substr(0, n-1) + '...' : str;\r\n  };\r\n\r\n  return (\r\n    <div ref={dropdownRef} style={{ position: 'relative' }}>\r\n      <NotificationButton onClick={() => setIsOpen(!isOpen)}>\r\n        <FiBell size={20} />\r\n        {unreadCount > 0 && <Badge>{unreadCount > 9 ? '9+' : unreadCount}</Badge>}\r\n      </NotificationButton>\r\n      \r\n      <Dropdown $isOpen={isOpen}>\r\n        <Header>\r\n          <span>Notificações</span>\r\n          {notifications.some(n => !n.read) && (\r\n            <MarkAllRead onClick={handleMarkAllRead}>\r\n              Marcar todas como lidas\r\n            </MarkAllRead>\r\n          )}\r\n        </Header>\r\n        \r\n        <NotificationList>\r\n          {loading ? (\r\n            <EmptyState>Carregando...</EmptyState>\r\n          ) : notifications.length === 0 ? (\r\n            <EmptyState>Nenhuma notificação</EmptyState>\r\n          ) : (\r\n            notifications.map(notification => (\r\n              <NotificationItem\r\n                key={notification._id}\r\n                $unread={!notification.read}\r\n                onClick={() => handleItemClick(notification)}\r\n              >\r\n                <Avatar\r\n                  src={\r\n                    notification.sender?.profile?.avatar\r\n                      ? notification.sender.profile.avatar.startsWith('http')\r\n                        ? notification.sender.profile.avatar\r\n                        : `${process.env.REACT_APP_API_URL || 'https://api.jokesteronline.org'}${notification.sender.profile.avatar}`\r\n                      : 'https://i.pravatar.cc/150?img=3'\r\n                  }\r\n                  alt={notification.sender?.username}\r\n                  onError={(e) => {\r\n                    e.target.src = 'https://i.pravatar.cc/150?img=3';\r\n                    e.target.onerror = null;\r\n                  }}\r\n                />\r\n                \r\n                <Content>\r\n                  <Text>\r\n                    {renderNotificationContent(notification)}\r\n                  </Text>\r\n                  <Time>\r\n                    {formatDistanceToNow(new Date(notification.createdAt), {\r\n                      addSuffix: true,\r\n                      locale: ptBR\r\n                    })}\r\n                  </Time>\r\n                </Content>\r\n                \r\n                <ReadIndicator $unread={!notification.read}>\r\n                  <FiCheck size={18} />\r\n                </ReadIndicator>\r\n              </NotificationItem>\r\n            ))\r\n          )}\r\n        </NotificationList>\r\n      </Dropdown>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationDropdown;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}