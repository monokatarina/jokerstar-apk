{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import styled,{keyframes,css}from'styled-components';import{FiPlus,FiUser,FiLogOut,FiHome,FiTrendingUp,FiSettings,FiMenu,FiX}from'react-icons/fi';import{FaLaughSquint}from'react-icons/fa';import{useTheme}from'../../styles/ThemeContext';import{FiMoon,FiSun}from'react-icons/fi';// Animations\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const fadeIn=keyframes`\n  from { opacity: 0; transform: translateY(-10px); }\n  to { opacity: 1; transform: translateY(0); }\n`;const pulse=keyframes`\n  0% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n  100% { transform: scale(1); }\n`;const slideDown=keyframes`\n  from { transform: translateY(-100%); }\n  to { transform: translateY(0); }\n`;const slideUp=keyframes`\n  from { transform: translateY(0); }\n  to { transform: translateY(-100%); }\n`;const ThemeToggleButton=styled.button`\n  background: none;\n  border: none;\n  color: white;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n`;// Styled Components\nconst Nav=styled.nav`\n  background: linear-gradient(135deg, rgba(255, 115, 0, 0.83) 0%, rgb(230, 65, 5) 100%);\n  padding: 0.8rem 2rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n  transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.5, 1), background 0.3s ease;\n  transform: translateY(0);\n  \n  ${_ref=>{let{$hidden}=_ref;return $hidden&&css`\n    transform: translateY(-100%);\n  `;}}\n  \n  ${_ref2=>{let{$scrolled}=_ref2;return $scrolled&&css`\n    background: rgba(230, 65, 5, 0.98);\n    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.2);\n  `;}}\n\n  @media (max-width: 768px) {\n    padding: 0.8rem 1.5rem;\n  }\n`;const Logo=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    opacity: 0.9;\n    transform: scale(1.03);\n  }\n\n  @media (max-width: 768px) {\n    font-size: 1.3rem;\n  }\n`;const LogoIcon=styled(FaLaughSquint)`\n  animation: ${pulse} 2s infinite;\n`;const NavLinks=styled.div`\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n\n  @media (max-width: 768px) {\n    display: ${_ref3=>{let{$mobileMenuOpen}=_ref3;return $mobileMenuOpen?'flex':'none';}};\n    position: fixed;\n    top: 70px;\n    left: 0;\n    right: 0;\n    background: linear-gradient(135deg, #ff4500 0%, #e03d00 100%);\n    flex-direction: column;\n    padding: 1.5rem;\n    gap: 1.5rem;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n    animation: ${fadeIn} 0.3s ease-out;\n    z-index: 999;\n    border-radius: 0 0 16px 16px;\n  }\n`;const NavButton=styled(Link)`\n  color: white;\n  text-decoration: none;\n  padding: 0.6rem 1.2rem;\n  border-radius: 20px;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.95rem;\n  font-weight: 500;\n  background: ${_ref4=>{let{$active}=_ref4;return $active?'rgba(255, 255, 255, 0.2)':'transparent';}};\n  position: relative;\n  overflow: hidden;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.25);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0));\n    pointer-events: none;\n  }\n\n  @media (max-width: 768px) {\n    width: 100%;\n    justify-content: center;\n    padding: 1rem;\n    font-size: 1.1rem;\n  }\n`;const ButtonGroup=styled.div`\n  display: flex;\n  gap: 0.5rem;\n  background: rgba(255, 255, 255, 0.1);\n  padding: 0.3rem;\n  border-radius: 22px;\n  margin-right: 1rem;\n  backdrop-filter: blur(5px);\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    width: 100%;\n    background: transparent;\n    margin-right: 0;\n    gap: 1rem;\n  }\n`;const UserDropdown=styled.div`\n  position: relative;\n  display: inline-block;\n`;const DropdownButton=styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: none;\n  border: none;\n  color: white;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n`;const UserAvatar=styled.img`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 2px solid white;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n  }\n`;const DropdownMenu=styled.div`\n  position: absolute;\n  right: 0;\n  top: calc(100% + 10px);\n  background: white;\n  min-width: 220px;\n  border-radius: 12px;\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n  display: ${_ref5=>{let{$isOpen}=_ref5;return $isOpen?'block':'none';}};\n  z-index: 1001;\n  animation: ${fadeIn} 0.2s ease-out;\n  transform-origin: top right;\n`;const DropdownItem=styled(Link)`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.9rem 1.2rem;\n  color: #333;\n  text-decoration: none;\n  transition: all 0.2s ease;\n  font-size: 0.95rem;\n  \n  &:hover {\n    background: #f8f8f8;\n    color: #ff4500;\n    padding-left: 1.4rem;\n  }\n\n  svg {\n    transition: all 0.2s ease;\n  }\n\n  &:hover svg {\n    transform: scale(1.1);\n    color: #ff4500;\n  }\n`;const DropdownDivider=styled.div`\n  height: 1px;\n  background: #f0f0f0;\n  margin: 0.3rem 0;\n`;const MobileMenuButton=styled.button`\n  display: none;\n  background: none;\n  border: none;\n  color: white;\n  font-size: 1.5rem;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n  }\n\n  @media (max-width: 768px) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n`;const Navbar=()=>{var _user$profile;const{theme,toggleTheme}=useTheme();const{user,logout}=useAuth();const navigate=useNavigate();const location=useLocation();const[dropdownOpen,setDropdownOpen]=useState(false);const[mobileMenuOpen,setMobileMenuOpen]=useState(false);const[activeButton,setActiveButton]=useState('home');const[hidden,setHidden]=useState(false);const[scrolled,setScrolled]=useState(false);const lastScrollY=useRef(0);// Scroll handler for hide/show navbar\nuseEffect(()=>{const handleScroll=()=>{const currentScrollY=window.scrollY;if(currentScrollY>100){setScrolled(true);}else{setScrolled(false);}if(currentScrollY>lastScrollY.current&&currentScrollY>100){// Scrolling down\nsetHidden(true);}else if(currentScrollY<lastScrollY.current){// Scrolling up\nsetHidden(false);}lastScrollY.current=currentScrollY;};window.addEventListener('scroll',handleScroll,{passive:true});return()=>window.removeEventListener('scroll',handleScroll);},[]);// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=()=>{if(dropdownOpen)setDropdownOpen(false);};document.addEventListener('click',handleClickOutside);return()=>document.removeEventListener('click',handleClickOutside);},[dropdownOpen]);// Close mobile menu on route change\nuseEffect(()=>{setMobileMenuOpen(false);},[location]);const handleLogout=async()=>{try{await logout();navigate('/');}catch(error){console.error('Logout error:',error);}setDropdownOpen(false);};const toggleDropdown=e=>{e.stopPropagation();setDropdownOpen(!dropdownOpen);};const toggleMobileMenu=()=>{setMobileMenuOpen(!mobileMenuOpen);};const handleButtonClick=buttonName=>{setActiveButton(buttonName);};return/*#__PURE__*/_jsxs(Nav,{$hidden:hidden,$scrolled:scrolled,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsxs(Logo,{children:[/*#__PURE__*/_jsx(LogoIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"iFunny Clone\"})]})}),/*#__PURE__*/_jsx(MobileMenuButton,{onClick:toggleMobileMenu,children:mobileMenuOpen?/*#__PURE__*/_jsx(FiX,{}):/*#__PURE__*/_jsx(FiMenu,{})}),/*#__PURE__*/_jsx(NavLinks,{$mobileMenuOpen:mobileMenuOpen,children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ThemeToggleButton,{onClick:toggleTheme,children:theme==='light'?/*#__PURE__*/_jsx(FiMoon,{size:20}):/*#__PURE__*/_jsx(FiSun,{size:20})}),/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsxs(NavButton,{to:\"/\",$active:activeButton==='home',onClick:()=>handleButtonClick('home'),children:[/*#__PURE__*/_jsx(FiHome,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Destaques\"})]}),/*#__PURE__*/_jsxs(NavButton,{to:\"/feed\",$active:activeButton==='feed',onClick:()=>handleButtonClick('feed'),children:[/*#__PURE__*/_jsx(FiTrendingUp,{}),/*#__PURE__*/_jsx(\"span\",{children:\"coletivo\"})]})]}),/*#__PURE__*/_jsxs(NavButton,{to:\"/upload\",$active:activeButton==='upload',onClick:()=>handleButtonClick('upload'),children:[/*#__PURE__*/_jsx(FiPlus,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Criar\"})]}),/*#__PURE__*/_jsxs(UserDropdown,{children:[/*#__PURE__*/_jsx(DropdownButton,{onClick:toggleDropdown,children:/*#__PURE__*/_jsx(UserAvatar,{src:(_user$profile=user.profile)!==null&&_user$profile!==void 0&&_user$profile.avatar?user.profile.avatar.startsWith('http')?user.profile.avatar:`${process.env.REACT_APP_API_URL||'https://ifunnytest.loca.lt'}${user.profile.avatar}`:'https://i.pravatar.cc/150?img=3',alt:user.username,crossOrigin:\"anonymous\",onError:e=>{e.target.src='https://i.pravatar.cc/150?img=3';e.target.onerror=null;}})}),/*#__PURE__*/_jsxs(DropdownMenu,{$isOpen:dropdownOpen,children:[/*#__PURE__*/_jsxs(DropdownItem,{to:`/users/${user._id}`,children:[/*#__PURE__*/_jsx(FiUser,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Meu Perfil\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{to:\"/settings\",children:[/*#__PURE__*/_jsx(FiSettings,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Configura\\xE7\\xF5es\"})]}),/*#__PURE__*/_jsx(DropdownDivider,{}),/*#__PURE__*/_jsxs(DropdownItem,{as:\"button\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(FiLogOut,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Sair\"})]})]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavButton,{to:\"/login\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Login\"})}),/*#__PURE__*/_jsx(NavButton,{to:\"/register\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Registrar\"})})]})})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useNavigate","useLocation","useAuth","styled","keyframes","css","FiPlus","FiUser","FiLogOut","FiHome","FiTrendingUp","FiSettings","FiMenu","FiX","FaLaughSquint","useTheme","FiMoon","FiSun","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","fadeIn","pulse","slideDown","slideUp","ThemeToggleButton","button","Nav","nav","_ref","$hidden","_ref2","$scrolled","Logo","div","LogoIcon","NavLinks","_ref3","$mobileMenuOpen","NavButton","_ref4","$active","ButtonGroup","UserDropdown","DropdownButton","UserAvatar","img","DropdownMenu","_ref5","$isOpen","DropdownItem","DropdownDivider","MobileMenuButton","Navbar","_user$profile","theme","toggleTheme","user","logout","navigate","location","dropdownOpen","setDropdownOpen","mobileMenuOpen","setMobileMenuOpen","activeButton","setActiveButton","hidden","setHidden","scrolled","setScrolled","lastScrollY","handleScroll","currentScrollY","window","scrollY","current","addEventListener","passive","removeEventListener","handleClickOutside","document","handleLogout","error","console","toggleDropdown","e","stopPropagation","toggleMobileMenu","handleButtonClick","buttonName","children","to","style","textDecoration","onClick","size","src","profile","avatar","startsWith","process","env","REACT_APP_API_URL","alt","username","crossOrigin","onError","target","onerror","_id","as"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/client2/src/components/Navbar/Navbar.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport styled, { keyframes, css } from 'styled-components';\nimport { FiPlus, FiUser, FiLogOut, FiHome, FiTrendingUp, FiSettings, FiMenu, FiX } from 'react-icons/fi';\nimport { FaLaughSquint } from 'react-icons/fa';\nimport { useTheme } from '../../styles/ThemeContext';\nimport { FiMoon, FiSun } from 'react-icons/fi';\n\n// Animations\nconst fadeIn = keyframes`\n  from { opacity: 0; transform: translateY(-10px); }\n  to { opacity: 1; transform: translateY(0); }\n`;\n\nconst pulse = keyframes`\n  0% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n  100% { transform: scale(1); }\n`;\n\nconst slideDown = keyframes`\n  from { transform: translateY(-100%); }\n  to { transform: translateY(0); }\n`;\n\nconst slideUp = keyframes`\n  from { transform: translateY(0); }\n  to { transform: translateY(-100%); }\n`;\n\nconst ThemeToggleButton = styled.button`\n  background: none;\n  border: none;\n  color: white;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n`;\n\n// Styled Components\nconst Nav = styled.nav`\n  background: linear-gradient(135deg, rgba(255, 115, 0, 0.83) 0%, rgb(230, 65, 5) 100%);\n  padding: 0.8rem 2rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n  transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.5, 1), background 0.3s ease;\n  transform: translateY(0);\n  \n  ${({ $hidden }) => $hidden && css`\n    transform: translateY(-100%);\n  `}\n  \n  ${({ $scrolled }) => $scrolled && css`\n    background: rgba(230, 65, 5, 0.98);\n    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.2);\n  `}\n\n  @media (max-width: 768px) {\n    padding: 0.8rem 1.5rem;\n  }\n`;\n\nconst Logo = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    opacity: 0.9;\n    transform: scale(1.03);\n  }\n\n  @media (max-width: 768px) {\n    font-size: 1.3rem;\n  }\n`;\n\nconst LogoIcon = styled(FaLaughSquint)`\n  animation: ${pulse} 2s infinite;\n`;\n\nconst NavLinks = styled.div`\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n\n  @media (max-width: 768px) {\n    display: ${({ $mobileMenuOpen }) => ($mobileMenuOpen ? 'flex' : 'none')};\n    position: fixed;\n    top: 70px;\n    left: 0;\n    right: 0;\n    background: linear-gradient(135deg, #ff4500 0%, #e03d00 100%);\n    flex-direction: column;\n    padding: 1.5rem;\n    gap: 1.5rem;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n    animation: ${fadeIn} 0.3s ease-out;\n    z-index: 999;\n    border-radius: 0 0 16px 16px;\n  }\n`;\n\nconst NavButton = styled(Link)`\n  color: white;\n  text-decoration: none;\n  padding: 0.6rem 1.2rem;\n  border-radius: 20px;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.95rem;\n  font-weight: 500;\n  background: ${({ $active }) => ($active ? 'rgba(255, 255, 255, 0.2)' : 'transparent')};\n  position: relative;\n  overflow: hidden;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.25);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0));\n    pointer-events: none;\n  }\n\n  @media (max-width: 768px) {\n    width: 100%;\n    justify-content: center;\n    padding: 1rem;\n    font-size: 1.1rem;\n  }\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  background: rgba(255, 255, 255, 0.1);\n  padding: 0.3rem;\n  border-radius: 22px;\n  margin-right: 1rem;\n  backdrop-filter: blur(5px);\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    width: 100%;\n    background: transparent;\n    margin-right: 0;\n    gap: 1rem;\n  }\n`;\n\nconst UserDropdown = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\nconst DropdownButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: none;\n  border: none;\n  color: white;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n`;\n\nconst UserAvatar = styled.img`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 2px solid white;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst DropdownMenu = styled.div`\n  position: absolute;\n  right: 0;\n  top: calc(100% + 10px);\n  background: white;\n  min-width: 220px;\n  border-radius: 12px;\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n  display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\n  z-index: 1001;\n  animation: ${fadeIn} 0.2s ease-out;\n  transform-origin: top right;\n`;\n\nconst DropdownItem = styled(Link)`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.9rem 1.2rem;\n  color: #333;\n  text-decoration: none;\n  transition: all 0.2s ease;\n  font-size: 0.95rem;\n  \n  &:hover {\n    background: #f8f8f8;\n    color: #ff4500;\n    padding-left: 1.4rem;\n  }\n\n  svg {\n    transition: all 0.2s ease;\n  }\n\n  &:hover svg {\n    transform: scale(1.1);\n    color: #ff4500;\n  }\n`;\n\nconst DropdownDivider = styled.div`\n  height: 1px;\n  background: #f0f0f0;\n  margin: 0.3rem 0;\n`;\n\nconst MobileMenuButton = styled.button`\n  display: none;\n  background: none;\n  border: none;\n  color: white;\n  font-size: 1.5rem;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n  }\n\n  @media (max-width: 768px) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n`;\n\nconst Navbar = () => {\n  const { theme, toggleTheme } = useTheme();\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [activeButton, setActiveButton] = useState('home');\n  const [hidden, setHidden] = useState(false);\n  const [scrolled, setScrolled] = useState(false);\n  const lastScrollY = useRef(0);\n\n  // Scroll handler for hide/show navbar\n  useEffect(() => {\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY;\n      \n      if (currentScrollY > 100) {\n        setScrolled(true);\n      } else {\n        setScrolled(false);\n      }\n\n      if (currentScrollY > lastScrollY.current && currentScrollY > 100) {\n        // Scrolling down\n        setHidden(true);\n      } else if (currentScrollY < lastScrollY.current) {\n        // Scrolling up\n        setHidden(false);\n      }\n      \n      lastScrollY.current = currentScrollY;\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = () => {\n      if (dropdownOpen) setDropdownOpen(false);\n    };\n    document.addEventListener('click', handleClickOutside);\n    return () => document.removeEventListener('click', handleClickOutside);\n  }, [dropdownOpen]);\n\n  // Close mobile menu on route change\n  useEffect(() => {\n    setMobileMenuOpen(false);\n  }, [location]);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      navigate('/');\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n    setDropdownOpen(false);\n  };\n\n  const toggleDropdown = (e) => {\n    e.stopPropagation();\n    setDropdownOpen(!dropdownOpen);\n  };\n\n  const toggleMobileMenu = () => {\n    setMobileMenuOpen(!mobileMenuOpen);\n  };\n\n  const handleButtonClick = (buttonName) => {\n    setActiveButton(buttonName);\n  };\n\n  return (\n    <Nav $hidden={hidden} $scrolled={scrolled}>\n      <Link to=\"/\" style={{ textDecoration: 'none' }}>\n        <Logo>\n          <LogoIcon />\n          <span>iFunny Clone</span>\n        </Logo>\n      </Link>\n      \n      <MobileMenuButton onClick={toggleMobileMenu}>\n        {mobileMenuOpen ? <FiX /> : <FiMenu />}\n      </MobileMenuButton>\n\n      <NavLinks $mobileMenuOpen={mobileMenuOpen}>\n        {user ? (\n          <>\n            <ThemeToggleButton onClick={toggleTheme}>\n              {theme === 'light' ? <FiMoon size={20} /> : <FiSun size={20} />}\n            </ThemeToggleButton>\n            <ButtonGroup>\n              <NavButton \n                to=\"/\" \n                $active={activeButton === 'home'}\n                onClick={() => handleButtonClick('home')}\n              >\n                <FiHome />\n                <span>Destaques</span>\n              </NavButton>\n              <NavButton \n                to=\"/feed\" \n                $active={activeButton === 'feed'}\n                onClick={() => handleButtonClick('feed')}\n              >\n                <FiTrendingUp />\n                <span>coletivo</span>\n              </NavButton>\n            </ButtonGroup>\n            \n            <NavButton \n              to=\"/upload\" \n              $active={activeButton === 'upload'}\n              onClick={() => handleButtonClick('upload')}\n            >\n              <FiPlus />\n              <span>Criar</span>\n            </NavButton>\n            \n            <UserDropdown>\n              <DropdownButton onClick={toggleDropdown}>\n                <UserAvatar\n                  src={\n                    user.profile?.avatar\n                      ? user.profile.avatar.startsWith('http')\n                        ? user.profile.avatar\n                        : `${process.env.REACT_APP_API_URL || 'https://ifunnytest.loca.lt'}${user.profile.avatar}`\n                      : 'https://i.pravatar.cc/150?img=3'\n                  }\n                  alt={user.username}\n                  crossOrigin=\"anonymous\"\n                  onError={(e) => {\n                    e.target.src = 'https://i.pravatar.cc/150?img=3';\n                    e.target.onerror = null;\n                  }}\n                />\n              </DropdownButton>\n              \n              <DropdownMenu $isOpen={dropdownOpen}>\n                <DropdownItem to={`/users/${user._id}`}>\n                  <FiUser />\n                  <span>Meu Perfil</span>\n                </DropdownItem>\n                <DropdownItem to=\"/settings\">\n                  <FiSettings />\n                  <span>Configurações</span>\n                </DropdownItem>\n                <DropdownDivider />\n                <DropdownItem as=\"button\" onClick={handleLogout}>\n                  <FiLogOut />\n                  <span>Sair</span>\n                </DropdownItem>\n              </DropdownMenu>\n            </UserDropdown>\n          </>\n        ) : (\n          <>\n            <NavButton to=\"/login\">\n              <span>Login</span>\n            </NavButton>\n            <NavButton to=\"/register\">\n              <span>Registrar</span>\n            </NavButton>\n          </>\n        )}\n      </NavLinks>\n    </Nav>\n  );\n};\n\nexport default Navbar;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CACjE,OAASC,OAAO,KAAQ,4BAA4B,CACpD,MAAO,CAAAC,MAAM,EAAIC,SAAS,CAAEC,GAAG,KAAQ,mBAAmB,CAC1D,OAASC,MAAM,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,YAAY,CAAEC,UAAU,CAAEC,MAAM,CAAEC,GAAG,KAAQ,gBAAgB,CACxG,OAASC,aAAa,KAAQ,gBAAgB,CAC9C,OAASC,QAAQ,KAAQ,2BAA2B,CACpD,OAASC,MAAM,CAAEC,KAAK,KAAQ,gBAAgB,CAE9C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,MAAM,CAAGpB,SAAS;AACxB;AACA;AACA,CAAC,CAED,KAAM,CAAAqB,KAAK,CAAGrB,SAAS;AACvB;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAsB,SAAS,CAAGtB,SAAS;AAC3B;AACA;AACA,CAAC,CAED,KAAM,CAAAuB,OAAO,CAAGvB,SAAS;AACzB;AACA;AACA,CAAC,CAED,KAAM,CAAAwB,iBAAiB,CAAGzB,MAAM,CAAC0B,MAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED;AACA,KAAM,CAAAC,GAAG,CAAG3B,MAAM,CAAC4B,GAAG;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,IAAA,MAAC,CAAEC,OAAQ,CAAC,CAAAD,IAAA,OAAK,CAAAC,OAAO,EAAI5B,GAAG;AACnC;AACA,GAAG;AACH;AACA,IAAI6B,KAAA,MAAC,CAAEC,SAAU,CAAC,CAAAD,KAAA,OAAK,CAAAC,SAAS,EAAI9B,GAAG;AACvC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA+B,IAAI,CAAGjC,MAAM,CAACkC,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGnC,MAAM,CAACW,aAAa,CAAC;AACtC,eAAeW,KAAK;AACpB,CAAC,CAED,KAAM,CAAAc,QAAQ,CAAGpC,MAAM,CAACkC,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA,eAAeG,KAAA,MAAC,CAAEC,eAAgB,CAAC,CAAAD,KAAA,OAAM,CAAAC,eAAe,CAAG,MAAM,CAAG,MAAM,EAAC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBjB,MAAM;AACvB;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAkB,SAAS,CAAGvC,MAAM,CAACJ,IAAI,CAAC;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB4C,KAAA,MAAC,CAAEC,OAAQ,CAAC,CAAAD,KAAA,OAAM,CAAAC,OAAO,CAAG,0BAA0B,CAAG,aAAa,EAAC;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,WAAW,CAAG1C,MAAM,CAACkC,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAS,YAAY,CAAG3C,MAAM,CAACkC,GAAG;AAC/B;AACA;AACA,CAAC,CAED,KAAM,CAAAU,cAAc,CAAG5C,MAAM,CAAC0B,MAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAmB,UAAU,CAAG7C,MAAM,CAAC8C,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}