{"ast":null,"code":"// components/NotificationDropdown/NotificationDropdown.jsx\nimport React,{useState,useEffect,useRef}from'react';import styled,{keyframes,css}from'styled-components';import{useNotifications}from'../../contexts/NotificationContext';import{FiBell,FiCheck,FiTrash2,FiX}from'react-icons/fi';import{formatDistanceToNow}from'date-fns';import{ptBR}from'date-fns/locale/pt-BR';// Animations\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const fadeIn=keyframes`\n  from { opacity: 0; transform: translateY(-10px); }\n  to { opacity: 1; transform: translateY(0); }\n`;const slideIn=keyframes`\n  from { transform: translateX(100%); }\n  to { transform: translateX(0); }\n`;// Styled Components\nconst Badge=styled.div`\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  background: var(--danger);\n  color: white;\n  border-radius: 50%;\n  width: 18px;\n  height: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  font-weight: bold;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n`;const NotificationButton=styled.button`\n  position: relative;\n  background: none;\n  border: none;\n  color: white;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n`;const Dropdown=styled.div`\n  position: absolute;\n  right: 0;\n  top: calc(100% + 10px);\n  width: 380px;\n  max-height: 500px;\n  overflow: hidden;\n  background: var(--card-bg);\n  border-radius: 12px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n  display: ${_ref=>{let{$isOpen}=_ref;return $isOpen?'block':'none';}};\n  z-index: 1001;\n  animation: ${fadeIn} 0.2s ease-out;\n  transform-origin: top right;\n  border: 1px solid var(--border-light);\n  backdrop-filter: blur(10px);\n\n  @media (max-width: 768px) {\n    width: 320px;\n    right: -50px;\n  }\n`;const Header=styled.div`\n  padding: 1rem;\n  border-bottom: 1px solid var(--border-light);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.05);\n`;const Actions=styled.div`\n  display: flex;\n  gap: 0.5rem;\n`;const ActionButton=styled.button`\n  background: none;\n  border: none;\n  color: ${_ref2=>{let{$danger}=_ref2;return $danger?'var(--danger)':'var(--primary)';}};\n  cursor: pointer;\n  font-size: 0.85rem;\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.3rem 0.5rem;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: ${_ref3=>{let{$danger}=_ref3;return $danger?'rgba(255, 69, 0, 0.1)':'rgba(0, 123, 255, 0.1)';}};\n    text-decoration: none;\n  }\n\n  svg {\n    font-size: 0.9rem;\n  }\n`;const NotificationList=styled.div`\n  max-height: 400px;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  scrollbar-color: var(--primary) transparent;\n\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: var(--primary);\n    border-radius: 3px;\n  }\n`;const NotificationItem=styled.div`\n  padding: 1rem;\n  border-bottom: 1px solid var(--border-light);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  gap: 0.75rem;\n  position: relative;\n  background: ${_ref4=>{let{$unread}=_ref4;return $unread?'rgba(255, 69, 0, 0.05)':'transparent';}};\n  border-left: 3px solid\n    ${_ref5=>{let{$type}=_ref5;return $type==='like'?'var(--like-color)':$type==='comment'?'var(--comment-color)':$type==='reply'?'var(--reply-color)':'var(--primary)';}};\n  \n  &:hover {\n    background: rgba(255, 69, 0, 0.1);\n    transform: translateX(-2px);\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;const Avatar=styled.img`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 2px solid var(--border-light);\n  flex-shrink: 0;\n`;const Content=styled.div`\n  flex: 1;\n  min-width: 0;\n`;const Text=styled.div`\n  font-size: 0.9rem;\n  line-height: 1.4;\n  word-wrap: break-word;\n`;const HighlightText=styled.span`\n  color: var(--primary);\n  font-weight: 500;\n`;const QuoteText=styled.div`\n  font-style: italic;\n  margin-top: 4px;\n  padding: 6px 8px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 6px;\n  border-left: 2px solid var(--border-light);\n  color: var(--text-light);\n`;const Time=styled.div`\n  font-size: 0.75rem;\n  color: var(--text-lighter);\n  margin-top: 0.25rem;\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n`;const ReadIndicator=styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  \n  svg {\n    color: var(--primary);\n    opacity: ${_ref6=>{let{$unread}=_ref6;return $unread?0:1;}};\n    transition: opacity 0.2s ease;\n  }\n`;const EmptyState=styled.div`\n  padding: 2rem 1rem;\n  text-align: center;\n  color: var(--text-lighter);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    font-size: 1.5rem;\n    opacity: 0.5;\n  }\n`;const ClearConfirmation=styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 1002;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: ${fadeIn} 0.2s ease-out;\n`;const ConfirmationBox=styled.div`\n  background: var(--card-bg);\n  padding: 1.5rem;\n  border-radius: 12px;\n  width: 90%;\n  max-width: 350px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  animation: ${slideIn} 0.3s ease-out;\n`;const ConfirmationText=styled.p`\n  margin-bottom: 1.5rem;\n  text-align: center;\n`;const ConfirmationButtons=styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n`;const ConfirmationButton=styled.button`\n  padding: 0.5rem 1rem;\n  border-radius: 6px;\n  border: none;\n  cursor: pointer;\n  font-weight: 500;\n  transition: all 0.2s ease;\n\n  &:first-child {\n    background: var(--danger);\n    color: white;\n\n    &:hover {\n      background: #d63031;\n    }\n  }\n\n  &:last-child {\n    background: var(--border-light);\n    color: var(--text);\n\n    &:hover {\n      background: var(--border);\n    }\n  }\n`;const NotificationDropdown=()=>{const{notifications,unreadCount,markAsRead,clearAllNotifications,loading}=useNotifications();const[isOpen,setIsOpen]=useState(false);const[showClearConfirmation,setShowClearConfirmation]=useState(false);const dropdownRef=useRef(null);// Fecha o dropdown quando clica fora\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// Marca como lido quando o dropdown é aberto\nuseEffect(()=>{if(isOpen&&unreadCount>0){const unreadIds=notifications.filter(n=>!n.read).map(n=>n._id);if(unreadIds.length>0){markAsRead(unreadIds);}}},[isOpen,notifications,unreadCount,markAsRead]);const handleItemClick=notification=>{// Navega para o conteúdo relacionado\nif(notification.meme){window.location.href=`/memes/${notification.meme._id}`;}else if(notification.comment){window.location.href=`/comments/${notification.comment._id}`;}else if(notification.reply){window.location.href=`/replies/${notification.reply._id}`;}setIsOpen(false);};const handleMarkAllRead=async()=>{const allUnreadIds=notifications.filter(n=>!n.read).map(n=>n._id);if(allUnreadIds.length>0){await markAsRead(allUnreadIds);}};const handleClearAll=async()=>{await clearAllNotifications();setShowClearConfirmation(false);setIsOpen(false);};const renderNotificationContent=notification=>{var _notification$sender,_notification$sender2,_notification$meme,_notification$metadat,_notification$meme2,_notification$sender3,_notification$comment,_notification$metadat2,_notification$meme3,_notification$sender4,_notification$reply;switch(notification.type){case'mention':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HighlightText,{children:(_notification$sender=notification.sender)===null||_notification$sender===void 0?void 0:_notification$sender.username}),\" te mencionou em um\",' ',notification.metadata.context==='comment'?'comentário':'meme',/*#__PURE__*/_jsxs(QuoteText,{children:[\"\\\"\",notification.metadata.text,\"\\\"\"]})]});case'like':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HighlightText,{children:((_notification$sender2=notification.sender)===null||_notification$sender2===void 0?void 0:_notification$sender2.username)||'Alguém'}),\" curtiu seu meme\",((_notification$meme=notification.meme)===null||_notification$meme===void 0?void 0:_notification$meme.caption)&&/*#__PURE__*/_jsxs(QuoteText,{children:[\"\\\"\",truncate(notification.meme.caption,50),\"\\\"\"]})]});case'like_grouped':return/*#__PURE__*/_jsxs(_Fragment,{children:[\"Seu meme tem \",/*#__PURE__*/_jsxs(HighlightText,{children:[((_notification$metadat=notification.metadata)===null||_notification$metadat===void 0?void 0:_notification$metadat.count)||'muitas',\" curtidas\"]}),((_notification$meme2=notification.meme)===null||_notification$meme2===void 0?void 0:_notification$meme2.caption)&&/*#__PURE__*/_jsxs(QuoteText,{children:[\"\\\"\",truncate(notification.meme.caption,50),\"\\\"\"]})]});case'comment':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HighlightText,{children:((_notification$sender3=notification.sender)===null||_notification$sender3===void 0?void 0:_notification$sender3.username)||'Alguém'}),\" comentou no seu meme:\",/*#__PURE__*/_jsxs(QuoteText,{children:[\"\\\"\",truncate((_notification$comment=notification.comment)===null||_notification$comment===void 0?void 0:_notification$comment.text,60),\"\\\"\"]})]});case'comment_grouped':return/*#__PURE__*/_jsxs(_Fragment,{children:[\"Seu meme tem \",/*#__PURE__*/_jsxs(HighlightText,{children:[((_notification$metadat2=notification.metadata)===null||_notification$metadat2===void 0?void 0:_notification$metadat2.count)||'muitos',\" coment\\xE1rios\"]}),((_notification$meme3=notification.meme)===null||_notification$meme3===void 0?void 0:_notification$meme3.caption)&&/*#__PURE__*/_jsxs(QuoteText,{children:[\"\\\"\",truncate(notification.meme.caption,50),\"\\\"\"]})]});case'reply':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HighlightText,{children:((_notification$sender4=notification.sender)===null||_notification$sender4===void 0?void 0:_notification$sender4.username)||'Alguém'}),\" respondeu seu coment\\xE1rio:\",/*#__PURE__*/_jsxs(QuoteText,{children:[\"\\\"\",truncate((_notification$reply=notification.reply)===null||_notification$reply===void 0?void 0:_notification$reply.text,60),\"\\\"\"]})]});default:return'Nova notificação';}};const truncate=(str,n)=>{return(str===null||str===void 0?void 0:str.length)>n?str.substr(0,n-1)+'...':str;};return/*#__PURE__*/_jsxs(\"div\",{ref:dropdownRef,style:{position:'relative'},children:[/*#__PURE__*/_jsxs(NotificationButton,{onClick:()=>setIsOpen(!isOpen),children:[/*#__PURE__*/_jsx(FiBell,{size:20}),unreadCount>0&&/*#__PURE__*/_jsx(Badge,{children:unreadCount>9?'9+':unreadCount})]}),/*#__PURE__*/_jsxs(Dropdown,{$isOpen:isOpen,children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Notifica\\xE7\\xF5es\"}),/*#__PURE__*/_jsxs(Actions,{children:[notifications.length>0&&/*#__PURE__*/_jsxs(ActionButton,{$danger:true,onClick:()=>setShowClearConfirmation(true),children:[/*#__PURE__*/_jsx(FiTrash2,{}),\" Limpar\"]}),notifications.some(n=>!n.read)&&/*#__PURE__*/_jsxs(ActionButton,{onClick:handleMarkAllRead,children:[/*#__PURE__*/_jsx(FiCheck,{}),\" Lidas\"]})]})]}),/*#__PURE__*/_jsx(NotificationList,{children:loading?/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(FiBell,{}),\"Carregando notifica\\xE7\\xF5es...\"]}):notifications.length===0?/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(FiBell,{}),\"Nenhuma notifica\\xE7\\xE3o\"]}):notifications.map(notification=>{var _notification$sender5,_notification$sender6,_notification$sender7;return/*#__PURE__*/_jsxs(NotificationItem,{$unread:!notification.read,$type:notification.type,onClick:()=>handleItemClick(notification),children:[/*#__PURE__*/_jsx(Avatar,{src:(_notification$sender5=notification.sender)!==null&&_notification$sender5!==void 0&&(_notification$sender6=_notification$sender5.profile)!==null&&_notification$sender6!==void 0&&_notification$sender6.avatar?notification.sender.profile.avatar.startsWith('https')?notification.sender.profile.avatar:`${process.env.REACT_APP_API_URL||'https://api.jokesteronline.org'}${notification.sender.profile.avatar}`:'https://i.pravatar.cc/150?img=3',alt:(_notification$sender7=notification.sender)===null||_notification$sender7===void 0?void 0:_notification$sender7.username,crossOrigin:\"anonymous\",onError:e=>{e.target.src='https://i.pravatar.cc/150?img=3';e.target.onerror=null;}}),/*#__PURE__*/_jsxs(Content,{children:[/*#__PURE__*/_jsx(Text,{children:renderNotificationContent(notification)}),/*#__PURE__*/_jsx(Time,{children:formatDistanceToNow(new Date(notification.createdAt),{addSuffix:true,locale:ptBR})})]}),/*#__PURE__*/_jsx(ReadIndicator,{$unread:!notification.read,children:/*#__PURE__*/_jsx(FiCheck,{size:18})})]},notification._id);})})]}),showClearConfirmation&&/*#__PURE__*/_jsx(ClearConfirmation,{children:/*#__PURE__*/_jsxs(ConfirmationBox,{children:[/*#__PURE__*/_jsxs(ConfirmationText,{children:[\"Tem certeza que deseja limpar todas as notifica\\xE7\\xF5es?\",/*#__PURE__*/_jsx(\"br\",{}),\"Esta a\\xE7\\xE3o n\\xE3o pode ser desfeita.\"]}),/*#__PURE__*/_jsxs(ConfirmationButtons,{children:[/*#__PURE__*/_jsx(ConfirmationButton,{onClick:handleClearAll,children:\"Limpar\"}),/*#__PURE__*/_jsx(ConfirmationButton,{onClick:()=>setShowClearConfirmation(false),children:\"Cancelar\"})]})]})})]});};export default NotificationDropdown;","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","keyframes","css","useNotifications","FiBell","FiCheck","FiTrash2","FiX","formatDistanceToNow","ptBR","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","fadeIn","slideIn","Badge","div","NotificationButton","button","Dropdown","_ref","$isOpen","Header","Actions","ActionButton","_ref2","$danger","_ref3","NotificationList","NotificationItem","_ref4","$unread","_ref5","$type","Avatar","img","Content","Text","HighlightText","span","QuoteText","Time","ReadIndicator","_ref6","EmptyState","ClearConfirmation","ConfirmationBox","ConfirmationText","p","ConfirmationButtons","ConfirmationButton","NotificationDropdown","notifications","unreadCount","markAsRead","clearAllNotifications","loading","isOpen","setIsOpen","showClearConfirmation","setShowClearConfirmation","dropdownRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","unreadIds","filter","n","read","map","_id","length","handleItemClick","notification","meme","window","location","href","comment","reply","handleMarkAllRead","allUnreadIds","handleClearAll","renderNotificationContent","_notification$sender","_notification$sender2","_notification$meme","_notification$metadat","_notification$meme2","_notification$sender3","_notification$comment","_notification$metadat2","_notification$meme3","_notification$sender4","_notification$reply","type","children","sender","username","metadata","context","text","caption","truncate","count","str","substr","ref","style","position","onClick","size","some","_notification$sender5","_notification$sender6","_notification$sender7","src","profile","avatar","startsWith","process","env","REACT_APP_API_URL","alt","crossOrigin","onError","e","onerror","Date","createdAt","addSuffix","locale"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/client2/src/components/NotificationDropdown/NotificationDropdown.jsx"],"sourcesContent":["// components/NotificationDropdown/NotificationDropdown.jsx\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useNotifications } from '../../contexts/NotificationContext';\r\nimport { FiBell, FiCheck, FiTrash2, FiX } from 'react-icons/fi';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale/pt-BR';\r\n\r\n// Animations\r\nconst fadeIn = keyframes`\r\n  from { opacity: 0; transform: translateY(-10px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n`;\r\n\r\nconst slideIn = keyframes`\r\n  from { transform: translateX(100%); }\r\n  to { transform: translateX(0); }\r\n`;\r\n\r\n// Styled Components\r\nconst Badge = styled.div`\r\n  position: absolute;\r\n  top: -5px;\r\n  right: -5px;\r\n  background: var(--danger);\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 18px;\r\n  height: 18px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 10px;\r\n  font-weight: bold;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n`;\r\n\r\nconst NotificationButton = styled.button`\r\n  position: relative;\r\n  background: none;\r\n  border: none;\r\n  color: white;\r\n  cursor: pointer;\r\n  padding: 0.5rem;\r\n  border-radius: 50%;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  \r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.2);\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Dropdown = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  top: calc(100% + 10px);\r\n  width: 380px;\r\n  max-height: 500px;\r\n  overflow: hidden;\r\n  background: var(--card-bg);\r\n  border-radius: 12px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\r\n  display: ${({ $isOpen }) => ($isOpen ? 'block' : 'none')};\r\n  z-index: 1001;\r\n  animation: ${fadeIn} 0.2s ease-out;\r\n  transform-origin: top right;\r\n  border: 1px solid var(--border-light);\r\n  backdrop-filter: blur(10px);\r\n\r\n  @media (max-width: 768px) {\r\n    width: 320px;\r\n    right: -50px;\r\n  }\r\n`;\r\n\r\nconst Header = styled.div`\r\n  padding: 1rem;\r\n  border-bottom: 1px solid var(--border-light);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-weight: 600;\r\n  background: rgba(255, 255, 255, 0.05);\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: ${({ $danger }) => ($danger ? 'var(--danger)' : 'var(--primary)')};\r\n  cursor: pointer;\r\n  font-size: 0.85rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.3rem;\r\n  padding: 0.3rem 0.5rem;\r\n  border-radius: 6px;\r\n  transition: all 0.2s ease;\r\n  \r\n  &:hover {\r\n    background: ${({ $danger }) => ($danger ? 'rgba(255, 69, 0, 0.1)' : 'rgba(0, 123, 255, 0.1)')};\r\n    text-decoration: none;\r\n  }\r\n\r\n  svg {\r\n    font-size: 0.9rem;\r\n  }\r\n`;\r\n\r\nconst NotificationList = styled.div`\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n  scrollbar-width: thin;\r\n  scrollbar-color: var(--primary) transparent;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: var(--primary);\r\n    border-radius: 3px;\r\n  }\r\n`;\r\n\r\nconst NotificationItem = styled.div`\r\n  padding: 1rem;\r\n  border-bottom: 1px solid var(--border-light);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  display: flex;\r\n  gap: 0.75rem;\r\n  position: relative;\r\n  background: ${({ $unread }) => ($unread ? 'rgba(255, 69, 0, 0.05)' : 'transparent')};\r\n  border-left: 3px solid\r\n    ${({ $type }) => \r\n      $type === 'like' ? 'var(--like-color)' :\r\n      $type === 'comment' ? 'var(--comment-color)' :\r\n      $type === 'reply' ? 'var(--reply-color)' :\r\n      'var(--primary)'};\r\n  \r\n  &:hover {\r\n    background: rgba(255, 69, 0, 0.1);\r\n    transform: translateX(-2px);\r\n  }\r\n\r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n`;\r\n\r\nconst Avatar = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid var(--border-light);\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  flex: 1;\r\n  min-width: 0;\r\n`;\r\n\r\nconst Text = styled.div`\r\n  font-size: 0.9rem;\r\n  line-height: 1.4;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nconst HighlightText = styled.span`\r\n  color: var(--primary);\r\n  font-weight: 500;\r\n`;\r\n\r\nconst QuoteText = styled.div`\r\n  font-style: italic;\r\n  margin-top: 4px;\r\n  padding: 6px 8px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-radius: 6px;\r\n  border-left: 2px solid var(--border-light);\r\n  color: var(--text-light);\r\n`;\r\n\r\nconst Time = styled.div`\r\n  font-size: 0.75rem;\r\n  color: var(--text-lighter);\r\n  margin-top: 0.25rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.3rem;\r\n`;\r\n\r\nconst ReadIndicator = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 20px;\r\n  \r\n  svg {\r\n    color: var(--primary);\r\n    opacity: ${({ $unread }) => ($unread ? 0 : 1)};\r\n    transition: opacity 0.2s ease;\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  padding: 2rem 1rem;\r\n  text-align: center;\r\n  color: var(--text-lighter);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n\r\n  svg {\r\n    font-size: 1.5rem;\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst ClearConfirmation = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 1002;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  animation: ${fadeIn} 0.2s ease-out;\r\n`;\r\n\r\nconst ConfirmationBox = styled.div`\r\n  background: var(--card-bg);\r\n  padding: 1.5rem;\r\n  border-radius: 12px;\r\n  width: 90%;\r\n  max-width: 350px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n  animation: ${slideIn} 0.3s ease-out;\r\n`;\r\n\r\nconst ConfirmationText = styled.p`\r\n  margin-bottom: 1.5rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst ConfirmationButtons = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ConfirmationButton = styled.button`\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 6px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n\r\n  &:first-child {\r\n    background: var(--danger);\r\n    color: white;\r\n\r\n    &:hover {\r\n      background: #d63031;\r\n    }\r\n  }\r\n\r\n  &:last-child {\r\n    background: var(--border-light);\r\n    color: var(--text);\r\n\r\n    &:hover {\r\n      background: var(--border);\r\n    }\r\n  }\r\n`;\r\n\r\nconst NotificationDropdown = () => {\r\n  const {\r\n    notifications,\r\n    unreadCount,\r\n    markAsRead,\r\n    clearAllNotifications,\r\n    loading\r\n  } = useNotifications();\r\n  \r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [showClearConfirmation, setShowClearConfirmation] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n\r\n  // Fecha o dropdown quando clica fora\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // Marca como lido quando o dropdown é aberto\r\n  useEffect(() => {\r\n    if (isOpen && unreadCount > 0) {\r\n      const unreadIds = notifications\r\n        .filter(n => !n.read)\r\n        .map(n => n._id);\r\n      \r\n      if (unreadIds.length > 0) {\r\n        markAsRead(unreadIds);\r\n      }\r\n    }\r\n  }, [isOpen, notifications, unreadCount, markAsRead]);\r\n\r\n  const handleItemClick = (notification) => {\r\n    // Navega para o conteúdo relacionado\r\n    if (notification.meme) {\r\n      window.location.href = `/memes/${notification.meme._id}`;\r\n    } else if (notification.comment) {\r\n      window.location.href = `/comments/${notification.comment._id}`;\r\n    } else if (notification.reply) {\r\n      window.location.href = `/replies/${notification.reply._id}`;\r\n    }\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleMarkAllRead = async () => {\r\n    const allUnreadIds = notifications\r\n      .filter(n => !n.read)\r\n      .map(n => n._id);\r\n    \r\n    if (allUnreadIds.length > 0) {\r\n      await markAsRead(allUnreadIds);\r\n    }\r\n  };\r\n\r\n  const handleClearAll = async () => {\r\n    await clearAllNotifications();\r\n    setShowClearConfirmation(false);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const renderNotificationContent = (notification) => {\r\n    switch(notification.type) {\r\n      case 'mention':\r\n        return (\r\n          <>\r\n            <HighlightText>{notification.sender?.username}</HighlightText> te mencionou em um{' '}\r\n            {notification.metadata.context === 'comment' ? 'comentário' : 'meme'}\r\n            <QuoteText>\r\n              \"{notification.metadata.text}\"\r\n            </QuoteText>\r\n          </>\r\n        );\r\n\r\n      case 'like':\r\n        return (\r\n          <>\r\n            <HighlightText>{notification.sender?.username || 'Alguém'}</HighlightText> curtiu seu meme\r\n            {notification.meme?.caption && (\r\n              <QuoteText>\r\n                \"{truncate(notification.meme.caption, 50)}\"\r\n              </QuoteText>\r\n            )}\r\n          </>\r\n        );\r\n      case 'like_grouped':\r\n        return (\r\n          <>\r\n            Seu meme tem <HighlightText>{notification.metadata?.count || 'muitas'} curtidas</HighlightText>\r\n            {notification.meme?.caption && (\r\n              <QuoteText>\r\n                \"{truncate(notification.meme.caption, 50)}\"\r\n              </QuoteText>\r\n            )}\r\n          </>\r\n        );\r\n      case 'comment':\r\n        return (\r\n          <>\r\n            <HighlightText>{notification.sender?.username || 'Alguém'}</HighlightText> comentou no seu meme: \r\n            <QuoteText>\r\n              \"{truncate(notification.comment?.text, 60)}\"\r\n            </QuoteText>\r\n          </>\r\n        );\r\n      case 'comment_grouped':\r\n        return (\r\n          <>\r\n            Seu meme tem <HighlightText>{notification.metadata?.count || 'muitos'} comentários</HighlightText>\r\n            {notification.meme?.caption && (\r\n              <QuoteText>\r\n                \"{truncate(notification.meme.caption, 50)}\"\r\n              </QuoteText>\r\n            )}\r\n          </>\r\n        );\r\n      case 'reply':\r\n        return (\r\n          <>\r\n            <HighlightText>{notification.sender?.username || 'Alguém'}</HighlightText> respondeu seu comentário: \r\n            <QuoteText>\r\n              \"{truncate(notification.reply?.text, 60)}\"\r\n            </QuoteText>\r\n          </>\r\n        );\r\n      default:\r\n        return 'Nova notificação';\r\n    }\r\n  };\r\n\r\n  const truncate = (str, n) => {\r\n    return str?.length > n ? str.substr(0, n-1) + '...' : str;\r\n  };\r\n\r\n  return (\r\n    <div ref={dropdownRef} style={{ position: 'relative' }}>\r\n      <NotificationButton onClick={() => setIsOpen(!isOpen)}>\r\n        <FiBell size={20} />\r\n        {unreadCount > 0 && <Badge>{unreadCount > 9 ? '9+' : unreadCount}</Badge>}\r\n      </NotificationButton>\r\n      \r\n      <Dropdown $isOpen={isOpen}>\r\n        <Header>\r\n          <span>Notificações</span>\r\n          <Actions>\r\n            {notifications.length > 0 && (\r\n              <ActionButton $danger onClick={() => setShowClearConfirmation(true)}>\r\n                <FiTrash2 /> Limpar\r\n              </ActionButton>\r\n            )}\r\n            {notifications.some(n => !n.read) && (\r\n              <ActionButton onClick={handleMarkAllRead}>\r\n                <FiCheck /> Lidas\r\n              </ActionButton>\r\n            )}\r\n          </Actions>\r\n        </Header>\r\n        \r\n        <NotificationList>\r\n          {loading ? (\r\n            <EmptyState>\r\n              <FiBell />\r\n              Carregando notificações...\r\n            </EmptyState>\r\n          ) : notifications.length === 0 ? (\r\n            <EmptyState>\r\n              <FiBell />\r\n              Nenhuma notificação\r\n            </EmptyState>\r\n          ) : (\r\n            notifications.map(notification => (\r\n              <NotificationItem\r\n                key={notification._id}\r\n                $unread={!notification.read}\r\n                $type={notification.type}\r\n                onClick={() => handleItemClick(notification)}\r\n              >\r\n                <Avatar\r\n                  src={\r\n                    notification.sender?.profile?.avatar\r\n                      ? notification.sender.profile.avatar.startsWith('https')\r\n                        ? notification.sender.profile.avatar\r\n                        : `${process.env.REACT_APP_API_URL || 'https://api.jokesteronline.org'}${notification.sender.profile.avatar}`\r\n                      : 'https://i.pravatar.cc/150?img=3'\r\n                  }\r\n                  alt={notification.sender?.username}\r\n                  crossOrigin=\"anonymous\"\r\n                  onError={(e) => {\r\n                    e.target.src = 'https://i.pravatar.cc/150?img=3';\r\n                    e.target.onerror = null;\r\n                  }}\r\n                />\r\n                \r\n                <Content>\r\n                  <Text>\r\n                    {renderNotificationContent(notification)}\r\n                  </Text>\r\n                  <Time>\r\n                    {formatDistanceToNow(new Date(notification.createdAt), {\r\n                      addSuffix: true,\r\n                      locale: ptBR\r\n                    })}\r\n                  </Time>\r\n                </Content>\r\n                \r\n                <ReadIndicator $unread={!notification.read}>\r\n                  <FiCheck size={18} />\r\n                </ReadIndicator>\r\n              </NotificationItem>\r\n            ))\r\n          )}\r\n        </NotificationList>\r\n      </Dropdown>\r\n\r\n      {showClearConfirmation && (\r\n        <ClearConfirmation>\r\n          <ConfirmationBox>\r\n            <ConfirmationText>\r\n              Tem certeza que deseja limpar todas as notificações?\r\n              <br />\r\n              Esta ação não pode ser desfeita.\r\n            </ConfirmationText>\r\n            <ConfirmationButtons>\r\n              <ConfirmationButton onClick={handleClearAll}>\r\n                Limpar\r\n              </ConfirmationButton>\r\n              <ConfirmationButton onClick={() => setShowClearConfirmation(false)}>\r\n                Cancelar\r\n              </ConfirmationButton>\r\n            </ConfirmationButtons>\r\n          </ConfirmationBox>\r\n        </ClearConfirmation>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationDropdown;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}