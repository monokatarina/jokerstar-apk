{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import styled,{keyframes}from'styled-components';import{FiMessageSquare,FiShare2,FiRepeat}from'react-icons/fi';import{FaSmile,FaAngry,FaCheck}from'react-icons/fa';import api from'../services/api';import{useAuth}from'../contexts/AuthContext';import CommentSection from'./CommentSection';import{useNavigate}from'react-router-dom';import{FaEllipsisH,FaTrash}from'react-icons/fa';// Animations\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const popIn=keyframes`\n  0% { transform: scale(0.5); opacity: 0; }\n  70% { transform: scale(1.2); opacity: 0.7; }\n  100% { transform: scale(1); opacity: 1; }\n`;const pulse=keyframes`\n  0% { transform: scale(1); }\n  50% { transform: scale(1.1); }\n  100% { transform: scale(1); }\n`;const floating=keyframes`\n  0% { transform: translateY(0px); }\n  50% { transform: translateY(-10px); }\n  100% { transform: translateY(0px); }\n`;const gradientBackground=keyframes`\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n`;const fadeIn=keyframes`\n  from { opacity: 0; }\n  to { opacity: 1; }\n`;// Estilos\nconst OptionsButton=styled.button`\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  background: rgba(0, 0, 0, 0.7);\n  border: none;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  z-index: 2;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.9);\n    transform: scale(1.1);\n  }\n`;const OptionsMenu=styled.div`\n  position: absolute;\n  top: 40px;\n  right: 5px;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  z-index: 10;\n  min-width: 150px;\n`;const OptionItem=styled.button`\n  width: 100%;\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  background: none;\n  border: none;\n  color: #333;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #f5f5f5;\n    color: #ff4500;\n  }\n`;const Card=styled.div`\n  background: var(--card-bg);\n  border-radius: var(--radius-md);\n  margin-bottom: 1.5rem;\n  box-shadow: var(--shadow);\n  overflow: hidden;\n  transition: var(--transition);\n  position: relative;\n  border: 1px solid var(--border);\n  \n  &:hover {\n    box-shadow: var(--shadow-hover);\n  }\n`;const RepostBadge=styled.div`\n  position: absolute;\n  top: 0.625rem;\n  left: 0.625rem;\n  background: linear-gradient(45deg, var(--primary), var(--primary-hover));\n  color: var(--card-bg);\n  padding: 0.375rem 0.75rem;\n  border-radius: 1.25rem;\n  font-size: 0.8rem;\n  display: flex;\n  align-items: center;\n  z-index: 1;\n  box-shadow: 0 2px 8px rgba(var(--primary-rgb), 0.3);\n  text-shadow: 0 1px 2px rgba(0,0,0,0.2);\n  animation: ${floating} 3s ease-in-out infinite;\n  \n  svg {\n    margin-right: 0.25rem;\n  }\n`;const Header=styled.div`\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n  background: var(--background);\n  position: relative;\n  border-bottom: 1px solid var(--border-light);\n`;const Avatar=styled.img`\n  width: 3.125rem;\n  height: 3.125rem;\n  border-radius: 50%;\n  margin-right: 0.75rem;\n  object-fit: cover;\n  border: 3px solid var(--primary);\n  transition: var(--transition);\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: -50%;\n    left: -50%;\n    width: 200%;\n    height: 200%;\n    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.8), transparent);\n    transform: rotate(45deg);\n    animation: ${gradientBackground} 3s infinite linear;\n  }\n  \n  &:hover {\n    transform: rotate(15deg) scale(1.1);\n    border-color: var(--primary-hover);\n  }\n`;const Username=styled.span`\n  font-weight: 700;\n  font-size: 1rem;\n  color: var(--text);\n  transition: var(--transition);\n  cursor: pointer;\n  position: relative;\n  \n  &::after {\n    content: '';\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    width: 0;\n    height: 2px;\n    background: var(--primary);\n    transition: width 0.3s;\n  }\n  \n  &:hover {\n    color: var(--primary);\n    \n    &::after {\n      width: 100%;\n    }\n  }\n`;const ResponsiveImage=styled.img`\n  max-width: 100%;\n  max-height: 100%;\n  width: auto;\n  height: auto;\n  object-fit: contain;\n  transition: var(--transition);\n  border-radius: var(--radius-md);\n  \n  &:hover {\n    transform: scale(1.03);\n    filter: saturate(1.2) brightness(1.05);\n  }\n`;const ResponsiveVideo=styled.video`\n  max-width: 100%;\n  max-height: 100%;\n  width: auto;\n  height: auto;\n  object-fit: contain;\n  border-radius: var(--radius-md);\n  z-index: 1;\n  transition: var(--transition);\n  \n  &:hover {\n    transform: scale(1.03);\n    filter: saturate(1.2) brightness(1.05);\n  }\n`;const MediaContainer=styled.div`\n  width: 100%;\n  max-height: 43.75rem;\n  min-height: 18.75rem;\n  background: var(--background);\n  color: var(--text);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n`;const VideoContainer=styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  overflow: hidden;\n  border-radius: var(--radius-md);\n`;const PlayButton=styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 5rem;\n  height: 5rem;\n  background: rgba(var(--primary-rgb), 0.8);\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 2;\n  transition: var(--transition);\n  backdrop-filter: blur(2px);\n  box-shadow: var(--shadow);\n  \n  &::before {\n    content: '';\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-top: 0.9375rem solid transparent;\n    border-bottom: 0.9375rem solid transparent;\n    border-left: 1.5625rem solid var(--card-bg);\n    margin-left: 0.3125rem;\n  }\n  \n  &:hover {\n    background: rgba(var(--primary-rgb), 0.9);\n    transform: translate(-50%, -50%) scale(1.1);\n  }\n`;const VideoControls=styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);\n  padding: 0.625rem;\n  display: flex;\n  align-items: center;\n  z-index: 3;\n  opacity: 0;\n  transition: var(--transition);\n  \n  &:hover {\n    opacity: 1;\n    animation: ${fadeIn} 0.3s forwards;\n  }\n`;const ControlButton=styled.button`\n  background: none;\n  border: none;\n  color: var(--card-bg);\n  font-size: 1.2rem;\n  margin: 0 0.3125rem;\n  cursor: pointer;\n  transition: var(--transition);\n  \n  &:hover {\n    color: var(--primary);\n    transform: scale(1.2);\n  }\n`;const ProgressBar=styled.div`\n  flex-grow: 1;\n  height: 0.25rem;\n  background: rgba(255,255,255,0.3);\n  border-radius: 0.125rem;\n  margin: 0 0.625rem;\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n`;const Progress=styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: ${props=>props.$progress||'0%'};\n  background: var(--primary);\n  border-radius: 0.125rem;\n`;const TimeDisplay=styled.span`\n  color: var(--card-bg);\n  font-size: 0.8rem;\n  min-width: 5rem;\n  text-align: center;\n`;const Caption=styled.p`\n  padding: 1rem;\n  margin: 0;\n  font-size: 0.95rem;\n  line-height: 1.5;\n  color: var(--text);\n  background: var(--card-bg);\n  position: relative;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0.25rem;\n    height: 100%;\n    background: linear-gradient(to bottom, var(--primary), var(--primary-hover));\n  }\n`;const Tags=styled.div`\n  padding: 0 1rem 0.75rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  background: var(--card-bg);\n`;const Tag=styled.span`\n  color: var(--card-bg);\n  font-size: 0.85rem;\n  background: linear-gradient(45deg, var(--primary), var(--primary-hover));\n  padding: 0.375rem 0.75rem;\n  border-radius: 1.25rem;\n  transition: var(--transition);\n  text-shadow: 0 1px 2px rgba(0,0,0,0.2);\n  cursor: pointer;\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.05);\n    box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.3);\n  }\n`;const Actions=styled.div`\n  display: flex;\n  padding: 0.75rem 1rem;\n  border-top: 1px solid var(--border-light);\n  background: var(--card-bg);\n  justify-content: space-between;\n`;const ActionGroup=styled.div`\n  display: flex;\n  gap: 0.5rem;\n`;const ActionButton=styled.button`\n  background: none;\n  border: none;\n  display: flex;\n  align-items: center;\n  color: ${props=>props.$active?props.$color||'var(--primary)':'var(--text-light)'};\n  cursor: pointer;\n  font-size: 0.9rem;\n  padding: 0.5rem 1rem;\n  border-radius: var(--radius-sm);\n  transition: var(--transition);\n  position: relative;\n  overflow: hidden;\n  \n  svg {\n    margin-right: 0.375rem;\n    font-size: 1.2rem;\n    transition: var(--transition);\n  }\n\n  &:hover {\n    background: rgba(var(--primary-rgb), 0.05);\n    color: ${props=>props.$color||'var(--primary)'};\n    transform: translateY(-2px);\n    \n    svg {\n      transform: scale(1.2);\n    }\n  }\n  \n  &::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 0;\n    height: 0;\n    background: rgba(255,255,255,0.2);\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n    transition: var(--transition);\n  }\n  \n  &:hover::after {\n    width: 120%;\n    height: 120%;\n  }\n  \n  &:active {\n    transform: scale(0.95) translateY(-2px);\n  }\n`;const RepostButton=styled(ActionButton)`\n  color: ${props=>props.$active?'var(--success)':'var(--text-light)'};\n  \n  &:hover {\n    color: var(--success);\n  }\n`;const ReactionAnimation=styled.div`\n  position: absolute;\n  animation: ${popIn} 0.5s forwards, ${pulse} 0.5s 0.5s forwards;\n  font-size: 2.5rem;\n  opacity: 0;\n  pointer-events: none;\n  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));\n  text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  z-index: 10;\n`;const MemeCard=_ref=>{var _meme$likes,_meme$author2,_meme$repostedBy,_meme$author3,_meme$author3$profile,_meme$author4,_meme$author5,_videoRef$current,_meme$tags,_meme$author6,_meme$author7;let{meme,isRepost=false}=_ref;const navigate=useNavigate();const{user}=useAuth();const[isLiked,setIsLiked]=useState(false);const[likeCount,setLikeCount]=useState(((_meme$likes=meme.likes)===null||_meme$likes===void 0?void 0:_meme$likes.length)||0);const[showComments,setShowComments]=useState(false);const[commentCount,setCommentCount]=useState(meme.commentCount||0);const[reaction,setReaction]=useState(null);const[isReposted,setIsReposted]=useState(false);const[repostCount,setRepostCount]=useState(meme.repostCount||0);const[isCheckingRepost,setIsCheckingRepost]=useState(true);const[showOptions,setShowOptions]=useState(false);const[isDeleting,setIsDeleting]=useState(false);// Estados para o player de vídeo customizado\nconst[isPlaying,setIsPlaying]=useState(false);const[progress,setProgress]=useState(0);const[duration,setDuration]=useState(0);const[currentTime,setCurrentTime]=useState(0);const videoRef=useRef(null);useEffect(()=>{var _meme$likes2;if(user&&meme.likes){setIsLiked(meme.likes.some(like=>like.toString()===user._id));}setLikeCount(((_meme$likes2=meme.likes)===null||_meme$likes2===void 0?void 0:_meme$likes2.length)||0);setCommentCount(meme.commentCount||0);setRepostCount(meme.repostCount||0);if(user){checkIfReposted();}else{setIsCheckingRepost(false);}},[meme,user]);const handleDelete=async()=>{try{const response=await api.delete(`/memes/${meme._id}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(response.data.success){onDelete(meme._id);// Atualiza o estado no frontend\n}}catch(err){var _err$response,_err$response2,_err$response2$data;console.error('Erro ao deletar:',((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err.message);alert(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Erro ao deletar meme');}};const togglePlay=()=>{if(videoRef.current){if(isPlaying){videoRef.current.pause();}else{videoRef.current.play();}setIsPlaying(!isPlaying);}};const handleTimeUpdate=()=>{if(videoRef.current){const currentProgress=videoRef.current.currentTime/videoRef.current.duration*100;setProgress(currentProgress);setCurrentTime(videoRef.current.currentTime);}};const handleLoadedMetadata=()=>{if(videoRef.current){setDuration(videoRef.current.duration);}};const handleSeek=e=>{if(videoRef.current){const rect=e.target.getBoundingClientRect();const pos=(e.clientX-rect.left)/rect.width;videoRef.current.currentTime=pos*videoRef.current.duration;}};const formatTime=time=>{const minutes=Math.floor(time/60);const seconds=Math.floor(time%60);return`${minutes}:${seconds<10?'0':''}${seconds}`;};const checkIfReposted=async()=>{try{if(meme.originalMeme&&meme.author._id===user._id){setIsReposted(true);}else{var _meme$reposts;setIsReposted((_meme$reposts=meme.reposts)===null||_meme$reposts===void 0?void 0:_meme$reposts.some(repost=>repost.toString()===user._id));}}catch(error){console.error('Erro ao verificar repost:',error);}finally{setIsCheckingRepost(false);}};const handleLike=async()=>{if(!user)return;try{const response=await api.post(`/memes/${meme._id}/like`);setIsLiked(response.data.isLiked);setLikeCount(response.data.likeCount);setReaction(response.data.isLiked?'like':'dislike');setTimeout(()=>setReaction(null),1500);}catch(error){console.error('Erro ao curtir:',error);}};const handleDislike=async()=>{if(!user||!isLiked)return;try{const response=await api.post(`/memes/${meme._id}/like`);setIsLiked(false);setLikeCount(response.data.likeCount);setReaction('dislike');setTimeout(()=>setReaction(null),1500);}catch(error){console.error('Erro ao remover curtida:',error);}};const handleRepost=async()=>{var _meme$author;if(!user)return;if(((_meme$author=meme.author)===null||_meme$author===void 0?void 0:_meme$author._id)===user._id){setReaction('self-repost');setTimeout(()=>setReaction(null),1500);return;}if(isReposted||isRepost)return;try{const response=await api.post(`/memes/${meme._id}/repost`);setIsReposted(true);setRepostCount(response.data.repostCount);setReaction('repost');setTimeout(()=>setReaction(null),1500);}catch(error){console.error('Erro ao repostar:',error);if(error.response&&error.response.status===409){setIsReposted(true);}}};const handleCommentSubmit=async formData=>{try{const response=await api.post(`/memes/${meme._id}/comments`,formData,{headers:{'Content-Type':'multipart/form-data'}});const updatedMeme=await api.get(`/memes/${meme._id}`);setCommentCount(updatedMeme.data.commentCount||0);return response.data;}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data;console.error('Erro detalhado:',{message:error.message,response:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data,status:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status,config:error.config});throw new Error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||error.message||'Erro ao enviar comentário');}};const buildUrl=url=>{if(!url){console.warn('URL is empty or undefined');return'https://i.pravatar.cc/150?img=3';// Fallback explícito\n}// Se já for uma URL completa, retorna diretamente\nif(url.startsWith('http')){return url;}// Adiciona o prefixo da API apenas se necessário\nconst apiUrl=process.env.REACT_APP_API_URL||'https://ifunnytest.loca.lt';const fullUrl=`${apiUrl}${url}`;return fullUrl;};return/*#__PURE__*/_jsxs(Card,{children:[(user===null||user===void 0?void 0:user._id)===((_meme$author2=meme.author)===null||_meme$author2===void 0?void 0:_meme$author2._id)&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(OptionsButton,{onClick:e=>{e.stopPropagation();setShowOptions(!showOptions);},children:/*#__PURE__*/_jsx(FaEllipsisH,{size:14})}),showOptions&&/*#__PURE__*/_jsx(OptionsMenu,{onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsxs(OptionItem,{onClick:handleDelete,children:[/*#__PURE__*/_jsx(FaTrash,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Deletar\"})]})})]}),isRepost&&/*#__PURE__*/_jsxs(RepostBadge,{children:[/*#__PURE__*/_jsx(FiRepeat,{}),\" Repostado por @\",((_meme$repostedBy=meme.repostedBy)===null||_meme$repostedBy===void 0?void 0:_meme$repostedBy.username)||'usuário']}),reaction&&/*#__PURE__*/_jsx(ReactionAnimation,{style:{top:'50%',left:'50%',transform:'translate(-50%, -50%)',color:reaction==='like'?'var(--primary)':reaction==='dislike'?'#f00':reaction==='repost'?'#10b981':'var(--primary)'},children:reaction==='like'?/*#__PURE__*/_jsx(FaSmile,{}):reaction==='dislike'?/*#__PURE__*/_jsx(FaAngry,{}):reaction==='repost'?/*#__PURE__*/_jsx(FaCheck,{}):/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1rem'},children:\"Voc\\xEA \\xE9 o autor!\"})}),/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Avatar,{src:(_meme$author3=meme.author)!==null&&_meme$author3!==void 0&&(_meme$author3$profile=_meme$author3.profile)!==null&&_meme$author3$profile!==void 0&&_meme$author3$profile.avatar?buildUrl(meme.author.profile.avatar):'https://i.pravatar.cc/150?img=3',alt:(_meme$author4=meme.author)===null||_meme$author4===void 0?void 0:_meme$author4.username,onClick:()=>meme.author&&navigate(`/users/${meme.author._id}`),crossOrigin:\"anonymous\",onError:e=>{e.target.src='https://i.pravatar.cc/150?img=3';}}),/*#__PURE__*/_jsxs(Username,{onClick:()=>meme.author&&navigate(`/users/${meme.author._id}`),children:[\"@\",((_meme$author5=meme.author)===null||_meme$author5===void 0?void 0:_meme$author5.username)||'usuário desconhecido']})]}),/*#__PURE__*/_jsx(MediaContainer,{children:meme.mediaType==='image'?/*#__PURE__*/_jsx(ResponsiveImage,{src:buildUrl(meme.mediaUrl),alt:meme.caption||'Meme image',style:{transform:showComments?'scale(0.98)':'scale(1)',filter:showComments?'brightness(0.95)':'none'},crossOrigin:\"anonymous\",onError:e=>{e.target.src='https://placehold.co/600x400?text=Imagem+não+carregada';e.target.onerror=null;}}):/*#__PURE__*/_jsxs(VideoContainer,{onClick:togglePlay,children:[/*#__PURE__*/_jsx(ResponsiveVideo,{ref:videoRef,src:buildUrl(meme.mediaUrl),preload:\"metadata\",onTimeUpdate:handleTimeUpdate,onLoadedMetadata:handleLoadedMetadata,onEnded:()=>setIsPlaying(false),crossOrigin:\"anonymous\"}),!isPlaying&&/*#__PURE__*/_jsx(PlayButton,{onClick:e=>{e.stopPropagation();togglePlay();}}),/*#__PURE__*/_jsxs(VideoControls,{onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(ControlButton,{onClick:togglePlay,children:isPlaying?'❚❚':'▶'}),/*#__PURE__*/_jsx(ProgressBar,{onClick:handleSeek,children:/*#__PURE__*/_jsx(Progress,{$progress:`${progress}%`})}),/*#__PURE__*/_jsxs(TimeDisplay,{children:[formatTime(currentTime),\" / \",formatTime(duration)]}),/*#__PURE__*/_jsx(ControlButton,{onClick:()=>{if(videoRef.current){videoRef.current.muted=!videoRef.current.muted;}},children:(_videoRef$current=videoRef.current)!==null&&_videoRef$current!==void 0&&_videoRef$current.muted?'🔇':'🔈'})]}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,background:`linear-gradient(45deg, \n                rgba(255,255,255,0.1), \n                rgba(255,69,0,0.05))`,pointerEvents:'none'}})]})}),meme.caption&&/*#__PURE__*/_jsx(Caption,{children:meme.caption}),((_meme$tags=meme.tags)===null||_meme$tags===void 0?void 0:_meme$tags.length)>0&&/*#__PURE__*/_jsx(Tags,{children:meme.tags.map(tag=>/*#__PURE__*/_jsxs(Tag,{onClick:()=>navigate(`/explore?tag=${tag}`),children:[\"#\",tag]},tag))}),/*#__PURE__*/_jsxs(Actions,{children:[/*#__PURE__*/_jsxs(ActionGroup,{children:[/*#__PURE__*/_jsxs(ActionButton,{onClick:handleLike,$active:isLiked,$color:\"var(--primary)\",children:[/*#__PURE__*/_jsx(FaSmile,{}),\" \",likeCount]}),/*#__PURE__*/_jsx(ActionButton,{onClick:handleDislike,$active:!isLiked&&likeCount>0,$color:\"var(--text)\",children:/*#__PURE__*/_jsx(FaAngry,{})}),/*#__PURE__*/_jsxs(ActionButton,{onClick:()=>setShowComments(!showComments),$active:showComments,$color:\"#f000\",children:[/*#__PURE__*/_jsx(FiMessageSquare,{}),\" \",commentCount]})]}),/*#__PURE__*/_jsxs(ActionGroup,{children:[/*#__PURE__*/_jsxs(RepostButton,{onClick:handleRepost,$active:isReposted,disabled:isReposted||isCheckingRepost||isRepost||((_meme$author6=meme.author)===null||_meme$author6===void 0?void 0:_meme$author6._id)===(user===null||user===void 0?void 0:user._id),title:((_meme$author7=meme.author)===null||_meme$author7===void 0?void 0:_meme$author7._id)===(user===null||user===void 0?void 0:user._id)?\"Você não pode repostar seu próprio conteúdo\":\"\",children:[isCheckingRepost?/*#__PURE__*/_jsx(FiRepeat,{}):isReposted?/*#__PURE__*/_jsx(FaCheck,{}):/*#__PURE__*/_jsx(FiRepeat,{}),\" \",repostCount]}),/*#__PURE__*/_jsx(ActionButton,{children:/*#__PURE__*/_jsx(FiShare2,{})})]})]}),showComments&&/*#__PURE__*/_jsx(CommentSection,{memeId:meme._id,onCommentSubmit:handleCommentSubmit})]});};export default MemeCard;","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","keyframes","FiMessageSquare","FiShare2","FiRepeat","FaSmile","FaAngry","FaCheck","api","useAuth","CommentSection","useNavigate","FaEllipsisH","FaTrash","jsx","_jsx","jsxs","_jsxs","popIn","pulse","floating","gradientBackground","fadeIn","OptionsButton","button","OptionsMenu","div","OptionItem","Card","RepostBadge","Header","Avatar","img","Username","span","ResponsiveImage","ResponsiveVideo","video","MediaContainer","VideoContainer","PlayButton","VideoControls","ControlButton","ProgressBar","Progress","props","$progress","TimeDisplay","Caption","p","Tags","Tag","Actions","ActionGroup","ActionButton","$active","$color","RepostButton","ReactionAnimation","MemeCard","_ref","_meme$likes","_meme$author2","_meme$repostedBy","_meme$author3","_meme$author3$profile","_meme$author4","_meme$author5","_videoRef$current","_meme$tags","_meme$author6","_meme$author7","meme","isRepost","navigate","user","isLiked","setIsLiked","likeCount","setLikeCount","likes","length","showComments","setShowComments","commentCount","setCommentCount","reaction","setReaction","isReposted","setIsReposted","repostCount","setRepostCount","isCheckingRepost","setIsCheckingRepost","showOptions","setShowOptions","isDeleting","setIsDeleting","isPlaying","setIsPlaying","progress","setProgress","duration","setDuration","currentTime","setCurrentTime","videoRef","_meme$likes2","some","like","toString","_id","checkIfReposted","handleDelete","response","delete","headers","Authorization","localStorage","getItem","data","success","onDelete","err","_err$response","_err$response2","_err$response2$data","console","error","message","alert","togglePlay","current","pause","play","handleTimeUpdate","currentProgress","handleLoadedMetadata","handleSeek","e","rect","target","getBoundingClientRect","pos","clientX","left","width","formatTime","time","minutes","Math","floor","seconds","originalMeme","author","_meme$reposts","reposts","repost","handleLike","post","setTimeout","handleDislike","handleRepost","_meme$author","status","handleCommentSubmit","formData","updatedMeme","get","_error$response","_error$response2","_error$response3","_error$response3$data","config","Error","buildUrl","url","warn","startsWith","apiUrl","process","env","REACT_APP_API_URL","fullUrl","children","style","position","onClick","stopPropagation","size","repostedBy","username","top","transform","color","fontSize","src","profile","avatar","alt","crossOrigin","onError","mediaType","mediaUrl","caption","filter","onerror","ref","preload","onTimeUpdate","onLoadedMetadata","onEnded","muted","right","bottom","background","pointerEvents","tags","map","tag","disabled","title","memeId","onCommentSubmit"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/client2/src/components/MemeCard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { FiMessageSquare, FiShare2, FiRepeat } from 'react-icons/fi';\r\nimport { FaSmile, FaAngry, FaCheck } from 'react-icons/fa';\r\nimport api from '../services/api';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport CommentSection from './CommentSection';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FaEllipsisH, FaTrash } from 'react-icons/fa';\r\n\r\n// Animations\r\nconst popIn = keyframes`\r\n  0% { transform: scale(0.5); opacity: 0; }\r\n  70% { transform: scale(1.2); opacity: 0.7; }\r\n  100% { transform: scale(1); opacity: 1; }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0% { transform: scale(1); }\r\n  50% { transform: scale(1.1); }\r\n  100% { transform: scale(1); }\r\n`;\r\n\r\nconst floating = keyframes`\r\n  0% { transform: translateY(0px); }\r\n  50% { transform: translateY(-10px); }\r\n  100% { transform: translateY(0px); }\r\n`;\r\n\r\nconst gradientBackground = keyframes`\r\n  0% { background-position: 0% 50%; }\r\n  50% { background-position: 100% 50%; }\r\n  100% { background-position: 0% 50%; }\r\n`;\r\n\r\nconst fadeIn = keyframes`\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n`;\r\n\r\n// Estilos\r\nconst OptionsButton = styled.button`\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  cursor: pointer;\r\n  z-index: 2;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: rgba(0, 0, 0, 0.9);\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst OptionsMenu = styled.div`\r\n  position: absolute;\r\n  top: 40px;\r\n  right: 5px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\r\n  overflow: hidden;\r\n  z-index: 10;\r\n  min-width: 150px;\r\n`;\r\n\r\nconst OptionItem = styled.button`\r\n  width: 100%;\r\n  padding: 10px 15px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  background: none;\r\n  border: none;\r\n  color: #333;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n\r\n  &:hover {\r\n    background: #f5f5f5;\r\n    color: #ff4500;\r\n  }\r\n`;\r\n\r\nconst Card = styled.div`\r\n  background: var(--card-bg);\r\n  border-radius: var(--radius-md);\r\n  margin-bottom: 1.5rem;\r\n  box-shadow: var(--shadow);\r\n  overflow: hidden;\r\n  transition: var(--transition);\r\n  position: relative;\r\n  border: 1px solid var(--border);\r\n  \r\n  &:hover {\r\n    box-shadow: var(--shadow-hover);\r\n  }\r\n`;\r\n\r\nconst RepostBadge = styled.div`\r\n  position: absolute;\r\n  top: 0.625rem;\r\n  left: 0.625rem;\r\n  background: linear-gradient(45deg, var(--primary), var(--primary-hover));\r\n  color: var(--card-bg);\r\n  padding: 0.375rem 0.75rem;\r\n  border-radius: 1.25rem;\r\n  font-size: 0.8rem;\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 1;\r\n  box-shadow: 0 2px 8px rgba(var(--primary-rgb), 0.3);\r\n  text-shadow: 0 1px 2px rgba(0,0,0,0.2);\r\n  animation: ${floating} 3s ease-in-out infinite;\r\n  \r\n  svg {\r\n    margin-right: 0.25rem;\r\n  }\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 1rem;\r\n  background: var(--background);\r\n  position: relative;\r\n  border-bottom: 1px solid var(--border-light);\r\n`;\r\n\r\nconst Avatar = styled.img`\r\n  width: 3.125rem;\r\n  height: 3.125rem;\r\n  border-radius: 50%;\r\n  margin-right: 0.75rem;\r\n  object-fit: cover;\r\n  border: 3px solid var(--primary);\r\n  transition: var(--transition);\r\n  position: relative;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: -50%;\r\n    left: -50%;\r\n    width: 200%;\r\n    height: 200%;\r\n    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.8), transparent);\r\n    transform: rotate(45deg);\r\n    animation: ${gradientBackground} 3s infinite linear;\r\n  }\r\n  \r\n  &:hover {\r\n    transform: rotate(15deg) scale(1.1);\r\n    border-color: var(--primary-hover);\r\n  }\r\n`;\r\n\r\nconst Username = styled.span`\r\n  font-weight: 700;\r\n  font-size: 1rem;\r\n  color: var(--text);\r\n  transition: var(--transition);\r\n  cursor: pointer;\r\n  position: relative;\r\n  \r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: -2px;\r\n    left: 0;\r\n    width: 0;\r\n    height: 2px;\r\n    background: var(--primary);\r\n    transition: width 0.3s;\r\n  }\r\n  \r\n  &:hover {\r\n    color: var(--primary);\r\n    \r\n    &::after {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ResponsiveImage = styled.img`\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  object-fit: contain;\r\n  transition: var(--transition);\r\n  border-radius: var(--radius-md);\r\n  \r\n  &:hover {\r\n    transform: scale(1.03);\r\n    filter: saturate(1.2) brightness(1.05);\r\n  }\r\n`;\r\n\r\nconst ResponsiveVideo = styled.video`\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  object-fit: contain;\r\n  border-radius: var(--radius-md);\r\n  z-index: 1;\r\n  transition: var(--transition);\r\n  \r\n  &:hover {\r\n    transform: scale(1.03);\r\n    filter: saturate(1.2) brightness(1.05);\r\n  }\r\n`;\r\n\r\nconst MediaContainer = styled.div`\r\n  width: 100%;\r\n  max-height: 43.75rem;\r\n  min-height: 18.75rem;\r\n  background: var(--background);\r\n  color: var(--text);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst VideoContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  border-radius: var(--radius-md);\r\n`;\r\n\r\nconst PlayButton = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 5rem;\r\n  height: 5rem;\r\n  background: rgba(var(--primary-rgb), 0.8);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 2;\r\n  transition: var(--transition);\r\n  backdrop-filter: blur(2px);\r\n  box-shadow: var(--shadow);\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    width: 0;\r\n    height: 0;\r\n    border-top: 0.9375rem solid transparent;\r\n    border-bottom: 0.9375rem solid transparent;\r\n    border-left: 1.5625rem solid var(--card-bg);\r\n    margin-left: 0.3125rem;\r\n  }\r\n  \r\n  &:hover {\r\n    background: rgba(var(--primary-rgb), 0.9);\r\n    transform: translate(-50%, -50%) scale(1.1);\r\n  }\r\n`;\r\n\r\nconst VideoControls = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);\r\n  padding: 0.625rem;\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 3;\r\n  opacity: 0;\r\n  transition: var(--transition);\r\n  \r\n  &:hover {\r\n    opacity: 1;\r\n    animation: ${fadeIn} 0.3s forwards;\r\n  }\r\n`;\r\n\r\nconst ControlButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--card-bg);\r\n  font-size: 1.2rem;\r\n  margin: 0 0.3125rem;\r\n  cursor: pointer;\r\n  transition: var(--transition);\r\n  \r\n  &:hover {\r\n    color: var(--primary);\r\n    transform: scale(1.2);\r\n  }\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  flex-grow: 1;\r\n  height: 0.25rem;\r\n  background: rgba(255,255,255,0.3);\r\n  border-radius: 0.125rem;\r\n  margin: 0 0.625rem;\r\n  position: relative;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Progress = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: ${props => props.$progress || '0%'};\r\n  background: var(--primary);\r\n  border-radius: 0.125rem;\r\n`;\r\n\r\nconst TimeDisplay = styled.span`\r\n  color: var(--card-bg);\r\n  font-size: 0.8rem;\r\n  min-width: 5rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst Caption = styled.p`\r\n  padding: 1rem;\r\n  margin: 0;\r\n  font-size: 0.95rem;\r\n  line-height: 1.5;\r\n  color: var(--text);\r\n  background: var(--card-bg);\r\n  position: relative;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 0.25rem;\r\n    height: 100%;\r\n    background: linear-gradient(to bottom, var(--primary), var(--primary-hover));\r\n  }\r\n`;\r\n\r\nconst Tags = styled.div`\r\n  padding: 0 1rem 0.75rem;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n  background: var(--card-bg);\r\n`;\r\n\r\nconst Tag = styled.span`\r\n  color: var(--card-bg);\r\n  font-size: 0.85rem;\r\n  background: linear-gradient(45deg, var(--primary), var(--primary-hover));\r\n  padding: 0.375rem 0.75rem;\r\n  border-radius: 1.25rem;\r\n  transition: var(--transition);\r\n  text-shadow: 0 1px 2px rgba(0,0,0,0.2);\r\n  cursor: pointer;\r\n  \r\n  &:hover {\r\n    transform: translateY(-3px) scale(1.05);\r\n    box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.3);\r\n  }\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  padding: 0.75rem 1rem;\r\n  border-top: 1px solid var(--border-light);\r\n  background: var(--card-bg);\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ActionGroup = styled.div`\r\n  display: flex;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  display: flex;\r\n  align-items: center;\r\n  color: ${props => props.$active ? props.$color || 'var(--primary)' : 'var(--text-light)'};\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: var(--radius-sm);\r\n  transition: var(--transition);\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  svg {\r\n    margin-right: 0.375rem;\r\n    font-size: 1.2rem;\r\n    transition: var(--transition);\r\n  }\r\n\r\n  &:hover {\r\n    background: rgba(var(--primary-rgb), 0.05);\r\n    color: ${props => props.$color || 'var(--primary)'};\r\n    transform: translateY(-2px);\r\n    \r\n    svg {\r\n      transform: scale(1.2);\r\n    }\r\n  }\r\n  \r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    width: 0;\r\n    height: 0;\r\n    background: rgba(255,255,255,0.2);\r\n    border-radius: 50%;\r\n    transform: translate(-50%, -50%);\r\n    transition: var(--transition);\r\n  }\r\n  \r\n  &:hover::after {\r\n    width: 120%;\r\n    height: 120%;\r\n  }\r\n  \r\n  &:active {\r\n    transform: scale(0.95) translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst RepostButton = styled(ActionButton)`\r\n  color: ${props => props.$active ? 'var(--success)' : 'var(--text-light)'};\r\n  \r\n  &:hover {\r\n    color: var(--success);\r\n  }\r\n`;\r\n\r\nconst ReactionAnimation = styled.div`\r\n  position: absolute;\r\n  animation: ${popIn} 0.5s forwards, ${pulse} 0.5s 0.5s forwards;\r\n  font-size: 2.5rem;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));\r\n  text-shadow: 0 2px 4px rgba(0,0,0,0.3);\r\n  z-index: 10;\r\n`;\r\n\r\nconst MemeCard = ({ meme, isRepost = false }) => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [likeCount, setLikeCount] = useState(meme.likes?.length || 0);\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [commentCount, setCommentCount] = useState(meme.commentCount || 0);\r\n  const [reaction, setReaction] = useState(null);\r\n  const [isReposted, setIsReposted] = useState(false);\r\n  const [repostCount, setRepostCount] = useState(meme.repostCount || 0);\r\n  const [isCheckingRepost, setIsCheckingRepost] = useState(true);\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  // Estados para o player de vídeo customizado\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const videoRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (user && meme.likes) {\r\n      setIsLiked(meme.likes.some(like => like.toString() === user._id));\r\n    }\r\n    setLikeCount(meme.likes?.length || 0);\r\n    setCommentCount(meme.commentCount || 0);\r\n    setRepostCount(meme.repostCount || 0);\r\n    \r\n    if (user) {\r\n      checkIfReposted();\r\n    } else {\r\n      setIsCheckingRepost(false);\r\n    }\r\n  }, [meme, user]);\r\n\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      const response = await api.delete(`/memes/${meme._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        onDelete(meme._id); // Atualiza o estado no frontend\r\n      }\r\n    } catch (err) {\r\n      console.error('Erro ao deletar:', err.response?.data || err.message);\r\n      alert(err.response?.data?.message || 'Erro ao deletar meme');\r\n    }\r\n  };\r\n  const togglePlay = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n\r\n  const handleTimeUpdate = () => {\r\n    if (videoRef.current) {\r\n      const currentProgress = (videoRef.current.currentTime / videoRef.current.duration) * 100;\r\n      setProgress(currentProgress);\r\n      setCurrentTime(videoRef.current.currentTime);\r\n    }\r\n  };\r\n\r\n  const handleLoadedMetadata = () => {\r\n    if (videoRef.current) {\r\n      setDuration(videoRef.current.duration);\r\n    }\r\n  };\r\n\r\n  const handleSeek = (e) => {\r\n    if (videoRef.current) {\r\n      const rect = e.target.getBoundingClientRect();\r\n      const pos = (e.clientX - rect.left) / rect.width;\r\n      videoRef.current.currentTime = pos * videoRef.current.duration;\r\n    }\r\n  };\r\n\r\n  const formatTime = (time) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\r\n  };\r\n\r\n  const checkIfReposted = async () => {\r\n    try {\r\n      if (meme.originalMeme && meme.author._id === user._id) {\r\n        setIsReposted(true);\r\n      } else {\r\n        setIsReposted(meme.reposts?.some(repost => repost.toString() === user._id));\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao verificar repost:', error);\r\n    } finally {\r\n      setIsCheckingRepost(false);\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const response = await api.post(`/memes/${meme._id}/like`);\r\n      setIsLiked(response.data.isLiked);\r\n      setLikeCount(response.data.likeCount);\r\n      setReaction(response.data.isLiked ? 'like' : 'dislike');\r\n      setTimeout(() => setReaction(null), 1500);\r\n    } catch (error) {\r\n      console.error('Erro ao curtir:', error);\r\n    }\r\n  };\r\n\r\n  const handleDislike = async () => {\r\n    if (!user || !isLiked) return;\r\n    \r\n    try {\r\n      const response = await api.post(`/memes/${meme._id}/like`);\r\n      setIsLiked(false);\r\n      setLikeCount(response.data.likeCount);\r\n      setReaction('dislike');\r\n      setTimeout(() => setReaction(null), 1500);\r\n    } catch (error) {\r\n      console.error('Erro ao remover curtida:', error);\r\n    }\r\n  };\r\n\r\n  const handleRepost = async () => {\r\n    if (!user) return;\r\n    \r\n    if (meme.author?._id === user._id) {\r\n      setReaction('self-repost');\r\n      setTimeout(() => setReaction(null), 1500);\r\n      return;\r\n    }\r\n    \r\n    if (isReposted || isRepost) return;\r\n\r\n    try {\r\n      const response = await api.post(`/memes/${meme._id}/repost`);\r\n      setIsReposted(true);\r\n      setRepostCount(response.data.repostCount);\r\n      \r\n      setReaction('repost');\r\n      setTimeout(() => setReaction(null), 1500);\r\n    } catch (error) {\r\n      console.error('Erro ao repostar:', error);\r\n      if (error.response && error.response.status === 409) {\r\n        setIsReposted(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCommentSubmit = async (formData) => {\r\n    try {\r\n      const response = await api.post(\r\n        `/memes/${meme._id}/comments`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        }\r\n      );\r\n  \r\n      const updatedMeme = await api.get(`/memes/${meme._id}`);\r\n      setCommentCount(updatedMeme.data.commentCount || 0);\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Erro detalhado:', {\r\n        message: error.message,\r\n        response: error.response?.data,\r\n        status: error.response?.status,\r\n        config: error.config\r\n      });\r\n  \r\n      throw new Error(error.response?.data?.message || error.message || 'Erro ao enviar comentário');\r\n    }\r\n  };\r\n\r\n  const buildUrl = (url) => {\r\n    if (!url) {\r\n      console.warn('URL is empty or undefined');\r\n      return 'https://i.pravatar.cc/150?img=3'; // Fallback explícito\r\n    }\r\n  \r\n    // Se já for uma URL completa, retorna diretamente\r\n    if (url.startsWith('http')) {\r\n      return url;\r\n    }\r\n  \r\n    // Adiciona o prefixo da API apenas se necessário\r\n    const apiUrl = process.env.REACT_APP_API_URL || 'https://ifunnytest.loca.lt';\r\n    const fullUrl = `${apiUrl}${url}`;\r\n    \r\n    return fullUrl;\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      {user?._id === meme.author?._id && (\r\n        <div style={{ position: 'relative' }}>\r\n          <OptionsButton \r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              setShowOptions(!showOptions);\r\n            }}\r\n          >\r\n            <FaEllipsisH size={14} />\r\n          </OptionsButton>\r\n\r\n          {showOptions && (\r\n            <OptionsMenu onClick={(e) => e.stopPropagation()}>\r\n              <OptionItem onClick={handleDelete}>\r\n                <FaTrash />\r\n                <span>Deletar</span>\r\n              </OptionItem>\r\n            </OptionsMenu>\r\n          )}\r\n        </div>\r\n      )}\r\n      {isRepost && (\r\n        <RepostBadge>\r\n          <FiRepeat /> Repostado por @{meme.repostedBy?.username || 'usuário'}\r\n        </RepostBadge>\r\n      )}\r\n      \r\n      {reaction && (\r\n        <ReactionAnimation style={{\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)',\r\n          color: reaction === 'like' ? 'var(--primary)' : \r\n                reaction === 'dislike' ? '#f00' : \r\n                reaction === 'repost' ? '#10b981' : 'var(--primary)'\r\n        }}>\r\n          {reaction === 'like' ? <FaSmile /> : \r\n           reaction === 'dislike' ? <FaAngry /> : \r\n           reaction === 'repost' ? <FaCheck /> : \r\n           <span style={{ fontSize: '1rem' }}>Você é o autor!</span>}\r\n        </ReactionAnimation>\r\n      )}\r\n      \r\n      <Header>\r\n        <Avatar \r\n          src={\r\n            meme.author?.profile?.avatar\r\n              ? buildUrl(meme.author.profile.avatar)\r\n              : 'https://i.pravatar.cc/150?img=3'\r\n          }\r\n          alt={meme.author?.username}\r\n          onClick={() => meme.author && navigate(`/users/${meme.author._id}`)}\r\n          crossOrigin=\"anonymous\"\r\n          onError={(e) => {\r\n            e.target.src = 'https://i.pravatar.cc/150?img=3';\r\n          }}\r\n        />\r\n        <Username \r\n          onClick={() => meme.author && navigate(`/users/${meme.author._id}`)}\r\n        >\r\n          @{meme.author?.username || 'usuário desconhecido'}\r\n        </Username>\r\n      </Header>\r\n      \r\n      <MediaContainer>\r\n        {meme.mediaType === 'image' ? (\r\n          <ResponsiveImage \r\n            src={buildUrl(meme.mediaUrl)}\r\n            alt={meme.caption || 'Meme image'}\r\n            style={{\r\n              transform: showComments ? 'scale(0.98)' : 'scale(1)',\r\n              filter: showComments ? 'brightness(0.95)' : 'none'\r\n            }}\r\n            crossOrigin=\"anonymous\"\r\n            onError={(e) => {\r\n              e.target.src = 'https://placehold.co/600x400?text=Imagem+não+carregada';\r\n              e.target.onerror = null;\r\n            }}\r\n          />\r\n        ) : (\r\n          <VideoContainer onClick={togglePlay}>\r\n            <ResponsiveVideo\r\n              ref={videoRef}\r\n              src={buildUrl(meme.mediaUrl)}\r\n              preload=\"metadata\"\r\n              onTimeUpdate={handleTimeUpdate}\r\n              onLoadedMetadata={handleLoadedMetadata}\r\n              onEnded={() => setIsPlaying(false)}\r\n              crossOrigin=\"anonymous\"\r\n            />\r\n            \r\n            {!isPlaying && (\r\n              <PlayButton onClick={(e) => {\r\n                e.stopPropagation();\r\n                togglePlay();\r\n              }} />\r\n            )}\r\n            \r\n            <VideoControls onClick={(e) => e.stopPropagation()}>\r\n              <ControlButton onClick={togglePlay}>\r\n                {isPlaying ? '❚❚' : '▶'}\r\n              </ControlButton>\r\n              <ProgressBar onClick={handleSeek}>\r\n                <Progress $progress={`${progress}%`} />\r\n              </ProgressBar>\r\n              <TimeDisplay>\r\n                {formatTime(currentTime)} / {formatTime(duration)}\r\n              </TimeDisplay>\r\n              <ControlButton onClick={() => {\r\n                if (videoRef.current) {\r\n                  videoRef.current.muted = !videoRef.current.muted;\r\n                }\r\n              }}>\r\n                {videoRef.current?.muted ? '🔇' : '🔈'}\r\n              </ControlButton>\r\n            </VideoControls>\r\n            \r\n            <div style={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              background: `linear-gradient(45deg, \r\n                rgba(255,255,255,0.1), \r\n                rgba(255,69,0,0.05))`,\r\n              pointerEvents: 'none'\r\n            }}/>\r\n          </VideoContainer>\r\n        )}\r\n      </MediaContainer>\r\n\r\n      {meme.caption && <Caption>{meme.caption}</Caption>}\r\n      \r\n      {meme.tags?.length > 0 && (\r\n        <Tags>\r\n          {meme.tags.map(tag => (\r\n            <Tag key={tag} onClick={() => navigate(`/explore?tag=${tag}`)}>#{tag}</Tag>\r\n          ))}\r\n        </Tags>\r\n      )}\r\n\r\n      <Actions>\r\n        <ActionGroup>\r\n          <ActionButton \r\n            onClick={handleLike} \r\n            $active={isLiked}\r\n            $color=\"var(--primary)\"\r\n          >\r\n            <FaSmile /> {likeCount}\r\n          </ActionButton>\r\n          <ActionButton \r\n            onClick={handleDislike} \r\n            $active={!isLiked && likeCount > 0}\r\n            $color=\"var(--text)\"\r\n          >\r\n            <FaAngry /> \r\n          </ActionButton>\r\n          <ActionButton \r\n            onClick={() => setShowComments(!showComments)}\r\n            $active={showComments}\r\n            $color=\"#f000\"\r\n          >\r\n            <FiMessageSquare /> {commentCount}\r\n          </ActionButton>\r\n        </ActionGroup>\r\n        \r\n        <ActionGroup>\r\n          <RepostButton \r\n            onClick={handleRepost}\r\n            $active={isReposted}\r\n            disabled={isReposted || isCheckingRepost || isRepost || (meme.author?._id === user?._id)}\r\n            title={meme.author?._id === user?._id ? \"Você não pode repostar seu próprio conteúdo\" : \"\"}\r\n          >\r\n            {isCheckingRepost ? (\r\n              <FiRepeat />\r\n            ) : isReposted ? (\r\n              <FaCheck />\r\n            ) : (\r\n              <FiRepeat />\r\n            )} {repostCount}\r\n          </RepostButton>\r\n          <ActionButton>\r\n            <FiShare2 />\r\n          </ActionButton>\r\n        </ActionGroup>\r\n      </Actions>\r\n\r\n      {showComments && (\r\n        <CommentSection \r\n          memeId={meme._id}\r\n          onCommentSubmit={handleCommentSubmit}\r\n        />\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default MemeCard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,CAAAC,MAAM,EAAIC,SAAS,KAAQ,mBAAmB,CACrD,OAASC,eAAe,CAAEC,QAAQ,CAAEC,QAAQ,KAAQ,gBAAgB,CACpE,OAASC,OAAO,CAAEC,OAAO,CAAEC,OAAO,KAAQ,gBAAgB,CAC1D,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,OAASC,OAAO,KAAQ,yBAAyB,CACjD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,CAAEC,OAAO,KAAQ,gBAAgB,CAErD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,KAAK,CAAGjB,SAAS;AACvB;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAkB,KAAK,CAAGlB,SAAS;AACvB;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAmB,QAAQ,CAAGnB,SAAS;AAC1B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAoB,kBAAkB,CAAGpB,SAAS;AACpC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAqB,MAAM,CAAGrB,SAAS;AACxB;AACA;AACA,CAAC,CAED;AACA,KAAM,CAAAsB,aAAa,CAAGvB,MAAM,CAACwB,MAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGzB,MAAM,CAAC0B,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG3B,MAAM,CAACwB,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAI,IAAI,CAAG5B,MAAM,CAAC0B,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAG,WAAW,CAAG7B,MAAM,CAAC0B,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeN,QAAQ;AACvB;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAU,MAAM,CAAG9B,MAAM,CAAC0B,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAK,MAAM,CAAG/B,MAAM,CAACgC,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBX,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAY,QAAQ,CAAGjC,MAAM,CAACkC,IAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGnC,MAAM,CAACgC,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAI,eAAe,CAAGpC,MAAM,CAACqC,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGtC,MAAM,CAAC0B,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAa,cAAc,CAAGvC,MAAM,CAAC0B,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAc,UAAU,CAAGxC,MAAM,CAAC0B,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAe,aAAa,CAAGzC,MAAM,CAAC0B,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBJ,MAAM;AACvB;AACA,CAAC,CAED,KAAM,CAAAoB,aAAa,CAAG1C,MAAM,CAACwB,MAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAmB,WAAW,CAAG3C,MAAM,CAAC0B,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAkB,QAAQ,CAAG5C,MAAM,CAAC0B,GAAG;AAC3B;AACA;AACA;AACA;AACA,WAAWmB,KAAK,EAAIA,KAAK,CAACC,SAAS,EAAI,IAAI;AAC3C;AACA;AACA,CAAC,CAED,KAAM,CAAAC,WAAW,CAAG/C,MAAM,CAACkC,IAAI;AAC/B;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAc,OAAO,CAAGhD,MAAM,CAACiD,CAAC;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,IAAI,CAAGlD,MAAM,CAAC0B,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAyB,GAAG,CAAGnD,MAAM,CAACkC,IAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAkB,OAAO,CAAGpD,MAAM,CAAC0B,GAAG;AAC1B;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA2B,WAAW,CAAGrD,MAAM,CAAC0B,GAAG;AAC9B;AACA;AACA,CAAC,CAED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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}