{"ast":null,"code":"// Substitua o conteúdo do arquivo por:\nimport styled from'styled-components';import{Link}from'react-router-dom';import{FaPlay}from'react-icons/fa';import MemeOptions from'./MemeOptions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ThumbnailContainer=styled(Link)`\n  display: block;\n  border-radius: 8px;\n  overflow: hidden;\n  position: relative;\n  aspect-ratio: 1;\n  background: #f5f5f5;\n  transition: transform 0.3s, box-shadow 0.3s;\n  \n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: 0 8px 20px rgba(0,0,0,0.15);\n  }\n`;const ThumbnailImage=styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s;\n`;const VideoOverlay=styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.3);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  transition: opacity 0.3s;\n  \n  ${ThumbnailContainer}:hover & {\n    opacity: 1;\n  }\n`;const PlayIcon=styled.div`\n  width: 40px;\n  height: 40px;\n  background: rgba(255, 69, 0, 0.9);\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n`;const RepostBadge=styled.div`\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  background: rgba(0,0,0,0.7);\n  color: white;\n  padding: 3px 6px;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  z-index: 1;\n`;const MemeThumbnail=_ref=>{let{meme,isOwner,onDelete}=_ref;const getMediaUrl=()=>{if(!meme.mediaUrl)return'https://placehold.co/600x400?text=Imagem+não+carregada';// Se a URL já é completa, converte para HTTPS se necessário\nif(meme.mediaUrl.startsWith('http')){// Substitui 'http://' por 'https://' se necessário\nreturn meme.mediaUrl.replace(/^http:\\/\\//i,'https://');}// Para URLs relativas, monta a URL completa com HTTPS\nconst cleanPath=meme.mediaUrl.startsWith('/')?meme.mediaUrl:`/${meme.mediaUrl}`;return`https://api.jokesteronline.org${cleanPath}`;};return/*#__PURE__*/_jsxs(ThumbnailContainer,{to:`/memes/${meme._id}`,children:[isOwner&&/*#__PURE__*/_jsx(MemeOptions,{memeId:meme._id,onDelete:onDelete,onClick:e=>e.preventDefault()// Previne navegação ao clicar no menu\n}),/*#__PURE__*/_jsx(ThumbnailImage,{src:getMediaUrl(),alt:meme.caption||'Meme thumbnail',crossOrigin:\"anonymous\",onError:e=>{e.target.src='https://placehold.co/600x400?text=Imagem+não+carregada';e.target.onerror=null;}}),meme.mediaType==='video'&&/*#__PURE__*/_jsx(VideoOverlay,{children:/*#__PURE__*/_jsx(PlayIcon,{children:/*#__PURE__*/_jsx(FaPlay,{size:14})})}),meme.isRepost&&/*#__PURE__*/_jsx(RepostBadge,{children:\"Repost\"})]});};export default MemeThumbnail;","map":{"version":3,"names":["styled","Link","FaPlay","MemeOptions","jsx","_jsx","jsxs","_jsxs","ThumbnailContainer","ThumbnailImage","img","VideoOverlay","div","PlayIcon","RepostBadge","MemeThumbnail","_ref","meme","isOwner","onDelete","getMediaUrl","mediaUrl","startsWith","replace","cleanPath","to","_id","children","memeId","onClick","e","preventDefault","src","alt","caption","crossOrigin","onError","target","onerror","mediaType","size","isRepost"],"sources":["C:/Users/drrod/OneDrive/Área de Trabalho/jokersta_apk/src/components/MemeThumbnail.jsx"],"sourcesContent":["// Substitua o conteúdo do arquivo por:\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { FaPlay } from 'react-icons/fa';\nimport MemeOptions from './MemeOptions';\n\nconst ThumbnailContainer = styled(Link)`\n  display: block;\n  border-radius: 8px;\n  overflow: hidden;\n  position: relative;\n  aspect-ratio: 1;\n  background: #f5f5f5;\n  transition: transform 0.3s, box-shadow 0.3s;\n  \n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: 0 8px 20px rgba(0,0,0,0.15);\n  }\n`;\n\nconst ThumbnailImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s;\n`;\n\nconst VideoOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.3);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  transition: opacity 0.3s;\n  \n  ${ThumbnailContainer}:hover & {\n    opacity: 1;\n  }\n`;\n\nconst PlayIcon = styled.div`\n  width: 40px;\n  height: 40px;\n  background: rgba(255, 69, 0, 0.9);\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n`;\n\nconst RepostBadge = styled.div`\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  background: rgba(0,0,0,0.7);\n  color: white;\n  padding: 3px 6px;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  z-index: 1;\n`;\n\nconst MemeThumbnail = ({ meme, isOwner, onDelete }) => {\n  const getMediaUrl = () => {\n    if (!meme.mediaUrl) return 'https://placehold.co/600x400?text=Imagem+não+carregada';\n    \n    // Se a URL já é completa, converte para HTTPS se necessário\n    if (meme.mediaUrl.startsWith('http')) {\n      // Substitui 'http://' por 'https://' se necessário\n      return meme.mediaUrl.replace(/^http:\\/\\//i, 'https://');\n    }\n    \n    // Para URLs relativas, monta a URL completa com HTTPS\n    const cleanPath = meme.mediaUrl.startsWith('/') ? meme.mediaUrl : `/${meme.mediaUrl}`;\n    return `https://api.jokesteronline.org${cleanPath}`;\n  };\n\n  return (\n    <ThumbnailContainer to={`/memes/${meme._id}`}>\n      {isOwner && (\n        <MemeOptions \n          memeId={meme._id} \n          onDelete={onDelete}\n          onClick={(e) => e.preventDefault()} // Previne navegação ao clicar no menu\n        />\n      )}\n      \n      <ThumbnailImage \n        src={getMediaUrl()}\n        alt={meme.caption || 'Meme thumbnail'}\n        crossOrigin=\"anonymous\"\n        onError={(e) => {\n          e.target.src = 'https://placehold.co/600x400?text=Imagem+não+carregada';\n          e.target.onerror = null;\n        }}\n      />\n      \n      {meme.mediaType === 'video' && (\n        <VideoOverlay>\n          <PlayIcon>\n            <FaPlay size={14} />\n          </PlayIcon>\n        </VideoOverlay>\n      )}\n      \n      {meme.isRepost && (\n        <RepostBadge>Repost</RepostBadge>\n      )}\n    </ThumbnailContainer>\n  );\n};\n\nexport default MemeThumbnail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}